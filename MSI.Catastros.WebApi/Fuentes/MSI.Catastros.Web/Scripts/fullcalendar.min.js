/*!
 * FullCalendar v1.6.3
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(n,t){function vt(t){n.extend(!0,k,t)}function li(u,f,e){function ei(n){a?g()&&(ct(),pt(n)):oi()}function oi(){fi=f.theme?"ui":"fc";u.addClass("fc");f.isRTL?u.addClass("fc-rtl"):u.addClass("fc-ltr");f.theme&&u.addClass("ui-widget");a=n("<div class='fc-content' style='position:relative'/>").prependTo(u);p=new ai(h,f);w=p.render();w&&u.prepend(w);yt(f.defaultView);f.handleWindowResize&&n(window).resize(dt);vt()||at()}function at(){setTimeout(function(){!o.start&&vt()&&y()},0)}function si(){o&&(nt("viewDestroy",o,o,o.element),o.triggerEventDestroy());n(window).unbind("resize",dt);p.destroy();a.remove();u.removeClass("fc fc-rtl ui-widget")}function g(){return u.is(":visible")}function vt(){return n("body").is(":visible")}function yt(n){o&&n==o.name||hi(n)}function hi(t){v++;o&&(nt("viewDestroy",o,o,o.element),ft(),o.triggerEventDestroy(),ti(),o.element.remove(),p.deactivateButton(o.name));p.activateButton(t);o=new s[t](n("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(a),h);y();ii();v--}function y(n){(!o.start||n||l<o.start||l>=o.end)&&g()&&pt(n)}function pt(n){v++;o.start&&(nt("viewDestroy",o,o,o.element),ft(),ut());ti();o.render(l,n||0);kt();ii();(o.afterRender||ur)();wi();bi();nt("viewRender",o,o,o.element);o.trigger("viewDisplay",et);v--;li()}function wt(){g()&&(ft(),ut(),ct(),kt(),tt())}function ct(){k=f.contentHeight?f.contentHeight:f.height?f.height-(w?w.height():0)-b(a):Math.round(a.width()/Math.max(f.aspectRatio,.5))}function kt(){k===t&&ct();v++;o.setHeight(k);o.setWidth(a.width());v--;ot=u.outerWidth()}function dt(){if(!v)if(o.start){var n=++lt;setTimeout(function(){n==lt&&!v&&g()&&ot!=(ot=u.outerWidth())&&(v++,wt(),o.trigger("windowResize",et),v--)},200)}else at()}function ci(){ut();ni()}function gt(n){ut();tt(n)}function tt(n){g()&&(o.setEventData(ht),o.renderEvents(ht,n),o.trigger("eventAfterAllRender"))}function ut(){o.triggerEventDestroy();o.clearEvents();o.clearEventData()}function li(){!f.lazyFetching||ri(o.visStart,o.visEnd)?ni():tt()}function ni(){ui(o.visStart,o.visEnd)}function yi(n){ht=n;tt()}function pi(n){gt(n)}function wi(){p.updateTitle(o.title)}function bi(){var n=new Date;n>=o.start&&n<o.end?p.disableButton("today"):p.enableButton("today")}function ki(n,i,r){o.select(n,i,r===t?!0:r)}function ft(){o&&o.unselect()}function di(){y(-1)}function gi(){y(1)}function nr(){it(l,-1);y()}function tr(){it(l,1);y()}function ir(){l=new Date;y()}function rr(n,t,r){n instanceof Date?l=i(n):bt(l,n,t,r);y()}function fr(n,i,u){n!==t&&it(l,n);i!==t&&rt(l,i);u!==t&&r(l,u);y()}function er(){return i(l)}function ti(){a.css({width:"100%",height:a.height(),overflow:"hidden"})}function ii(){a.css({width:"",height:"",overflow:""})}function or(){return o}function sr(n,i){if(i===t)return f[n];(n=="height"||n=="contentHeight"||n=="aspectRatio")&&(f[n]=i,wt())}function nt(n,t){if(f[n])return f[n].apply(t||et,Array.prototype.slice.call(arguments,2))}var h=this;h.options=f;h.render=ei;h.destroy=si;h.refetchEvents=ci;h.reportEvents=yi;h.reportEventChange=pi;h.rerenderEvents=gt;h.changeView=yt;h.select=ki;h.unselect=ft;h.prev=di;h.next=gi;h.prevYear=nr;h.nextYear=tr;h.today=ir;h.gotoDate=rr;h.incrementDate=fr;h.formatDate=function(n,t){return c(n,t,f)};h.formatDates=function(n,t,i){return st(n,t,i,f)};h.getDate=er;h.getView=or;h.option=sr;h.trigger=nt;vi.call(h,f,e);var ri=h.isFetchNeeded,ui=h.fetchEvents,et=u[0],p,w,a,fi,o,ot,k,lt=0,v=0,l=new Date,ht=[],d;bt(l,f.year,f.month,f.date);f.droppable&&n(document).bind("dragstart",function(t,i){var u=t.target,e=n(u),r;e.parents(".fc").length||(r=f.dropAccept,(n.isFunction(r)?r.call(u,e):e.is(r))&&(d=u,o.dragStart(d,t,i)))}).bind("dragstop",function(n,t){d&&(o.dragStop(d,n,t),d=null)})}function ai(t,i){function o(){r=i.theme?"ui":"fc";var t=i.header;if(t)return u=n("<table class='fc-header' style='width:100%'/>").append(n("<tr/>").append(e("left")).append(e("center")).append(e("right")))}function h(){u.remove()}function e(u){var f=n("<td class='fc-header-"+u+"'/>"),e=i.header[u];return e&&n.each(e.split(" "),function(u){u>0&&f.append("<span class='fc-header-space'/>");var e;n.each(this.split(","),function(u,o){var c;if(o=="title")f.append("<span class='fc-header-title'><h2>&nbsp;<\/h2><\/span>"),e&&e.addClass(r+"-corner-right"),e=null;else if(t[o]?c=t[o]:s[o]&&(c=function(){h.removeClass(r+"-state-hover");t.changeView(o)}),c){var l=i.theme?lt(i.buttonIcons,o):null,a=lt(i.buttonText,o),h=n("<span class='fc-button fc-button-"+o+" "+r+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/><\/span>":a)+"<\/span>").click(function(){h.hasClass(r+"-state-disabled")||c()}).mousedown(function(){h.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-down")}).mouseup(function(){h.removeClass(r+"-state-down")}).hover(function(){h.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-hover")},function(){h.removeClass(r+"-state-hover").removeClass(r+"-state-down")}).appendTo(f);d(h);e||h.addClass(r+"-corner-left");e=h}});e&&e.addClass(r+"-corner-right")}),f}function c(n){u.find("h2").html(n)}function l(n){u.find("span.fc-button-"+n).addClass(r+"-state-active")}function a(n){u.find("span.fc-button-"+n).removeClass(r+"-state-active")}function v(n){u.find("span.fc-button-"+n).addClass(r+"-state-disabled")}function y(n){u.find("span.fc-button-"+n).removeClass(r+"-state-disabled")}var f=this,u,r;f.render=o;f.destroy=h;f.updateTitle=c;f.activateButton=l;f.deactivateButton=a;f.disableButton=v;f.enableButton=y;u=n([])}function vi(r,u){function ht(n,t){return!h||n<h||t>l}function ct(n,t){var u,r,i;for(h=n,l=t,e=[],u=++b,r=s.length,y=r,i=0;i<r;i++)g(s[i],u)}function g(t,i){tt(t,function(u){if(i==b){if(u){r.eventDataTransform&&(u=n.map(u,r.eventDataTransform));t.eventDataTransform&&(u=n.map(u,t.eventDataTransform));for(var f=0;f<u.length;f++)u[f].source=t,v(u[f]);e=e.concat(u)}y--;y||c(e)}})}function tt(t,u){for(var v=f.sourceFetchers,s,e,y,o=0;o<v.length;o++){if(s=v[o](t,h,l,u),s===!0)return;if(typeof s=="object"){tt(s,u);return}}if(e=t.events,e)n.isFunction(e)?(rt(),e(i(h),i(l),function(n){u(n);ut()})):n.isArray(e)?u(e):u();else if(y=t.url,y){var b=t.success,k=t.error,d=t.complete,g=n.isFunction(t.data)?t.data():t.data;var c=n.extend({},g||{}),p=a(t.startParam,r.startParam),w=a(t.endParam,r.endParam);p&&(c[p]=Math.round(+h/1e3));w&&(c[w]=Math.round(+l/1e3));rt();n.ajax(n.extend({},yt,t,{data:c,success:function(t){t=t||[];var i=nt(b,this,arguments);n.isArray(i)&&(t=i);u(t)},error:function(){nt(k,this,arguments);u()},complete:function(){nt(d,this,arguments);ut()}}))}else u()}function lt(n){n=it(n);n&&(y++,g(n,b))}function it(t){return n.isFunction(t)||n.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t}),typeof t=="object"?(dt(t),s.push(t),t):void 0}function at(t){s=n.grep(s,function(n){return!et(n,t)});e=n.grep(e,function(n){return!et(n.source,t)});c(e)}function vt(n){for(var f=e.length,t,r=st().defaultEventEnd,o=n.start-n._start,u=n.end?n.end-(n._end||r(n)):0,i=0;i<f;i++)t=e[i],t._id==n._id&&t!=n&&(t.start=new Date(+t.start+o),t.end=n.end?t.end?new Date(+t.end+u):new Date(+r(t)+u):null,t.title=n.title,t.url=n.url,t.allDay=n.allDay,t.className=n.className,t.editable=n.editable,t.color=n.color,t.backgroundColor=n.backgroundColor,t.borderColor=n.borderColor,t.textColor=n.textColor,v(t));v(n);c(e)}function wt(n,t){v(n);n.source||(t&&(w.events.push(n),n.source=w),e.push(n));c(e)}function bt(t){var r,i;if(t)for(n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),e=n.grep(e,t,!0),i=0;i<s.length;i++)n.isArray(s[i].events)&&(s[i].events=n.grep(s[i].events,t,!0));else for(e=[],i=0;i<s.length;i++)n.isArray(s[i].events)&&(s[i].events=[]);c(e)}function kt(t){return n.isFunction(t)?n.grep(e,t):t?(t+="",n.grep(e,function(n){return n._id==t})):e}function rt(){d++||k("loading",null,!0)}function ut(){--d||k("loading",null,!1)}function v(n){var u=n.source||{},f=a(u.ignoreTimezone,r.ignoreTimezone);n._id=n._id||(n.id===t?"_fc"+pt++:n.id+"");n.date&&(n.start||(n.start=n.date),delete n.date);n._start=i(n.start=ft(n.start,f));n.end=ft(n.end,f);n.end&&n.end<=n.start&&(n.end=null);n._end=n.end?i(n.end):null;n.allDay===t&&(n.allDay=a(u.allDayDefault,r.allDayDefault));n.className?typeof n.className=="string"&&(n.className=n.className.split(/\s+/)):n.className=[]}function dt(n){var i,t;for(n.className?typeof n.className=="string"&&(n.className=n.className.split(/\s+/)):n.className=[],i=f.sourceNormalizers,t=0;t<i.length;t++)i[t](n)}function et(n,t){return n&&t&&ot(n)==ot(t)}function ot(n){return(typeof n=="object"?n.events||n.url:"")||n}var o=this,p;o.isFetchNeeded=ht;o.fetchEvents=ct;o.addEventSource=lt;o.removeEventSource=at;o.updateEvent=vt;o.renderEvent=wt;o.removeEvents=bt;o.clientEvents=kt;o.normalizeEvent=v;var k=o.trigger,st=o.getView,c=o.reportEvents,w={events:[]},s=[w],h,l,b=0,y=0,d=0,e=[];for(p=0;p<u.length;p++)it(u[p])}function it(n,t,i){return n.setFullYear(n.getFullYear()+t),i||h(n),n}function rt(n,t,r){if(+n){var f=n.getMonth()+t,u=i(n);for(u.setDate(1),u.setMonth(f),n.setMonth(f),r||h(n);n.getMonth()!=u.getMonth();)n.setDate(n.getDate()+(n<u?1:-1))}return n}function r(n,t,r){if(+n){var f=n.getDate()+t,u=i(n);u.setHours(9);u.setDate(f);n.setDate(f);r||h(n);ut(n,u)}return n}function ut(n,t){if(+n)while(n.getDate()!=t.getDate())n.setTime(+n+(n<t?1:-1)*pi)}function u(n,t){return n.setMinutes(n.getMinutes()+t),n}function h(n){return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}function i(n,t){return t?h(new Date(+n)):new Date(+n)}function wt(){var t=0,n;do n=new Date(1970,t++,1);while(n.getHours());return n}function y(n,t){return Math.round((i(n,!0)-i(t,!0))/yi)}function bt(n,i,r,u){i!==t&&i!=n.getFullYear()&&(n.setDate(1),n.setMonth(0),n.setFullYear(i));r!==t&&r!=n.getMonth()&&(n.setDate(1),n.setMonth(r));u!==t&&n.setDate(u)}function ft(n,i){return typeof n=="object"?n:typeof n=="number"?new Date(n*1e3):typeof n=="string"?n.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(n)*1e3):(i===t&&(i=!0),et(n,i)||(n?new Date(n):null)):null}function et(n,t){var i=n.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/),r,u,f;return i?(r=new Date(i[1],0,1),t||!i[13]?(u=new Date(i[1],0,1,9,0),i[3]&&(r.setMonth(i[3]-1),u.setMonth(i[3]-1)),i[5]&&(r.setDate(i[5]),u.setDate(i[5])),ut(r,u),i[7]&&r.setHours(i[7]),i[8]&&r.setMinutes(i[8]),i[10]&&r.setSeconds(i[10]),i[12]&&r.setMilliseconds(Number("0."+i[12])*1e3),ut(r,u)):(r.setUTCFullYear(i[1],i[3]?i[3]-1:0,i[5]||1),r.setUTCHours(i[7]||0,i[8]||0,i[10]||0,i[12]?Number("0."+i[12])*1e3:0),i[14]&&(f=Number(i[16])*60+(i[18]?Number(i[18]):0),f*=i[15]=="-"?1:-1,r=new Date(+r+f*6e4))),r):null}function ot(n){var t,i;return typeof n=="number"?n*60:typeof n=="object"?n.getHours()*60+n.getMinutes():(t=n.match(/(\d+)(?::(\d+))?\s*(\w+)?/),t?(i=parseInt(t[1],10),t[3]&&(i%=12,t[3].toLowerCase().charAt(0)=="p"&&(i+=12)),i*60+(t[2]?parseInt(t[2],10):0)):void 0)}function c(n,t,i){return st(n,null,t,i)}function st(n,t,i,r){var v,h;r=r||k;for(var e=n,a=t,l=i.length,o,u,y,s="",f=0;f<l;f++)if(o=i.charAt(f),o=="'"){for(u=f+1;u<l;u++)if(i.charAt(u)=="'"){e&&(s+=u==f+1?"'":i.substring(f+1,u),f=u);break}}else if(o=="("){for(u=f+1;u<l;u++)if(i.charAt(u)==")"){h=c(e,i.substring(f+1,u),r);parseInt(h.replace(/\D/,""),10)&&(s+=h);f=u;break}}else if(o=="["){for(u=f+1;u<l;u++)if(i.charAt(u)=="]"){v=i.substring(f+1,u);h=c(e,v,r);h!=c(a,v,r)&&(s+=h);f=u;break}}else if(o=="{")e=t,a=n;else if(o=="}")e=n,a=t;else{for(u=l;u>f;u--)if(y=ht[i.substring(f,u)]){e&&(s+=y(e,r));f=u-1;break}u==f&&e&&(s+=o)}return s}function bi(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}function p(n){return n.end?ki(n.end,n.allDay):r(i(n.start),1)}function ki(n,t){return n=i(n),t||n.getHours()||n.getMinutes()?r(n,1):h(n)}function kt(i,r,u){i.unbind("mouseover").mouseover(function(i){for(var f=i.target,o,s,e;f!=this;)o=f,f=f.parentNode;(s=o._fci)!==t&&(o._fci=t,e=r[s],u(e.event,e.element,e),n(i.target).trigger(i));i.stopPropagation()})}function w(t,i,r){for(var u=0,f;u<t.length;u++)f=n(t[u]),f.width(Math.max(0,i-ct(f,r)))}function dt(t,i,r){for(var u=0,f;u<t.length;u++)f=n(t[u]),f.height(Math.max(0,i-b(f,r)))}function ct(n,t){return di(n)+nr(n)+(t?gi(n):0)}function di(t){return(parseFloat(n.css(t[0],"paddingLeft",!0))||0)+(parseFloat(n.css(t[0],"paddingRight",!0))||0)}function gi(t){return(parseFloat(n.css(t[0],"marginLeft",!0))||0)+(parseFloat(n.css(t[0],"marginRight",!0))||0)}function nr(t){return(parseFloat(n.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(n.css(t[0],"borderRightWidth",!0))||0)}function b(n,t){return tr(n)+rr(n)+(t?ir(n):0)}function tr(t){return(parseFloat(n.css(t[0],"paddingTop",!0))||0)+(parseFloat(n.css(t[0],"paddingBottom",!0))||0)}function ir(t){return(parseFloat(n.css(t[0],"marginTop",!0))||0)+(parseFloat(n.css(t[0],"marginBottom",!0))||0)}function rr(t){return(parseFloat(n.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(n.css(t[0],"borderBottomWidth",!0))||0)}function ur(){}function gt(n,t){return n-t}function ni(n){return Math.max.apply(Math,n)}function l(n){return(n<10?"0":"")+n}function lt(n,i){if(n[i]!==t)return n[i];for(var f=i.split(/(?=[A-Z])/),r=f.length-1,u;r>=0;r--)if(u=n[f[r].toLowerCase()],u!==t)return u;return n[""]}function e(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function d(n){n.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function g(n){n.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function ti(n,t){var i=n.source||{},u=n.color,f=i.color,e=t("eventColor"),o=n.backgroundColor||u||i.backgroundColor||f||t("eventBackgroundColor")||e,s=n.borderColor||u||i.borderColor||f||t("eventBorderColor")||e,h=n.textColor||i.textColor||t("eventTextColor"),r=[];return o&&r.push("background-color:"+o),s&&r.push("border-color:"+s),h&&r.push("color:"+h),r.join(";")}function nt(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;u<t.length;u++)f=t[u].apply(i,r)||f;return f}}function a(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==t)return arguments[n]}function fr(n,t){function c(n,t){var p,l,w,a,c,b,v;t&&(rt(n,t),n.setDate(1));p=f("firstDay");l=i(n,!0);l.setDate(1);w=rt(i(l),1);a=i(l);r(a,-((a.getDay()-p+7)%7));e(a);c=i(w);r(c,(7-c.getDay()+p)%7);e(c,-1,!0);b=s();v=Math.round(y(c,a)/7);f("weekMode")=="fixed"&&(r(c,(6-v)*7),v=6);u.title=h(l,f("titleFormat"));u.start=l;u.end=w;u.visStart=a;u.visEnd=c;o(v,b,!0)}var u=this;u.render=c;at.call(u,n,t,"month");var f=u.opt,o=u.renderBasic,e=u.skipHiddenDays,s=u.getCellsPerWeek,h=t.formatDate}function er(n,t){function c(n,t){var c,y;t&&r(n,t*7);var l=r(i(n),-((n.getDay()-f("firstDay")+7)%7)),v=r(i(l),7),a=i(l);e(a);c=i(v);e(c,-1,!0);y=s();u.start=l;u.end=v;u.visStart=a;u.visEnd=c;u.title=h(a,r(i(c),-1),f("titleFormat"));o(1,y,!1)}var u=this;u.render=c;at.call(u,n,t,"basicWeek");var f=u.opt,o=u.renderBasic,e=u.skipHiddenDays,s=u.getCellsPerWeek,h=t.formatDates}function or(n,t){function h(n,t){t&&r(n,t);o(n,t<0?-1:1);var h=i(n,!0),c=r(i(h),1);u.title=s(n,f("titleFormat"));u.start=u.visStart=h;u.end=u.visEnd=c;e(1,1,!1)}var u=this;u.render=h;at.call(u,n,t,"basicDay");var f=u.opt,e=u.renderBasic,o=u.skipHiddenDays,s=t.formatDate}function at(t,u,f){function bi(n,t,i){c=n;l=t;ii=i;ki();rt||di();gi()}function ki(){nt=a("theme")?"ui":"fc";ri=a("columnFormat");ct=a("weekNumbers");fi=a("weekNumberTitle");wt=a("weekNumberCalculation")!="iso"?"w":"W"}function di(){gt=n("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function gi(){var i=nr();k&&k.remove();k=n(i).appendTo(t);y=k.find("thead");vt=y.find(".fc-day-header");rt=k.find("tbody");s=rt.find("tr");ut=rt.find(".fc-day");bt=s.find("td:first-child");kt=s.eq(0).find(".fc-day > div");dt=s.eq(0).find(".fc-day-content > div");g(y.add(y.find("tr")));g(s);s.eq(0).addClass("fc-first");s.filter(":last").addClass("fc-last");ut.each(function(t,i){var r=p(Math.floor(t/l),t%l);it("dayRender",o,r,n(i))});ci(ut)}function nr(){return"<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+tr()+ir()+"<\/table>"}function tr(){var r=nt+"-widget-header",n="",t,i;for(n+="<thead><tr>",ct&&(n+="<th class='fc-week-number "+r+"'>"+e(fi)+"<\/th>"),t=0;t<l;t++)i=p(0,t),n+="<th class='fc-day-header fc-"+v[i.getDay()]+" "+r+"'>"+e(at(i,ri))+"<\/th>";return n+"<\/tr><\/thead>"}function ir(){var u=nt+"-widget-content",n="",t,i,r;for(n+="<tbody>",t=0;t<c;t++){for(n+="<tr class='fc-week'>",ct&&(r=p(t,0),n+="<td class='fc-week-number "+u+"'><div>"+e(at(r,wt))+"<\/div><\/td>"),i=0;i<l;i++)r=p(t,i),n+=rr(r);n+="<\/tr>"}return n+"<\/tbody>"}function rr(n){var u=nt+"-widget-content",f=o.start.getMonth(),r=h(new Date),i="",t=["fc-day","fc-"+v[n.getDay()],u];return n.getMonth()!=f&&t.push("fc-other-month"),+n==+r?t.push("fc-today",nt+"-state-highlight"):n<r?t.push("fc-past"):t.push("fc-future"),i+="<td class='"+t.join(" ")+"' data-date='"+at(n,"yyyy-MM-dd")+"'><div>",ii&&(i+="<div class='fc-day-number'>"+n.getDate()+"<\/div>"),i+"<div class='fc-day-content'><div style='position:relative'>&nbsp;<\/div><\/div><\/div><\/td>"}function ur(t){ti=t;var r=ti-y.height(),i,u,f;a("weekMode")=="variable"?i=u=Math.floor(r/(c==1?2:6)):(i=Math.floor(r/c),u=r-i*(c-1));bt.each(function(t,r){t<c&&(f=n(r),f.find("> div").css("min-height",(t==c-1?u:i)-b(f)))})}function fr(n){ni=n;st.clear();ht.clear();pt=0;ct&&(pt=y.find("th.fc-week-number").outerWidth());yt=Math.floor((ni-pt)/l);w(vt.slice(0,-1),yt)}function ci(n){n.click(er).mousedown(yi)}function er(t){if(!a("selectable")){var i=et(n(this).data("date"));it("dayClick",this,i,!0,t)}}function li(n,t,i){var f,u,r;for(i&&ft.build(),f=wi(n,t),u=0;u<f.length;u++)r=f[u],ci(ai(r.row,r.leftCol,r.row,r.rightCol))}function ai(n,i,r,u){var f=ft.rect(n,i,r,u,t);return vi(f,t)}function or(n){return i(n)}function hr(n,t){li(n,r(i(t),1),!0)}function cr(){lt()}function lr(n,t,i){var r=pi(n),u=ut[r.row*l+r.col];it("dayClick",u,n,t,i)}function ar(n,t){ot.start(function(n){lt();n&&ai(n.row,n.col,n.row,n.col)},t)}function vr(n,t,i){var r=ot.stop(),u;lt();r&&(u=p(r),it("drop",n,u,!0,t,i))}function yr(n){return i(n.start)}function pr(n){return st.left(n)}function wr(n){return st.right(n)}function br(n){return ht.left(n)}function kr(n){return ht.right(n)}function dr(n){return s.eq(n)}var o=this;o.renderBasic=bi;o.setHeight=ur;o.setWidth=fr;o.renderDayOverlay=li;o.defaultSelectionEnd=or;o.renderSelection=hr;o.clearSelection=cr;o.reportDayClick=lr;o.dragStart=ar;o.dragStop=vr;o.defaultEventEnd=yr;o.getHoverListener=function(){return ot};o.colLeft=pr;o.colRight=wr;o.colContentLeft=br;o.colContentRight=kr;o.getIsCellAllDay=function(){return!0};o.allDayRow=dr;o.getRowCnt=function(){return c};o.getColCnt=function(){return l};o.getColWidth=function(){return yt};o.getDaySegmentContainer=function(){return gt};ui.call(o,t,u,f);oi.call(o);ei.call(o);sr.call(o);var a=o.opt,it=o.trigger,vi=o.renderOverlay,lt=o.clearOverlays,yi=o.daySelectionMousedown,p=o.cellToDate,pi=o.dateToCell,wi=o.rangeToSegments,at=u.formatDate,k,y,vt,rt,s,ut,bt,kt,dt,gt,ni,ti,yt,pt,c,l,ii,ft,ot,st,ht,nt,ri,ct,fi,wt;d(t.addClass("fc-grid"));ft=new si(function(t,i){var f,r,u;vt.each(function(t,e){f=n(e);r=f.offset().left;t&&(u[1]=r);u=[r];i[t]=u});u[1]=r+f.outerWidth();s.each(function(i,e){i<c&&(f=n(e),r=f.offset().top,i&&(u[1]=r),u=[r],t[i]=u)});u[1]=r+f.outerHeight()});ot=new hi(ft);st=new tt(function(n){return kt.eq(n)});ht=new tt(function(n){return dt.eq(n)})}function sr(){function t(t,i){n.renderDayEvents(t,i)}function i(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=t;n.clearEvents=i;fi.call(n)}function hr(n,t){function c(n,t){var c,y;t&&r(n,t*7);var l=r(i(n),-((n.getDay()-f("firstDay")+7)%7)),v=r(i(l),7),a=i(l);e(a);c=i(v);e(c,-1,!0);y=s();u.title=h(a,r(i(c),-1),f("titleFormat"));u.start=l;u.end=v;u.visStart=a;u.visEnd=c;o(y)}var u=this;u.render=c;ii.call(u,n,t,"agendaWeek");var f=u.opt,o=u.renderAgenda,e=u.skipHiddenDays,s=u.getCellsPerWeek,h=t.formatDates}function cr(n,t){function h(n,t){t&&r(n,t);o(n,t<0?-1:1);var h=i(n,!0),c=r(i(h),1);u.title=s(n,f("titleFormat"));u.start=u.visStart=h;u.end=u.visEnd=c;e(1)}var u=this;u.render=h;ii.call(u,n,t,"agendaDay");var f=u.opt,e=u.renderAgenda,o=u.skipHiddenDays,s=t.formatDate}function ii(f,o,s){function lu(n){it=n;au();k?br():vu()}function au(){et=l("theme")?"ui":"fc";yr=l("isRTL");st=ot(l("minTime"));ci=ot(l("maxTime"));pr=l("columnFormat");wr=l("weekNumbers");ir=l("weekNumberTitle");rr=l("weekNumberCalculation")!="iso"?"w":"W";lt=l("snapMinutes")||l("slotMinutes")}function vu(){var e=et+"-widget-header",c=et+"-widget-content",r,t,o,h,s,a=l("slotMinutes")%15==0;for(br(),nt=n("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(f),l("allDaySlot")?(bi=n("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(nt),r="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+e+" fc-agenda-axis'>"+l("allDayText")+"<\/th><td><div class='fc-day-content'><div style='position:relative'/><\/div><\/td><th class='"+e+" fc-agenda-gutter'>&nbsp;<\/th><\/tr><\/table>",ht=n(r).appendTo(nt),ni=ht.find("tr"),kr(ni.find("td")),nt.append("<div class='fc-agenda-divider "+e+"'><div class='fc-agenda-divider-inner'/><\/div>")):bi=n([]),p=n("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(nt),y=n("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(p),cr=n("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(y),r="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",t=wt(),h=u(i(t),ci),u(t,st),nr=0,o=0;t<h;o++)s=t.getMinutes(),r+="<tr class='fc-slot"+o+" "+(s?"fc-minor":"")+"'><th class='fc-agenda-axis "+e+"'>"+(!a||!s?yi(t,l("axisFormat")):"&nbsp;")+"<\/th><td class='"+c+"'><div style='position:relative'>&nbsp;<\/div><\/td><\/tr>",u(t,l("slotMinutes")),nr++;r+="<\/tbody><\/table>";ft=n(r).appendTo(y);ar=ft.find("div:first");ur(ft.find("td"))}function br(){var t=yu();k&&k.remove();k=n(t).appendTo(f);pt=k.find("thead");pi=pt.find("th").slice(1,-1);bt=k.find("tbody");ut=bt.find("td").slice(0,-1);wi=ut.find("> div");or=ut.find(".fc-day-content > div");sr=ut.eq(0);hr=wi.eq(0);g(pt.add(pt.find("tr")));g(bt.add(bt.find("tr")))}function yu(){return"<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+pu()+wu()+"<\/table>"}function pu(){var r=et+"-widget-header",u,n="",t,i;for(n+="<thead><tr>",wr?(t=yi(u,rr),yr?t+=ir:t=ir+t,n+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+e(t)+"<\/th>"):n+="<th class='fc-agenda-axis "+r+"'>&nbsp;<\/th>",i=0;i<it;i++)u=yt(0,i),n+="<th class='fc-"+v[u.getDay()]+" fc-col"+i+" "+r+"'>"+e(yi(u,pr))+"<\/th>";return n+("<th class='fc-agenda-gutter "+r+"'>&nbsp;<\/th><\/tr><\/thead>")}function wu(){var s=et+"-widget-header",f=et+"-widget-content",i,e=h(new Date),n,r,o,t,u="";for(u+="<tbody><tr><th class='fc-agenda-axis "+s+"'>&nbsp;<\/th>",r="",n=0;n<it;n++)i=yt(0,n),t=["fc-col"+n,"fc-"+v[i.getDay()],f],+i==+e?t.push(et+"-state-highlight","fc-today"):i<e?t.push("fc-past"):t.push("fc-future"),o="<td class='"+t.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;<\/div><\/div><\/div><\/td>",r+=o;return u+=r,u+("<td class='fc-agenda-gutter "+f+"'>&nbsp;<\/td><\/tr><\/tbody>")}function bu(n){n===t&&(n=vr);vr=n;tr={};var i=bt.position().top,r=p.position().top,u=Math.min(n-i,ft.height()+r+1);hr.height(u-b(sr));nt.css("top",i);p.height(u-r-1);di=ar.height()+1;gi=l("slotMinutes")/lt;ii=di/gi}function ku(t){var i,r,u;cu=t;ri.clear();fi.clear();i=pt.find("th:first");ht&&(i=i.add(ht.find("th:first")));i=i.add(ft.find("th:first"));ct=0;w(i.width("").each(function(t,i){ct=Math.max(ct,n(i).outerWidth())}),ct);r=k.find(".fc-agenda-gutter");ht&&(r=r.add(ht.find("th.fc-agenda-gutter")));u=p[0].clientWidth;ki=p.width()-u;ki?(w(r,ki),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last");ti=Math.floor((u-ct)/it);w(pi.slice(0,-1),ti)}function du(){function u(){p.scrollTop(r)}var n=wt(),t=i(n),r;t.setHours(l("firstHour"));r=vt(n,t)+1;u();setTimeout(u,0)}function gu(){du()}function kr(n){n.click(dr).mousedown(ou)}function ur(n){n.click(dr).mousedown(hf)}function dr(n){var r,f;if(!l("selectable")){var i=Math.min(it-1,Math.floor((n.pageX-k.offset().left-ct)/ti)),t=yt(0,i),u=this.parentNode.className.match(/fc-slot(\d+)/);u?(r=parseInt(u[1])*l("slotMinutes"),f=Math.floor(r/60),t.setHours(f),t.setMinutes(r%60+st),kt("dayClick",ut[i],t,!1,n)):kt("dayClick",ut[i],t,!0,n)}}function gr(n,t,i){var f,u,r;for(i&&rt.build(),f=hu(n,t),u=0;u<f.length;u++)r=f[u],kr(nu(r.row,r.leftCol,r.row,r.rightCol))}function nu(n,t,i,r){var u=rt.rect(n,t,i,r,nt);return fr(u,nt)}function tu(n,t){for(var u=0;u<it;u++){var f=yt(0,u),c=r(i(f),1),o=new Date(Math.max(f,n)),s=new Date(Math.min(c,t));if(o<s){var e=rt.rect(0,u,0,u,y),h=vt(f,o),l=vt(f,s);e.top=h;e.height=l-h;ur(fr(e,y))}}}function nf(n){return ri.left(n)}function tf(n){return fi.left(n)}function rf(n){return ri.right(n)}function uf(n){return fi.right(n)}function li(n){return l("allDaySlot")&&!n.row}function ai(n){var i=yt(0,n.col),t=n.row;return l("allDaySlot")&&t--,t>=0&&u(i,st+t*lt),i}function vt(n,r){if(n=i(n,!0),r<u(i(n),st))return 0;if(r>=u(i(n),ci))return ft.height();var f=l("slotMinutes"),s=r.getHours()*60+r.getMinutes()-st,e=Math.floor(s/f),o=tr[e];return o===t&&(o=tr[e]=ft.find("tr").eq(e).find("td div")[0].offsetTop),Math.max(0,Math.round(o-1+di*(s%f/f)))}function ff(){return ni}function ef(n){var t=i(n.start);return n.allDay?t:u(t,l("defaultEventMinutes"))}function of(n,t){return t?i(n):u(i(n),l("slotMinutes"))}function sf(n,t,u){u?l("allDaySlot")&&gr(n,r(i(t),1),!0):iu(n,t)}function iu(t,i){var f=l("selectHelper"),u,o;if(rt.build(),f){if(u=er(t).col,u>=0&&u<it){var r=rt.rect(0,u,0,u,y),e=vt(t,t),s=vt(t,i);s>e&&(r.top=e,r.height=s-e,r.left+=2,r.width-=5,n.isFunction(f)?(o=f(t,i),o&&(r.position="absolute",a=n(o).css(r).appendTo(y))):(r.isStart=!0,r.isEnd=!0,a=n(su({title:"",start:t,end:i,className:["fc-select-helper"],editable:!1},r)),a.css("opacity",l("dragOpacity"))),a&&(ur(a),y.append(a),w(a,r.width,!0),dt(a,r.height,!0)))}}else tu(t,i)}function ru(){vi();a&&(a.remove(),a=null)}function hf(t){if(t.which==1&&l("selectable")){eu(t);var r;at.start(function(n,t){if(ru(),n&&n.col==t.col&&!li(n)){var f=ai(t),e=ai(n);r=[f,u(i(f),lt),e,u(i(e),lt)].sort(gt);iu(r[0],r[3])}else r=null},t);n(document).one("mouseup",function(n){at.stop();r&&(+r[0]==+r[1]&&uu(r[0],!1,n),fu(r[0],r[3],!1,n))})}}function uu(n,t,i){kt("dayClick",ut[er(n).col],n,t,i)}function cf(n,t){at.start(function(n){if(vi(),n)if(li(n))nu(n.row,n.col,n.row,n.col);else{var t=ai(n),r=u(i(t),l("defaultEventMinutes"));tu(t,r)}},t)}function lf(n,t,i){var r=at.stop();vi();r&&kt("drop",n,ai(r),li(r),t,i)}var c=this;c.renderAgenda=lu;c.setWidth=ku;c.setHeight=bu;c.afterRender=gu;c.defaultEventEnd=ef;c.timePosition=vt;c.getIsCellAllDay=li;c.allDayRow=ff;c.getCoordinateGrid=function(){return rt};c.getHoverListener=function(){return at};c.colLeft=nf;c.colRight=rf;c.colContentLeft=tf;c.colContentRight=uf;c.getDaySegmentContainer=function(){return bi};c.getSlotSegmentContainer=function(){return cr};c.getMinMinute=function(){return st};c.getMaxMinute=function(){return ci};c.getSlotContainer=function(){return y};c.getRowCnt=function(){return 1};c.getColCnt=function(){return it};c.getColWidth=function(){return ti};c.getSnapHeight=function(){return ii};c.getSnapMinutes=function(){return lt};c.defaultSelectionEnd=of;c.renderDayOverlay=gr;c.renderSelection=sf;c.clearSelection=ru;c.reportDayClick=uu;c.dragStart=cf;c.dragStop=lf;ui.call(c,f,o,s);oi.call(c);ei.call(c);lr.call(c);var l=c.opt,kt=c.trigger,fr=c.renderOverlay,vi=c.clearOverlays,fu=c.reportSelection,eu=c.unselect,ou=c.daySelectionMousedown,su=c.slotSegHtml,yt=c.cellToDate,er=c.dateToCell,hu=c.rangeToSegments,yi=o.formatDate,k,pt,pi,bt,ut,wi,or,sr,hr,nt,bi,ht,ni,p,y,cr,ft,ar,a,cu,vr,ct,ti,ki,di,lt,gi,ii,it,nr,rt,at,ri,fi,tr={},et,yr,st,ci,pr,wr,ir,rr;d(f.addClass("fc-agenda"));rt=new si(function(t,i){function h(n){return Math.max(s,Math.min(c,n))}var u,r,e,f;pi.each(function(t,f){u=n(f);r=u.offset().left;t&&(e[1]=r);e=[r];i[t]=e});e[1]=r+u.outerWidth();l("allDaySlot")&&(u=ni,r=u.offset().top,t[0]=[r,r+u.outerHeight()]);var o=y.offset().top,s=p.offset().top,c=s+p.outerHeight();for(f=0;f<nr*gi;f++)t.push([h(o+ii*f),h(o+ii*(f+1))])});at=new hi(rt);ri=new tt(function(n){return wi.eq(n)});fi=new tt(function(n){return or.eq(n)})}function lr(){function hi(n,t){for(var f=n.length,r=[],u=[],i=0;i<f;i++)n[i].allDay?r.push(n[i]):u.push(n[i]);o("allDaySlot")&&(oi(r,t),yt());yi(li(u),t)}function ci(){pt().empty();nt().empty()}function li(t){for(var y=ut(),a=tt(),p=bt(),e,w=n.map(t,vi),o,f,l,s,c,v=[],r=0;r<y;r++)for(e=h(0,r),u(e,a),o=ar(ai(t,w,e,u(i(e),p-a))),vr(o),f=0;f<o.length;f++)for(l=o[f],s=0;s<l.length;s++)c=l[s],c.col=r,c.level=f,v.push(c);return v}function ai(n,t,r,u){for(var v=[],y=n.length,c,e,o,s,h,l,a,f=0;f<y;f++)c=n[f],e=c.start,o=t[f],o>r&&e<u&&(e<r?(s=i(r),l=!1):(s=e,l=!0),o>u?(h=i(u),a=!1):(h=o,a=!0),v.push({event:c,start:s,end:h,isStart:l,isEnd:a,msLength:h-s}));return v.sort(ii)}function vi(n){return n.end?i(n.end):u(i(n.start),o("defaultEventMinutes"))}function yi(i,r){for(var y=i.length,u,h,w,ut,k,l,a,d,c,g,ft,et="",ot,f,v,tt,rt,p=nt(),st,at=(st=o("isRTL"))?-1:1,e=0;e<y;e++)u=i[e],h=u.event,w=it(u.start,u.start),ut=it(u.start,u.end),k=u.col,l=u.level,a=u.forward||0,d=gt(k),c=ni(k)-d,c=Math.min(c-6,c*.95),g=l?c/(l+a+1):a?(c/(a+1)-6)*2:c,ft=d+c/(l+a+1)*l*at+(st?c-g:0),u.top=w,u.left=ft,u.outerWidth=g,u.outerHeight=ut-w,et+=ht(h,u);for(p[0].innerHTML=et,ot=p.children(),e=0;e<y;e++)u=i[e],h=u.event,f=n(ot[e]),v=s("eventRender",h,h,f),v===!1?f.remove():(v&&v!==!0&&(f.remove(),f=n(v).css({position:"absolute",top:u.top,left:u.left}).appendTo(p)),u.element=f,h._id===r?lt(h,f,u):f[0]._fci=e,ui(h,f));for(kt(p,i,lt),e=0;e<y;e++)u=i[e],(f=u.element)&&(u.vsides=b(f,!0),u.hsides=ct(f,!0),tt=f.find(".fc-event-title"),tt.length&&(u.contentTop=tt[0].offsetTop));for(e=0;e<y;e++)u=i[e],(f=u.element)&&(f[0].style.width=Math.max(0,u.outerWidth-u.hsides)+"px",rt=Math.max(0,u.outerHeight-u.vsides),f[0].style.height=rt+"px",h=u.event,u.contentTop!==t&&rt-u.contentTop<10&&(f.find("div.fc-event-time").text(si(h.start,o("timeFormat"))+" - "+h.title),f.find("div.fc-event-title").remove()),s("eventAfterRender",h,h,f))}function ht(n,t){var r="<",u=n.url,f=ti(n,o),i=["fc-event","fc-event-vert"];return d(n)&&i.push("fc-event-draggable"),t.isStart&&i.push("fc-event-start"),t.isEnd&&i.push("fc-event-end"),i=i.concat(n.className),n.source&&(i=i.concat(n.source.className||[])),r+=u?"a href='"+e(n.url)+"'":"div",r+=" class='"+i.join(" ")+"' style='position:absolute;top:"+t.top+"px;left:"+t.left+"px;"+f+"'><div class='fc-event-inner'><div class='fc-event-time'>"+e(k(n.start,n.end,o("timeFormat")))+"<\/div><div class='fc-event-title'>"+e(n.title||"")+"<\/div><\/div><div class='fc-event-bg'><\/div>",t.isEnd&&g(n)&&(r+="<div class='ui-resizable-handle ui-resizable-s'>=<\/div>"),r+("<\/"+(u?"a":"div")+">")}function lt(n,t,i){var r=t.find("div.fc-event-time");d(n)&&bi(n,t,r);i.isEnd&&g(n)&&ki(n,t,r);vt(n,t)}function pi(n,t,u){function k(){e||(t.width(d).height("").draggable("option","grid",null),e=!0)}var ut=u.isStart,d,f,e=!0,b,g=wt(),nt=ft(),it=l(),rt=a(),st=tt();t.draggable({opacity:o("dragOpacity","month"),revertDuration:o("dragRevertDuration"),start:function(u,l){s("eventDragStart",t,n,u,l);w(n,t);d=t.width();g.start(function(u,s){if(c(),u){f=!1;var l=h(0,s.col),a=h(0,u.col);b=y(a,l);u.row?ut?e&&(t.width(nt-10),dt(t,it*Math.round((n.end?(n.end-n.start)/wi:o("defaultEventMinutes"))/rt)),t.draggable("option","grid",[nt,1]),e=!1):f=!0:(ot(r(i(n.start),b),r(p(n),b)),k());f=f||e&&!b}else k(),f=!0;t.draggable("option","revert",f)},u,"drag")},stop:function(i,r){if(g.stop(),c(),s("eventDragStop",t,n,i,r),f)k(),t.css("filter",""),v(n,t);else{var u=0;e||(u=Math.round((t.offset().top-ri().offset().top)/it)*rt+st-(n.start.getHours()*60+n.start.getMinutes()));et(this,n,b,u,e,i,r)}}})}function bi(n,t,e){function bt(){c();d&&(b?(e.hide(),t.draggable("option","grid",null),ot(r(i(n.start),tt),r(p(n),tt))):(dt(g),e.css("display",""),t.draggable("option","grid",[lt,at])))}function dt(t){var f=u(i(n.start),t),r;n.end&&(r=u(i(n.end),t));e.text(k(f,r,o("timeFormat")))}var ct=f.getCoordinateGrid(),wt=ut(),lt=ft(),at=l(),kt=a(),it,st,d,vt,b,yt,nt,ht,tt,g,pt;t.draggable({scroll:!1,grid:[lt,at],axis:wt==1?"y":!1,opacity:o("dragOpacity"),revertDuration:o("dragRevertDuration"),start:function(i,r){s("eventDragStart",t,n,i,r);w(n,t);ct.build();it=t.position();st=ct.cell(i.pageX,i.pageY);d=vt=!0;b=yt=rt(st);nt=ht=0;tt=0;g=pt=0},drag:function(n,i){var u=ct.cell(n.pageX,n.pageY),f,r,e;d=!!u;d&&(b=rt(u),nt=Math.round((i.position.left-it.left)/lt),nt!=ht&&(f=h(0,st.col),r=st.col+nt,r=Math.max(0,r),r=Math.min(wt-1,r),e=h(0,r),tt=y(e,f)),b||(g=Math.round((i.position.top-it.top)/at)*kt));(d!=vt||b!=yt||nt!=ht||g!=pt)&&(bt(),vt=d,yt=b,ht=nt,pt=g);t.draggable("option","revert",!d)},stop:function(i,r){c();s("eventDragStop",t,n,i,r);d&&(b||tt||g)?et(this,n,tt,b?0:g,b,i,r):(d=!0,b=!1,nt=0,tt=0,g=0,bt(),t.css("filter",""),t.css(it),v(n,t))}})}function ki(n,t,i){var r,f,e=l(),h=a();t.resizable({handles:{s:".ui-resizable-handle"},grid:e,start:function(i,u){r=f=0;w(n,t);s("eventResizeStart",this,n,i,u)},resize:function(s,c){r=Math.round((Math.max(e,t.height())-c.originalSize.height)/e);r!=f&&(i.text(k(n.start,!r&&!n.end?null:u(at(n),h*r),o("timeFormat"))),f=r)},stop:function(i,u){s("eventResizeStop",this,n,i,u);r?ei(this,n,0,h*r,i,u):v(n,t)}})}var f=this;f.renderEvents=hi;f.clearEvents=ci;f.slotSegHtml=ht;fi.call(f);var o=f.opt,s=f.trigger,d=f.isEventDraggable,g=f.isEventResizable,at=f.eventEnd,vt=f.eventElementHandlers,yt=f.setHeight,pt=f.getDaySegmentContainer,nt=f.getSlotSegmentContainer,wt=f.getHoverListener,bt=f.getMaxMinute,tt=f.getMinMinute,it=f.timePosition,rt=f.getIsCellAllDay,gt=f.colContentLeft,ni=f.colContentRight,h=f.cellToDate,ii=f.segmentCompare,ut=f.getColCnt,ft=f.getColWidth,l=f.getSnapHeight,a=f.getSnapMinutes,ri=f.getSlotContainer,ui=f.reportEventElement,v=f.showEvents,w=f.hideEvents,et=f.eventDrop,ei=f.eventResize,ot=f.renderDayOverlay,c=f.clearOverlays,oi=f.renderDayEvents,st=f.calendar,si=st.formatDate,k=st.formatDates;f.draggableDayEvent=pi}function ar(n){for(var i=[],o=n.length,u,t,e,f,r=0;r<o;r++){for(u=n[r],t=0;;){if(e=!1,i[t])for(f=0;f<i[t].length;f++)if(ri(i[t][f],u)){e=!0;break}if(e)t++;else break}i[t]?i[t].push(u):i[t]=[u]}return i}function vr(n){for(var i,r,f,e,u,t=n.length-1;t>0;t--)for(f=n[t],i=0;i<f.length;i++)for(e=f[i],r=0;r<n[t-1].length;r++)u=n[t-1][r],ri(e,u)&&(u.forward=Math.max(u.forward||0,(e.forward||0)+1))}function ri(n,t){return n.end>t.start&&n.start<t.end}function ui(f,e,o){function h(t,i){var r=ut[t];return n.isPlainObject(r)?lt(r,i||o):r}function v(n,t){return e.trigger.apply(e,[n,t||s].concat(Array.prototype.slice.call(arguments,2),[s]))}function wt(n){var t=n.source||{};return a(n.startEditable,t.startEditable,h("eventStartEditable"),n.editable,t.editable,h("editable"))&&!h("disableDragging")}function bt(n){var t=n.source||{};return a(n.durationEditable,t.durationEditable,h("eventDurationEditable"),n.editable,t.editable,h("editable"))&&!h("disableResizing")}function kt(n){c={};for(var r=n.length,t,i=0;i<r;i++)t=n[i],c[t._id]?c[t._id].push(t):c[t._id]=[t]}function dt(){c={};p={};rt=[]}function et(n){return n.end?i(n.end):pt(n)}function gt(n,t){rt.push({event:n,element:t});p[n._id]?p[n._id].push(t):p[n._id]=[t]}function ni(){n.each(rt,function(n,t){s.trigger("eventDestroy",t.event,t.event,t.element)})}function ti(n,t){t.click(function(i){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return v("eventClick",this,n,i)}).hover(function(t){v("eventMouseover",this,n,t)},function(t){v("eventMouseout",this,n,t)})}function ii(n,t){ot(n,t,"show")}function ri(n,t){ot(n,t,"hide")}function ot(n,t,i){for(var u=p[n._id],f=u.length,r=0;r<f;r++)t&&u[r][0]==t[0]||u[r][i]()}function ui(n,t,i,r,u,f,e){var s=t.allDay,o=t._id;st(c[o],i,r,u);v("eventDrop",n,t,i,r,u,function(){st(c[o],-i,-r,s);w(o)},f,e);w(o)}function fi(n,t,i,r,u,f){var e=t._id;ht(c[e],i,r);v("eventResize",n,t,i,r,function(){ht(c[e],-i,-r);w(e)},u,f);w(e)}function st(n,i,f,e){f=f||0;for(var o,h=n.length,s=0;s<h;s++)o=n[s],e!==t&&(o.allDay=e),u(r(o.start,i,!0),f),o.end&&(o.end=u(r(o.end,i,!0),f)),ft(o,ut)}function ht(n,t,i){i=i||0;for(var f,o=n.length,e=0;e<o;e++)f=n[e],f.end=u(r(et(f),t,!0),i),ft(f,ut)}function ei(n){return typeof n=="object"&&(n=n.getDay()),b[n]}function oi(){return l}function si(n,t,i){for(t=t||1;b[(n.getDay()+(i?t:0)+7)%7];)r(n,t)}function hi(){var n=vt.apply(null,arguments),t=g(n);return yt(t)}function vt(n,t){var i=s.getColCnt(),r=d?-1:1,u=d?i-1:0;return typeof n=="object"&&(t=n.col,n=n.row),n*i+(t*r+u)}function g(n){var t=s.visStart.getDay();return n+=k[t],Math.floor(n/l)*7+at[(n%l+l)%l]-t}function yt(n){var t=i(s.visStart);return r(t,n),t}function ci(n){var t=nt(n),i=tt(t);return it(i)}function nt(n){return y(n,s.visStart)}function tt(n){var t=s.visStart.getDay();return n+=t,Math.floor(n/7)*l+k[(n%7+7)%7]-k[t]}function it(n){var t=s.getColCnt(),i=d?-1:1,r=d?t-1:0,u=Math.floor(n/t),f=(n%t+t)%t*i+r;return{row:u,col:f}}function li(n,t){for(var a=s.getRowCnt(),f=s.getColCnt(),e=[],o=nt(n),h=nt(t),v=tt(o),y=tt(h)-1,i=0;i<a;i++){var c=i*f,p=c+f-1,r=Math.max(v,c),u=Math.min(y,p);if(r<=u){var w=it(r),b=it(u),l=[w.col,b.col].sort(),k=g(r)==o,d=g(u)+1==h;e.push({row:i,leftCol:l[0],rightCol:l[1],isStart:k,isEnd:d})}}return e}function ai(n,t){return vi(n,t)||n.event.start-t.event.start||(n.event.title||"").localeCompare(t.event.title)}function vi(n,t){return"msLength"in n?t.msLength-n.msLength:t.rightCol-t.leftCol-(n.rightCol-n.leftCol)||t.event.allDay-n.event.allDay}var s=this;s.element=f;s.calendar=e;s.name=o;s.opt=h;s.trigger=v;s.isEventDraggable=wt;s.isEventResizable=bt;s.setEventData=kt;s.clearEventData=dt;s.eventEnd=et;s.reportEventElement=gt;s.triggerEventDestroy=ni;s.eventElementHandlers=ti;s.showEvents=ii;s.hideEvents=ri;s.eventDrop=ui;s.eventResize=fi;var pt=s.defaultEventEnd,ft=e.normalizeEvent,w=e.reportEventChange,c={},p={},rt=[],ut=e.options;s.isHiddenDay=ei;s.skipHiddenDays=si;s.getCellsPerWeek=oi;s.dateToCell=ci;s.dateToDayOffset=nt;s.dayOffsetToCellOffset=tt;s.cellOffsetToCell=it;s.cellToDate=hi;s.cellToCellOffset=vt;s.cellOffsetToDayOffset=g;s.dayOffsetToDate=yt;s.rangeToSegments=li;s.segmentCompare=ai;var ct=h("hiddenDays")||[],b=[],l,k=[],at=[],d=h("isRTL");(function(){h("weekends")===!1&&ct.push(0,6);for(var t=0,i=0;t<7;t++)k[t]=i,b[t]=n.inArray(t,ct)!=-1,b[t]||(at[i]=t,i++);if(l=i,!l)throw"invalid hiddenDays";})()}function fi(){function ui(n,t){var i=rt(n,!1,!0);o(i,function(n,t){et(n.event,t)});ki(i,t);o(i,function(n,t){f("eventAfterRender",n.event,n.event,t)})}function fi(n,t,i){var u=rt([n],!0,!1),r=[];return o(u,function(n,u){n.row===t&&u.css("top",i);r.push(u[0])}),r}function rt(t,i,r){var e=b(),s=i?n("<div/>"):e,u=ei(t),h,f;return si(u),h=hi(u),s[0].innerHTML=h,f=s.children(),i&&e.append(f),li(u,f),o(u,function(n,t){n.hsides=ct(t,!0)}),o(u,function(n,t){t.width(Math.max(0,n.outerWidth-n.hsides))}),o(u,function(n,t){n.outerHeight=t.outerHeight(!0)}),ai(u,r),u}function ei(n){for(var r,t=[],i=0;i<n.length;i++)r=oi(n[i]),t.push.apply(t,r);return t}function oi(n){for(var r=n.start,u=p(n),t=dt(r,u),i=0;i<t.length;i++)t[i].event=n;return t}function si(n){for(var r=u("isRTL"),i=0;i<n.length;i++){var t=n[i],e=(r?t.isEnd:t.isStart)?yt:at,o=(r?t.isStart:t.isEnd)?pt:vt,f=e(t.leftCol),s=o(t.rightCol);t.left=f;t.outerWidth=s-f}}function hi(n){for(var i="",t=0;t<n.length;t++)i+=ci(n[t]);return i}function ci(n){var r="",s=u("isRTL"),t=n.event,f=t.url,i=["fc-event","fc-event-hori"],o;return c(t)&&i.push("fc-event-draggable"),n.isStart&&i.push("fc-event-start"),n.isEnd&&i.push("fc-event-end"),i=i.concat(t.className),t.source&&(i=i.concat(t.source.className||[])),o=ti(t,u),r+=f?"<a href='"+e(f)+"'":"<div",r+=" class='"+i.join(" ")+"' style='position:absolute;left:"+n.left+"px;"+o+"'><div class='fc-event-inner'>",!t.allDay&&n.isStart&&(r+="<span class='fc-event-time'>"+e(wt(t.start,t.end,u("timeFormat")))+"<\/span>"),r+="<span class='fc-event-title'>"+e(t.title||"")+"<\/span><\/div>",n.isEnd&&l(t)&&(r+="<div class='ui-resizable-handle ui-resizable-"+(s?"w":"e")+"'>&nbsp;&nbsp;&nbsp;<\/div>"),r+("<\/"+(f?"a":"div")+">")}function li(t,i){for(var u=0;u<t.length;u++){var o=t[u],s=o.event,e=i.eq(u),r=f("eventRender",s,s,e);r===!1?e.remove():(r&&r!==!0&&(r=n(r).css({position:"absolute",left:o.left}),e.replaceWith(r),e=r),o.element=e)}}function ai(n,t){var f=vi(n),r=bi(),u=[],i;if(t)for(i=0;i<r.length;i++)r[i].height(f[i]);for(i=0;i<r.length;i++)u.push(r[i].position().top);o(n,function(n,t){t.css("top",u[n.row]+n.top)})}function vi(n){for(var e,r,u,t,i,h=s(),c=w(),o=[],l=yi(n),f=0;f<h;f++){for(e=l[f],r=[],i=0;i<c;i++)r.push(0);for(u=0;u<e.length;u++)for(t=e[u],t.top=ni(r.slice(t.leftCol,t.rightCol+1)),i=t.leftCol;i<=t.rightCol;i++)r[i]=t.top+t.outerHeight;o.push(ni(r))}return o}function yi(n){for(var f=s(),i=[],r,t,u=0;u<n.length;u++)r=n[u],t=r.row,r.element&&(i[t]?i[t].push(r):i[t]=[r]);for(t=0;t<f;t++)i[t]=pi(i[t]||[]);return i}function pi(n){for(var t=[],r=wi(n),i=0;i<r.length;i++)t.push.apply(t,r[i]);return t}function wi(n){var t,r,u,i;for(n.sort(gt),t=[],r=0;r<n.length;r++){for(u=n[r],i=0;i<t.length;i++)if(!yr(u,t[i]))break;t[i]?t[i].push(u):t[i]=[u]}return t}function bi(){for(var i=s(),t=[],n=0;n<i;n++)t[n]=lt(n).find("div.fc-day-content > div");return t}function ki(n,t){var i=b();o(n,function(n,i,r){var u=n.event;u._id===t?ut(u,i,n):i[0]._fci=r});kt(i,n,ut)}function ut(n,i,r){c(n)&&t.draggableDayEvent(n,i,r);r.isEnd&&l(n)&&t.resizableDayEvent(n,i,r);ot(n,i)}function di(n,t){var o=g(),e;t.draggable({delay:50,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(u,s){f("eventDragStart",t,n,u,s);v(n,t);o.start(function(u,f,o,s){if(t.draggable("option","revert",!u||!o&&!s),h(),u){var c=nt(f),l=nt(u);e=y(l,c);k(r(i(n.start),e),r(p(n),e))}else e=0},u,"drag")},stop:function(i,r){o.stop();h();f("eventDragStop",t,n,i,r);e?st(this,n,e,0,n.allDay,i,r):(t.css("filter",""),a(n,t))}})}function gi(t,i,e){var l=u("isRTL"),o=l?"w":"e",y=i.find(".ui-resizable-"+o),c=!1;d(i);i.mousedown(function(n){n.preventDefault()}).click(function(n){c&&(n.preventDefault(),n.stopImmediatePropagation())});y.mousedown(function(u){function ut(i){f("eventResizeStop",this,t,i);n("body").css("cursor","");b.stop();h();y&&ht(this,t,y,0,i);setTimeout(function(){c=!1},0)}if(u.which==1){c=!0;var b=g(),et=s(),ot=w(),nt=i.css("top"),y,l,d=n.extend({},t),rt=ri(ii(t.start));bt();n("body").css("cursor",o+"-resize").one("mouseup",ut);f("eventResizeStart",this,t,u);b.start(function(i,u){var c,f,s;i&&(c=tt(u),f=tt(i),f=Math.max(f,rt),y=it(f)-it(c),y?(d.end=r(ft(t),y,!0),s=l,l=fi(d,e.row,nt),l=n(l),l.find("*").css("cursor",o+"-resize"),s&&s.remove(),v(t)):l&&(a(t),l.remove(),l=null),h(),k(t.start,r(p(t),y)))},u)}})}var t=this;t.renderDayEvents=ui;t.draggableDayEvent=di;t.resizableDayEvent=gi;var u=t.opt,f=t.trigger,c=t.isEventDraggable,l=t.isEventResizable,ft=t.eventEnd,et=t.reportEventElement,ot=t.eventElementHandlers,a=t.showEvents,v=t.hideEvents,st=t.eventDrop,ht=t.eventResize,s=t.getRowCnt,w=t.getColCnt,nr=t.getColWidth,lt=t.allDayRow,at=t.colLeft,vt=t.colRight,yt=t.colContentLeft,pt=t.colContentRight,tr=t.dateToCell,b=t.getDaySegmentContainer,wt=t.calendar.formatDates,k=t.renderDayOverlay,h=t.clearOverlays,bt=t.clearSelection,g=t.getHoverListener,dt=t.rangeToSegments,gt=t.segmentCompare,nt=t.cellToDate,tt=t.cellToCellOffset,it=t.cellOffsetToDayOffset,ii=t.dateToDayOffset,ri=t.dayOffsetToCellOffset}function yr(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i],r.leftCol<=n.rightCol&&r.rightCol>=n.leftCol)return!0;return!1}function o(n,t){for(var r,u,i=0;i<n.length;i++)r=n[i],u=r.element,u&&t(r,u,i)}function ei(){function c(n,t,i){r();t||(t=h(n,i));o(n,t,i);f(n,t,i)}function r(n){u&&(u=!1,s(),e("unselect",null,n))}function f(n,t,i,r){u=!0;e("select",null,n,t,i,r)}function l(u){var h=t.cellToDate,l=t.getIsCellAllDay,c=t.getHoverListener(),a=t.reportDayClick,v,e;if(u.which==1&&i("selectable")){r(u);v=this;c.start(function(n,t){s();n&&l(n)?(e=[h(t),h(n)].sort(gt),o(e[0],e[1],!0)):e=null},u);n(document).one("mouseup",function(n){c.stop();e&&(+e[0]==+e[1]&&a(e[0],!0,n),f(e[0],e[1],!0,n))})}}var t=this;t.select=c;t.unselect=r;t.reportSelection=f;t.daySelectionMousedown=l;var i=t.opt,e=t.trigger,h=t.defaultSelectionEnd,o=t.renderSelection,s=t.clearSelection,u=!1;i("selectable")&&i("unselectAuto")&&n(document).mousedown(function(t){var u=i("unselectCancel");u&&n(t.target).parents(u).length||r(t)})}function oi(){function u(r,u){var f=i.shift();return f||(f=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),f[0].parentNode!=u[0]&&f.appendTo(u),t.push(f.css(r).show()),f}function f(){for(var n;n=t.shift();)i.push(n.hide().unbind())}var r=this,t,i;r.renderOverlay=u;r.clearOverlays=f;t=[];i=[]}function si(n){var r=this,t,i;r.build=function(){t=[];i=[];n(t,i)};r.cell=function(n,r){for(var o=t.length,s=i.length,f=-1,e=-1,u=0;u<o;u++)if(r>=t[u][0]&&r<t[u][1]){f=u;break}for(u=0;u<s;u++)if(n>=i[u][0]&&n<i[u][1]){e=u;break}return f>=0&&e>=0?{row:f,col:e}:null};r.rect=function(n,r,u,f,e){var o=e.offset();return{top:t[n][0]-o.top,left:i[r][0]-o.left,width:i[f][1]-i[r][0],height:t[u][1]-t[n][0]}}}function hi(t){function e(n){pr(n);var u=t.cell(n.pageX,n.pageY);(!u!=!r||u&&(u.row!=r.row||u.col!=r.col))&&(u?(i||(i=u),f(u,i,u.row-i.row,u.col-i.col)):f(u,i),r=u)}var o=this,u,f,i,r;o.start=function(o,s,h){f=o;i=r=null;t.build();e(s);u=h||"mousemove";n(document).bind(u,e)};o.stop=function(){return n(document).unbind(u,e),r}}function pr(n){n.pageX===t&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY)}function tt(n){function e(t){return f[t]=f[t]||n(t)}var i=this,f={},r={},u={};i.left=function(n){return r[n]=r[n]===t?e(n).position().left:r[n]};i.right=function(n){return u[n]=u[n]===t?i.left(n)+e(n).width():u[n]};i.clear=function(){f={};r={};u={}}}var k={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;<\/span>",next:"<span class='fc-text-arrow'>&rsaquo;<\/span>",prevYear:"<span class='fc-text-arrow'>&laquo;<\/span>",nextYear:"<span class='fc-text-arrow'>&raquo;<\/span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},ci={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;<\/span>",next:"<span class='fc-text-arrow'>&lsaquo;<\/span>",prevYear:"<span class='fc-text-arrow'>&raquo;<\/span>",nextYear:"<span class='fc-text-arrow'>&laquo;<\/span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},f=n.fullCalendar={version:"1.6.3"},s=f.views={},yt,pt,ht;n.fn.fullCalendar=function(i){var f,r,u;return typeof i=="string"?(f=Array.prototype.slice.call(arguments,1),this.each(function(){var u=n.data(this,"fullCalendar"),e;u&&n.isFunction(u[i])&&(e=u[i].apply(u,f),r===t&&(r=e),i=="destroy"&&n.removeData(this,"fullCalendar"))}),r!==t)?r:this:(u=i.eventSources||[],delete i.eventSources,i.events&&(u.push(i.events),delete i.events),i=n.extend(!0,{},k,i.isRTL||i.isRTL===t&&k.isRTL?ci:{},i),this.each(function(t,r){var f=n(r),e=new li(f,i,u);f.data("fullCalendar",e);e.render()}),this)};f.sourceNormalizers=[];f.sourceFetchers=[];yt={dataType:"json",cache:!1};pt=1;f.addDays=r;f.cloneDate=i;f.parseDate=ft;f.parseISO8601=et;f.parseTime=ot;f.formatDate=c;f.formatDates=st;var v=["sun","mon","tue","wed","thu","fri","sat"],yi=864e5,pi=36e5,wi=6e4;ht={s:function(n){return n.getSeconds()},ss:function(n){return l(n.getSeconds())},m:function(n){return n.getMinutes()},mm:function(n){return l(n.getMinutes())},h:function(n){return n.getHours()%12||12},hh:function(n){return l(n.getHours()%12||12)},H:function(n){return n.getHours()},HH:function(n){return l(n.getHours())},d:function(n){return n.getDate()},dd:function(n){return l(n.getDate())},ddd:function(n,t){return t.dayNamesShort[n.getDay()]},dddd:function(n,t){return t.dayNames[n.getDay()]},M:function(n){return n.getMonth()+1},MM:function(n){return l(n.getMonth()+1)},MMM:function(n,t){return t.monthNamesShort[n.getMonth()]},MMMM:function(n,t){return t.monthNames[n.getMonth()]},yy:function(n){return(n.getFullYear()+"").substring(2)},yyyy:function(n){return n.getFullYear()},t:function(n){return n.getHours()<12?"a":"p"},tt:function(n){return n.getHours()<12?"am":"pm"},T:function(n){return n.getHours()<12?"A":"P"},TT:function(n){return n.getHours()<12?"AM":"PM"},u:function(n){return c(n,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(n){var t=n.getDate();return t>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"},w:function(n,t){return t.weekNumberCalculation(n)},W:function(n){return bi(n)}};f.dateFormatters=ht;f.applyAll=nt;s.month=fr;s.basicWeek=er;s.basicDay=or;vt({weekMode:"fixed"});s.agendaWeek=hr;s.agendaDay=cr;vt({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);
//# sourceMappingURL=fullcalendar.min.js.map
