@model MSI.Catastros.Web.Funcionalidad.Cotitularidad.FiltrarUnidadCatastralViewModel
@{
    ViewBag.Title = "Cotitularidad";
}
@*quinta*@
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            @*//CAMBIOS NUEVOS CATASTRO GJLR-INI*@
            @*<div class="panel-heading" style="overflow: hidden">
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <strong>Cotitularidad Catastral
                            @if (@Model.Consultas == true)
                            {
                                <span> - Consultas</span>
                            }
                            else if (@Model.Estatico == true)
                            {
                                <span> - Estático</span>
                            }
                            
                        </strong>
                    </div>
                    <div class="col-md-4"></div>
                    <div class="col-md-2 col-xs-12">
                        @if (@Model.Consultas != true)
                        {
                            <button class="btn btn-green btn-block mr-3" id="GrabarUnidadCatastral" style="float:right"><span class="glyphicon glyphicon-ok mr-2"></span> Grabar</button>
                        }
                    </div>
                </div>
            </div>*@
            @*//CAMBIOS NUEVOS CATASTRO GJLR-FIN*@
            <div class="panel-body">
                @*//CAMBIOS NUEVOS CATASTRO GJLR-INI*@
                @*<div class="">
                    @if (@Model.Estatico != true)
                    {
                        <div class="row">
                            <div class="col-xs-7 px-3" id="opciones">
                                <label for="">Opciones:</label>
                                <input type="radio" name="opc" value="1" onchange="mostrarOpcion(this.value);" checked="checked"/>Por Documentos
                                <input type="radio" name="opc" value="2" onchange="mostrarOpcion(this.value);" />Por Código Catastral
                            </div>
                            </div>
                            <div class="row">
                            <div class="col-xs-5 px-3" id="divCodCatastral">
                                <div id="panelUUCC" class="col-sm-9">
                                    <div class="col-xl-12 ">
                                        <table border="0">
                                            <tr>
                                                <td width="12%"><label class="form-label">Dist.</label></td>
                                                <td width="12%"><label class="form-label">Sec</label></td>
                                                <td width="12%"><label class="form-label">Mz</label></td>
                                                <td width="12%"><label class="form-label">Lote</label></td>
                                                <td width="12%"><label class="form-label">Ed</label></td>
                                                <td width="12%"><label class="form-label">Entr</label></td>
                                                <td width="12%"><label class="form-label">Piso</label></td>
                                                <td width="12%"><label class="form-label">Unidad</label></td>
                                            </tr>
                                            <tr>
                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNECodigoDistrito, new { @class = "form-control text-center px-3", @readonly = "true" })</td>
                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNECodigoSector, new { @class = "form-control clSect text-center px-3", maxlength = 2, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNECodigoManzana, new { @class = "form-control clManza text-center px-3", maxlength = 3, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNECodigoLote, new { @class = "form-control clLote text-center px-3", maxlength = 3, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNEEd, new { @class = "form-control clEdif text-center block px-3", maxlength = 2 })</td>
                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNEEntrada, new { @class = "form-control clEntr text-center block px-3", maxlength = 2 })</td>
                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNEPiso, new { @class = "form-control clPiso text-center block px-3", maxlength = 2 })</td>
                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNEUnidad, new { @class = "form-control clUnid text-center block px-3", maxlength = 3 })</td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-5" id="divDocumentos"> 
                                <div class="row">
                                    <div class="col-sm-4 px-3">
                                        <div class="form-group">
                                            @Html.LabelFor(model => model.FiltrarListTipoSolicitud, htmlAttributes: new { @class = "control-label" })
                                            @Html.DropDownListFor(m => m.FiltrarCodigoTipoSolicitud, Model.FiltrarListTipoSolicitud, "- Seleccione el tipo de solicitud -", new { @class = "form-control" })
                                            <span class="field-validation-valid" data-valmsg-for="FiltrarNumeroTramiteDocumentario" data-valmsg-replace="true"></span>
                                        </div>
                                    </div>
                                    <div class="col-sm-4 px-3" id="divTipoDocumento" style="display:none;">
                                        <div class="form-group">
                                            @Html.LabelFor(model => model.FiltrarListTipoDocumento, htmlAttributes: new { @class = "control-label" })
                                            @Html.DropDownListFor(m => m.FiltrarCodigoTipoDocumento, Model.FiltrarListTipoDocumento, "- Seleccione el tipo de documento -", new { @class = "chosen-seleccionar form-control", autofocus = "true" })
                                            <span class="field-validation-valid" data-valmsg-for="FiltrarCodigoTipoDocumentoReg" data-valmsg-replace="true"></span>
                                        </div>
                                    </div>
                                    <div class="col-sm-2 px-3">
                                        <div class="form-group">
                                            @Html.LabelFor(model => model.FiltrarNumeroSolicitud, htmlAttributes: new { @class = "control-label" })

                                            @Html.TextBoxFor(model => model.FiltrarNumeroSolicitud, new { @class = "form-control" })

                                            <span class="field-validation-valid" data-valmsg-for="FiltrarNumeroSolicitud" data-valmsg-replace="true"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                                <div class="col-sm-2 text-center">
                                    <div class="form-group"><br /><button id="btnBuscarSolicitud" onclick="buscarUnidad()" type="button" value="" class="btn btn-default btn-block glyphicon glyphicon-search" style="margin-top: 5px"></button></div>
                                </div>
                              <div class="col-xs-5 text-right">
                                <br />
                                <div class="row">
                                    <div class="col-xl-4 pl-2 col-sm-12 col-sm-offset-4">
                                        <span class="icon-add">
                                            @Ajax.ActionLink(" Nuevo Codigo", "AgregarUcNuevo", "Cotitularidad",
                                        new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "modalRegistrarUCNuevo", OnComplete = "mostrarModal('RegistrarUCNuevo', 'Asignacion')" },
                                        new { @class = "btn btn-default btn-sm btn-block  glyphicon glyphicon-plus", disabled = "true", @id = "btnNuevoUC" })
                                        </span>
                                    </div>
                                    <div class="col-xl-4 pl-2 col-sm-12" id="Lotes">
                                        <button type="button" id="GenFicha" disabled class="btn btn-success btn-sm glyphicon glyphicon-print btn-block" style="float:right" onclick="GenerarFicha()"><span style="font-family:'Open Sans'"> Generar Ficha Preliminar</span></button>
                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="row">
                            <div class="col-xs-7">

                                <div class="row">

                                    <div class="col-sm-4 px-3">
                                        <div class="form-group">
                                            @Html.LabelFor(model => model.TipoRequerimiento, htmlAttributes: new { @class = "control-label" })
                                            @Html.TextBoxFor(model => model.TipoRequerimiento, new { @class = "form-control", @readonly = "readonly" })
                                        </div>
                                    </div>

                                    <div class="col-sm-4 px-3">
                                        <div class="form-group">
                                            <label class="control-label">Tipo Llenado Solicitud</label>
                                            <input type="text" class="form-control" id="TipoLlenado" disabled />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <label class="control-label">Unidad Por Trabajar</label>
                        <div class="row">
                            <div class="col-md-12 px-3">
                                <table id="tablaUnidadCatastral" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="9%">Dist</th>
                                            <th width="9%">Sec</th>
                                            <th width="9%">Mz</th>
                                            <th width="9%">Lote</th>
                                            <th width="9%">Ed</th>
                                            <th width="9%">Entr</th>
                                            <th width="9%">Piso</th>
                                            <th width="9%">Unidad</th>
                                            <th width="9%">Referencia</th>
                                            <th width="9%">Estado</th>
                                            <th style="display:none;"></th>
                                            <th style="display:none;"></th>
                                            <th width="11%">Acciones</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                        <br />
                        <label class="control-label">Unidad Referencia</label>
                        <div class="row">
                            <div class="col-md-12 px-3">
                                <table id="tablaUnidadCatastralRef" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="9%">Dist</th>
                                            <th width="9%">Sec</th>
                                            <th width="9%">Mz</th>
                                            <th width="9%">Lote</th>
                                            <th width="9%">Ed</th>
                                            <th width="9%">Entr</th>
                                            <th width="9%">Piso</th>
                                            <th width="9%">Unidad</th>
                                            <th width="9%">Referencia</th>
                                            <th width="9%">Estado</th>
                                            <th width="11%"></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="row">
                            <div class="col-xl-6 ">
                                <table border="0">
                                    <tr>
                                        <td width="12%"><label class="form-label">Dist.</label></td>
                                        <td width="12%"><label class="form-label">Sec</label></td>
                                        <td width="12%"><label class="form-label">Mz</label></td>
                                        <td width="12%"><label class="form-label">Lote</label></td>
                                        <td width="12%"><label class="form-label">Ed</label></td>
                                        <td width="12%"><label class="form-label">Entr</label></td>
                                        <td width="12%"><label class="form-label">Piso</label></td>
                                        <td width="12%"><label class="form-label">Unidad</label></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarCodigoDistrito, new { @class = "form-control text-center px-3", @readonly = "true" })</td>
                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarCodigoSector, new { @class = "form-control clSect text-center px-3", maxlength = 2, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarCodigoManzana, new { @class = "form-control clManza text-center px-3", maxlength = 3, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarCodigoLote, new { @class = "form-control clLote text-center px-3", maxlength = 3, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarEd, new { @class = "form-control clEdif text-center block px-3", maxlength = 2 })</td>
                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarEntrada, new { @class = "form-control clEntr text-center block px-3", maxlength = 2 })</td>
                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarPiso, new { @class = "form-control clPiso text-center block px-3", maxlength = 2 })</td>
                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarUnidad, new { @class = "form-control clUnid text-center block px-3", maxlength = 3 })</td>
                                        <td>
                                            <div class="">
                                                <button id="btnBuscarEstatico" onclick="buscarUnidadEstatico()" type="button" value="" class="btn btn-default btnBuscar glyphicon glyphicon-search" style="padding: 6px 35px"></button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="5">
                                            <div class="has-error ml-3 mt-2">
                                                <ul id="msgErrores"></ul>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-12 unidad">
                                <table id="tablaUnidadCatastralEstatico" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th>Código Catastral</th>
                                            <th>Ver</th>
                                            <th>Llenado</th>
                                            <th>Fec. Actual</th>
                                            <th> Ubicación</th>
                                            <th>Tipo Int.</th>
                                            <th>Nro.</th>
                                            <th>Inscripcion</th>
                                            <th> Uso Predio</th>
                                            <th>CUC</th>
                                            <th></th>
                                            <th style="display:none"></th>
                                            <th style="display:none">Dist</th>
                                            <th style="display:none">Sec</th>
                                            <th style="display:none">Mz</th>
                                            <th style="display:none">Lote</th>
                                            <th style="display:none">Ed</th>
                                            <th style="display:none">Entr</th>
                                            <th style="display:none">Piso</th>
                                            <th style="display:none">Und</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    }
                </div>*@
                @*//CAMBIOS NUEVOS CATASTRO GJLR-FIN*@

                <input type="hidden" id="CodigoDistrito" />
                <input type="hidden" id="CodigoSector" />
                <input type="hidden" id="CodigoManzana" />
                <input type="hidden" id="CodigoLote" />
                <input type="hidden" id="CodigoEdificacion" />
                <input type="hidden" id="CodigoEntrada" />
                <input type="hidden" id="CodigoPiso" />
                <input type="hidden" id="CodigoUnidad" />
                <input type="hidden" id="codigollenado" />
                <input type="hidden" id="Independizacion" />
                <br />

                @*//CAMBIOS NUEVOS CATASTRO GJLR-INI*@
                <div class="row" id="tabCotitularGrilla" style="display:none;">
                    <div class="col-md-2">
                        <div class="row">
                            <div class="col-md-12">
                                <table border="0" cellspacing="0" cellpadding="0">
                                    <tbody>
                                        <tr>
                                            <td class="tit-01">FICHA CATASTRAL</td>
                                        </tr>
                                        <tr>
                                            <td class="tit-01">COTITULARIDAD</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <table>
                                    <tbody>
                                        <tr>
                                            <td style="width:100px;" class="td-val-02">N° Ficha:</td>
                                            <td colspan="2"><input type="text" class="form-control val-03" disabled id="Cuc01" value="001" /></td>
                                        </tr>
                                        <tr>
                                            <td class="td-val-02">Cont. de Ficha Por Lote :</td>
                                            <td><input type="text" class="form-control val-03" disabled id="Cuc02" value="1" /></td>
                                            <td><input type="text" class="form-control val-03" disabled id="Cuc03" value="03" /></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        @*<div class="row" style="padding: 10px 200px 0px 200px;">
                            <table class="table-01">
                                <tbody>
                                    <tr class="table-tr-active-01">
                                        <td class="td-val-01">CODIGO UNICO CATASTRAL - CUC</td>
                                        <td class="td-val-01">CODIGO HOJA CATASTRAL</td>
                                    </tr>
                                    <tr>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labCuc" value="46779535-0002" /></td>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labChc" /></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>*@
                        <div class="row" style="padding: 0px 200px 10px 200px;">
                            <table class="table-01">
                                <tbody>
                                    <tr class="table-tr-active-01">
                                        <td colspan="11" class="td-val-01">CODIGO DE REFERENCIA CATASTRAL</td>
                                    </tr>
                                    <tr>
                                        @*<td class="td-val-01 text-center">Dpto.</td>
                                        <td class="td-val-01 text-center">Prov.</td>*@
                                        <td class="td-val-01 text-center">Dist.</td>
                                        <td class="td-val-01 text-center">Sector</td>
                                        <td class="td-val-01 text-center">Mz</td>
                                        <td class="td-val-01 text-center">Lote</td>
                                        <td class="td-val-01 text-center">Edifica</td>
                                        <td class="td-val-01 text-center">Entrada</td>
                                        <td class="td-val-01 text-center">Piso</td>
                                        <td class="td-val-01 text-center">Unidad</td>
                                        @*<td class="td-val-01 text-center">DC</td>*@
                                    </tr>
                                    <tr>
                                        <!--uniciencias-->
                                        @*<td class="td-val-01"><input type="text" class="form-input-01" disabled id="labDpto" value="15" /></td>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labProv" value="01" /></td>*@
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labDist" value="31" /></td>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labSect" value="05" /></td>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labMaza" value="075" /></td>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labLote" value="015" /></td>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labEdif" value="01" /></td>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labEntr" value="01" /></td>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labPiso" value="A0" /></td>
                                        <td class="td-val-01"><input type="text" class="form-input-01" disabled id="labUnid" value="002" /></td>
                                        @*<td class="td-val-01"><input type="text" class="form-input-01" disabled id="labDc" value="" /></td>*@
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="row">
                            <div class="col-md-12" style="position: relative;">
                                <div style="position: absolute; left: 10px; top: 0px; z-index: 1;">
                                    <img style="max-width: 92%;" id="imglote" class="img-rounded img-responsive" src="http://192.168.41.149/ACUWeb/FotoLote/31057515/FL-31057515/FLFoto-14.jpg" alt="Responsive image" />
                                </div>
                                <div style="position: absolute; left: 74%; top: 0px; z-index: 3;">
                                    <button type="button" style="background: transparent;outline: none;box-shadow: none;"
                                            class="btn btn-lg">
                                        <i class="fa fa-search-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>      
                </div>
                @*//CAMBIOS NUEVOS CATASTRO GJLR-FIN*@

                <div class='tabs' id="TabUC" style="display:none;padding-top:20px;">
                    <ul>
                        <li><a href="#tab-1">Información <br> General</a></li>
                        @*<li><a href="#tab-2">Numeración <br> &nbsp </a></li>
                        <li><a href="#tab-11">Interiores <br> Especiales</a></li>
                        <li><a href="#tab-3">Construcciones <br> Instalaciones</a></li>
                        <li><a href="#tab-10">Linderos de <br> Edificación</a></li>
                        <li><a href="#tab-4">Areas de Terreno <br> Areas Construidas</a></li>
                        <li><a href="#tab-5">Actividad <br> Económica</a></li>*@
                        <li><a href="#tab-6">Titularidad  <br> Cotitularidad</a></li>
                        @*<li><a href="#tab-7">Documentación <br>  &nbsp</a></li>*@
                        <li><a href="#tab-8">Observaciones <br> &nbsp </a></li>
                        @if (@Model.Estatico != true)
                        {
                            <li><a href="#tab-9">Inspecciones <br> Informe Internos</a></li>}
                    </ul>
                    <div id='tab-1'>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">CUC</label>
                                                <input type="text" class="form-control" disabled id="Cuc" />
                                                <span class="" data-valmsg-for="Cuc" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Código Predial</label>
                                                <input type="text" class="form-control" id="CodigoPredial" />
                                                <span class="" data-valmsg-for="CodigoPredial" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Código Único</label>
                                                <input type="text" class="form-control" id="CodigoUnidadCatastral" disabled="disabled" />
                                                <span class="" data-valmsg-for="CodigoUnico" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Tipo de Llenado</label>
                                                @*<input type="text" class="form-control" id="CodigoTipoLlenado"  />*@
                                                <select class="form-control" id="CodigoTipoLlenado"></select>
                                                <span class="" data-valmsg-for="CodigoTipoLlenado" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Código Inscripción Catastral</label>
                                                @Html.DropDownList("CodigoCodInscripcionCatastral", Model.ListCodigoInscripcionCatastral, "- Seleccione...", new { @class = "form-control chosen-seleccionar" })
                                                <span class="" data-valmsg-for="CodigoCodInscripcionCatastral" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Inscripción Catastral</label>
                                                @Html.DropDownList("CodigoInscripcionCatastral", Model.ListInscripcionCatastral, "- Seleccione...", new { @class = "form-control chosen-seleccionar" })
                                                <span class="" data-valmsg-for="CodigoInscripcionCatastral" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Fuente Inscripción Catastral</label>
                                                @Html.DropDownList("CodigoFuenteInscripcionCatastral", Model.ListFuenteInscripcionCatastral, "- Seleccione...", new { @class = "form-control" })
                                                <span class="" data-valmsg-for="CodigoFuenteInscripcionCatastral" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Carga Registral</label>
                                                @Html.DropDownList("CodigoCargaRegistral", new SelectList(ViewBag.ListVBTipoSiNo, "value", "text"), "- Seleccione...", new { @class = "form-control" })
                                                <span class="" data-valmsg-for="CodigoCargaRegistral" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Denominacion</label>
                                                <input type="text" class="form-control" id="Denominacion" />
                                                <span class="" data-valmsg-for="Denominacion" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Uso Predio CIIU</label>
                                                @Html.DropDownList("CodgiUsoPredio", Model.ListUsoPredio, "- Seleccione...", new { @class = "form-control chosen-seleccionar" })
                                                <span class="" data-valmsg-for="CodigoEstadoUsoPredio" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-9">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Clasificación</label>
                                                @Html.DropDownList("CodigoClasificacionPredio", Model.ListClasificacionPredio, "- Seleccione...", new { @class = "form-control" })
                                                <span class="" data-valmsg-for="CodigoClasificacionPredio" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group" id="DivTipoDepartamento">
                                                <label class="control-label" id="LabelTipoDepartamento">Tipo de...</label>
                                                @Html.DropDownList("CodigoDepartamentoPredio", Model.ListDepartamentoPredio, "- Seleccione...", new { @class = "form-control" })
                                                <span class="" data-valmsg-for="CodigoDepartamentoPredio" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Estado de Construcción</label>
                                                @Html.DropDownList("CodigoEstadoConstruccion", Model.ListEstadoContruccion, "- Seleccione...", new { @class = "form-control" })
                                                <span class="" data-valmsg-for="CodigoEstadoConstruccion" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">% Avance</label>
                                                <input type="text" class="form-control numero" id="AvanceConstruccion" disabled="disabled" style="text-align: right;" />
                                                <span class="" data-valmsg-for="AvanceConstruccion" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Fecha Última Inspección</label>
                                                <input type="text" autocomplete="off" class="form-control" id="FechaUltimaInspeccion" maxlength="10" />
                                                <span class="" data-valmsg-for="FechaUltimaInspeccion" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <div class="form-group">
                                                <label class="control-label">Fecha Actualización</label>
                                                <input type="text" autocomplete="off" class="form-control" id="FechaActualizacion" maxlength="10" />
                                                <span class="" data-valmsg-for="FechaActualizacion" data-valmsg-replace="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            @*//CAMBIOS NUEVOS CATASTRO GJLR-INI*@
                            @*<div class="col-md-6">
                                <img id="imglote" class="img-rounded img-responsive" src="" alt="Responsive image" />
                            </div>*@
                            @*//CAMBIOS NUEVOS CATASTRO GJLR-FIN*@


                        </div>
                    </div>
                    <div id='tab-2'>
                        <div class="row">
                            <fieldset class="formulario">
                                <legend>Interiores del Predio</legend>
                                <div class="row">
                                    <div class="col-lg-2 col-md-2">
                                        <span class="icon-add">
                                            @Ajax.ActionLink(" Agregar", "AgregarMunicipalAsignado", "Cotitularidad"
                                                        , new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "modalNuevoPredio", OnComplete = "mostrarModal('NuevoPredio')" }
                                                                , new { @class = "btn btn-create btn-block  glyphicon glyphicon-plus-sign", id = "btnBuscarCodigoCatastl" })
                                        </span>
                                    </div>
                                </div>
                                <br />
                                <table id="tablaMunicipalAsignado" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="3%">Acciones</th>
                                            <th>Nro.</th>
                                            <th>Asignación</th>
                                            <th>Vía</th>
                                            <th>Cda.</th>
                                            <th>Edificación</th>
                                            <th>Puerta</th>
                                            <th>Estado Interior</th>
                                            <th>Tipo Interior</th>
                                            <th>Numero Interior</th>
                                            <th>Letra Interior</th>
                                            <th>Inscripcion</th>
                                            <th>Área</th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>

                            </fieldset>
                        </div>
                    </div>
                    <div id='tab-11'>
                        <div class="row">
                            <fieldset class="formulario">
                                <legend>Interiores del Predio</legend>


                                <br />
                                <table id="tablaMunicipalAsignado2" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="3%">Acciones</th>
                                            <th>Nro.</th>
                                            <th>Asignación</th>
                                            <th>Vía</th>
                                            <th>Cda.</th>
                                            <th>Edificación</th>
                                            <th>Puerta</th>
                                            <th>Estado Interior</th>
                                            <th>Tipo Interior</th>
                                            <th>Numero Interior</th>
                                            <th>Letra Interior</th>
                                            <th>Inscripcion</th>
                                            <th>Área</th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>

                            </fieldset>
                        </div>
                    </div>
                    <div id='tab-3'>
                        <div class="row">
                            <fieldset class="formulario">
                                <legend>Líneas Constructivas (m2)</legend>
                                <div class="relative">
                                    <button data-toggle="collapse" href="#panelLineasContructivas" class="btn btn-xs btn-success fa fa-caret-down absolute"></button>
                                    <div class="row collapse in" id="panelLineasContructivas">
                                        <div class="col-md-12">
                                            <table id="LineasContructivas">
                                                <tr>
                                                    <td width="5%"><label class="control-label">Nro.</label></td>
                                                    <td width="5%"><label class="control-label">Nivel</label></td>
                                                    <td width="5%"><label class="control-label">Mes</label></td>
                                                    <td width="5%"><label class="control-label">Año</label></td>
                                                    <td width="8%"><label class="control-label">Material <br />Estructural</label></td>
                                                    <td width="8%"><label class="control-label">Estado de <br />Conservación</label></td>
                                                    <td width="5%"><label class="control-label">Muro</label></td>
                                                    <td width="5%"><label class="control-label">Techo</label></td>
                                                    <td width="5%"><label class="control-label">Piso</label></td>
                                                    <td width="5%"><label class="control-label">Puertas <br />Ventanas</label></td>
                                                    <td width="5%"><label class="control-label">Revestimiento</label></td>
                                                    <td width="5%"><label class="control-label">Baño</label></td>
                                                    <td width="5%"><label class="control-label">Instalaciones <br /> Electricas <br /> y Sanitarias</label></td>
                                                    <td width="8%"><label class="control-label">Área<br /> Verificada</label></td>
                                                    <td width="8%"><label class="control-label">Área<br /> Declarada</label></td>
                                                    <td width="8%"></td>
                                                </tr>
                                                <tr>
                                                    <td class="pr-4"><input value="00001" disabled type="text" class=" form-control item_lineas_constructivas" /></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_txtpiso_00001" type="text" class="form-control txtpiso_lineas_constructivas" /></td>
                                                    <td class="pr-4"><select id="lineas_constructivas_mes_00001" class="form-control mes_lineas_constructivas"></select></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_ano_00001" type="text" class="form-control ano_lineas_constructivas" /></td>
                                                    <td class="pr-4"><select id="lineas_constructivas_material_00001" class="form-control material_lineas_constructivas"></select></td>
                                                    <td class="pr-4"><select id="lineas_constructivas_estado_00001" class="form-control estado_lineas_constructivas"> </select></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_muro_00001" type="text" class="form-control muro_lineas_constructivas" /></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_techo_00001" type="text" class="form-control techo_lineas_constructivas" /></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_piso_00001" type="text" class="form-control piso_lineas_constructivas" /></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_puerta_00001" type="text" class="form-control puerta_lineas_constructivas" /></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_revest_00001" type="text" class="form-control revest_lineas_constructivas" /></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_bano_00001" type="text" class="form-control bano_lineas_constructivas" /></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_electricas_00001" type="text" class="form-control electricas_lineas_constructivas" /></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_verificada_00001" type="text" class="form-control verificada_lineas_constructivas numero" onkeyup="SumarAreasConstructivas()" /></td>
                                                    <td class="pr-4"><input id="lineas_constructivas_declarada_00001" type="text" class="form-control declarada_lineas_constructivas numero" onkeyup="SumarAreasConstructivas()" /></td>
                                                    <td style="display:none;"><input id="lineas_constructivas_id_00001" type="hidden" class="form-control id_lineas_constructivas" /></td>
                                                    <td>
                                                        <button onclick="CrearCamposUnidadCatastral(1, 'LineasContructivas', '00001', 'lineas_constructivas')" class="btn btn-sm btn-success fa fa-plus"></button>
                                                        <button onclick="EditarCamposUnidadCatastral(1, 'LineasContructivas', '00001', 'lineas_constructivas')" class="btn btn-sm btn-success fa fa-edit"></button>
                                                        <button onclick="EliminarCamposUnidadCatastral(1, this, '00001', 'item_lote_obser')" class="btn btn-sm btn-success fa fa-trash"></button>
                                                    </td>
                                                </tr>
                                                <tr name="validacion">
                                                    <td></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_txtpiso_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_mes_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_ano_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_material_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_estado_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_muro_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_techo_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_piso_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_puerta_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_revest_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_bano_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_electricas_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_verificada_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="val_lineas" data-valmsg-for="val_lineas_constructivas_declarada_00001" data-valmsg-replace="true"></span></td>
                                                    <td style="display:none;"></td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="col-md-7"></div>
                                            <div class="col-md-2">
                                                <label style="text-align:right">Total de Area Verificada</label>
                                            </div>
                                            <div class="col-md-2">
                                                <input id="txtTotalAreaVerificada" type="text" class="form-control verificada_lineas_constructivas numero"  style="text-align: right;" disabled="disabled"/>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="col-md-7"></div>
                                            <div class="col-md-2">
                                                <label style="text-align:right">Total de Area Declarada</label>
                                            </div>
                                            <div class="col-md-2">
                                                <input id="txtTotalAreaDeclarada" type="text" class="form-control verificada_lineas_constructivas numero" style="text-align: right;" disabled="disabled" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <div class="row">
                            <fieldset class="formulario">
                                <legend>Otras Instalaciones</legend>
                                <div class="relative">
                                    <button data-toggle="collapse" href="#panelOtasInstalaciones" class="btn btn-xs btn-success fa fa-caret-down absolute"></button>
                                    <div class="row collapse in" id="panelOtasInstalaciones">
                                        <div class="col-md-12">
                                            <table id="OtasInstalaciones">
                                                <tr>
                                                    <td width="6%"><label class="control-label">Nro.</label></td>
                                                    @*<td width="7%"><label class="control-label">Código</label></td>*@
                                                    <td width="37%"><label class="control-label">Tipo de Instalación</label></td>
                                                    <td width="8%"><label class="control-label">Unidad</label></td>
                                                    <td width="8%"><label class="control-label">Capacidad</label></td>
                                                    <td width="8%"><label class="control-label">Cantidad</label></td>
                                                    <td width="8%"><label class="control-label">Mes</label></td>
                                                    <td width="6%"><label class="control-label">Año</label></td>
                                                    <td width="11%"><label class="control-label">Estado <br />Conservación</label></td>
                                                    <td width="8%"></td>
                                                </tr>
                                                <tr>
                                                    <td class="pr-4"><input value="00001" disabled type="text" class=" form-control item_otras_instalaciones" /></td>
                                                    @*<td class="pr-4"><select onchange="CapturarTipoInstalacion(this)" id="otras_instalaciones_codigo_00001" class="form-control codigo_otras_instalaciones"></select></td>*@
                                                    <td class="pr-4"><select onchange="CapturarCodigoTipoInstalacion(this)" id="otras_instalaciones_tipoinstalacion_00001" class="form-control tipoinstalacion_otras_instalaciones"></select></td>
                                                    <td class="pr-4"><select id="otras_instalaciones_unidad_00001" disabled class="form-control unidad_otras_instalaciones"></select></td>
                                                    <td class="pr-4"><input id="otras_instalaciones_capacidad_00001" type="text" class="form-control capacidad_otras_instalaciones numero" /></td>
                                                    <td class="pr-4"><input id="otras_instalaciones_cantidad_00001" type="text" class="form-control cantidad_otras_instalaciones" /></td>
                                                    <td class="pr-4"><select id="otras_instalaciones_mes_00001" class="form-control mes_otras_instalaciones"></select></td>
                                                    <td class="pr-4"><input id="otras_instalaciones_ano_00001" type="text" class="form-control ano_otras_instalaciones" /></td>
                                                    <td class="pr-4"><select id="otras_instalaciones_estadoconservacion_00001" class="form-control estadoconservacion_otras_instalaciones"></select></td>
                                                    <td style="display:none;"><input id="otras_instalaciones_id_00001" type="hidden" class="form-control id_otras_instalaciones" /></td>
                                                    <td>
                                                        <button onclick="CrearCamposUnidadCatastral(2, 'OtasInstalaciones', '00001', 'otras_instalaciones')" class="btn btn-sm btn-success fa fa-plus"></button>
                                                        <button onclick="EditarCamposUnidadCatastral(2, 'OtasInstalaciones', '00001', 'otras_instalaciones')" class="btn btn-sm btn-success fa fa-edit"></button>
                                                        <button onclick="EliminarCamposUnidadCatastral(2, this, '00001', 'item_lote_obser')" class="btn btn-sm btn-success fa fa-trash"></button>
                                                        @*<button onclick="GrabarCamposDocumentacion()" class="btn btn-sm btn-success fa fa-save"></button>*@
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    @*<td><span class="" data-valmsg-for="val_otras_instalaciones_codigo_00001" data-valmsg-replace="true"></span></td>*@
                                                    <td><span class="" data-valmsg-for="val_otras_instalaciones_tipoinstalacion_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_otras_instalaciones_unidad_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_otras_instalaciones_capacidad_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_otras_instalaciones_cantidad_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_otras_instalaciones_mes_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_otras_instalaciones_ano_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_otras_instalaciones_estadoconservacion_00001" data-valmsg-replace="true"></span></td>
                                                    <td style="display:none;"></td>
                                                    <td></td>
                                                </tr>

                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div id='tab-4'>
                        <div class="row">
                            <div class="col-md-4">
                                <fieldset class="formulario">
                                    <legend> Área de Terreno</legend>
                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Terreno Propia (m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control numero" id="AreaTerrenoVerificada" onkeyup="SumarAreasConstructivas()" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Terreno Común (m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control numero" disabled id="AreaTerrenoComun" onkeyup="SumarAreasConstructivas()" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Terreno Total (m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control numero" id="AreaTerrenoTotal" disabled="disabled" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Terreno Declarada (m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control numero" id="AreaTerrenoDeclarada" onkeyup="SumarAreasConstructivas()" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Terreno Sub Valuada (m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" id="AreaTerrenoSubValuada" disabled="disabled" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Terreno Sobre Valuada (m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control" id="AreaTerrenoSobreValuada" disabled="disabled" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                </fieldset>
                            </div>
                            <div class="col-md-4">
                                <fieldset class="formulario">
                                    <legend> Área Construida</legend>
                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Construida Total Verificada(m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control numero" readonly="readonly" id="AreaConstruidaTotalVerificada" disabled="disabled" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Construida Total Declarada(m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control numero" id="AreaConstruidaTotalDeclarada" disabled="disabled" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Construida Sub Valuada(m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control numero" readonly="readonly" id="AreaConstruidaSubValuada" disabled="disabled" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Construida Sobre Valuada(m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control numero" readonly="readonly" id="AreaConstruidaSobreValuada" disabled="disabled" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <div class="form-group">
                                            <label class="control-label col-md-6 px-1"> Área Ocupada(estac.)(m2)</label>
                                            <div class="col-md-6">
                                                <input type="text" class="form-control numero" id="AreaOcupada" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>

                                </fieldset>
                            </div>
                            <div class="col-md-4">
                                <fieldset class="formulario">
                                    <legend> Bienes Comunes</legend>
                                    <input type="hidden" id="Nivel" value="01" />
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <select  disabled id="selporof1" class="form-control text-center unidadbc_tipop">
                                                    <option value="1">OFICIAL</option>
                                                    <option value="2">CALCULADO</option>
                                                    <option value="3">NO TIENE</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <input  type="text" disabled class="form-control numero" id="AreaComunesOficial" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 mb-3 ml-3" style="display:none;">
                                        <div class="form-group">
                                            <label class="radio-inline control-label col-md-6 px-1">
                                                @*<input disabled type="radio" class="radbt" name="POROFCOM1" id="porof1" value="1" checked>% Oficial*@
                                            </label>
                                            <div class="col-md-6">
                                                <input disabled type="text" class="form-control numero" id="AreaComunesOficial" style="text-align: right;" />
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-md-12 mb-3 ml-3" style="display:none;">
                                        <div class="form-group">
                                            <label class="radio-inline control-label col-md-6 px-1">
                                                @*<input disabled type="radio" class="radbt" name="POROFCOM1" id="porof2" value="2">% Calculado*@
                                            </label>
                                            <div class="col-md-6">
                                                <input disabled type="text" class="form-control numero" readonly="readonly" id="AreaComunesCalculado" style="text-align: right;" />
                                            </div>
                                        </div>
                                    </div>


                                </fieldset>
                            </div>
                        </div>
                    </div>
                    <div id='tab-5'>
                        <div class="row">
                            <fieldset class="formulario">
                                <legend>Actividad Economica</legend>
                                <div class="relative">
                                    <button data-toggle="collapse" href="#panelActividadEconomica" class="btn btn-xs btn-success fa fa-caret-down absolute"></button>
                                    <div class="row collapse in" id="panelActividadEconomica">
                                        <div class="col-md-12">
                                            <table id="ActividadEconomica">
                                                <tr>
                                                    <td width="5%"><label class="control-label">Nro.</label></td>
                                                    <td width="9%"><label class="control-label">Código Uso CIIU</label></td>
                                                    <td width="30%"><label class="control-label">Uso CIIU</label></td>
                                                    <td width="8%"><label class="control-label">m2</label></td>
                                                    <td width="9%"><label class="control-label">Fecha</label></td>
                                                    <td width="10%"><label class="control-label">Uso de Retiro</label></td>
                                                    <td width="10%"><label class="control-label">Anuncio</label></td>
                                                    <td width="10%"><label class="control-label">Tipo de Anuncio</label></td>
                                                    <td width="8%"></td>
                                                </tr>
                                                <tr>
                                                    <td class="pr-4"><input value="00001" disabled type="text" class=" form-control item_actividad_economica" /></td>
                                                    <td class="pr-4"><select id="actividad_economica_codigo_00001" class="chosen-seleccionar form-control codigo_actividad_economica"></select></td>
                                                    <td class="pr-4"><select id="actividad_economica_uso_00001" class="chosen-seleccionar form-control uso_actividad_economica"></select></td>
                                                    <td class="pr-4"><input id="actividad_economica_metro_00001" type="text" class="numero form-control metro_actividad_economica" /></td>
                                                    <td class="pr-4"><input id="actividad_economica_fecha_00001" type="date" class="form-control fecha_actividad_economica" /></td>
                                                    <td class="pr-4"><select id="actividad_economica_retiro_00001" class="form-control retiro_actividad_economica"></select></td>
                                                    <td class="pr-4"><select id="actividad_economica_anuncio_00001" class="form-control anuncio_actividad_economica"> </select></td>
                                                    <td class="pr-4"><select id="actividad_economica_tipoanuncio_00001" class="chosen-seleccionar form-control tipoanuncio_actividad_economica"> </select></td>
                                                    <td style="display:none;"><input id="actividad_economica_id_00001" type="hidden" class="form-control id_actividad_economica" /></td>
                                                    <td>
                                                        <button onclick="CrearCamposUnidadCatastral(3, 'ActividadEconomica', '00001', 'actividad_economica')" class="btn btn-sm btn-success fa fa-plus"></button>
                                                        <button onclick="EditarCamposUnidadCatastral(3, 'ActividadEconomica', '00001', 'actividad_economica')" class="btn btn-sm btn-success fa fa-edit"></button>
                                                        <button onclick="EliminarCamposUnidadCatastral(3, this, '00001', 'item_lote_obser')" class="btn btn-sm btn-success fa fa-trash"></button>
                                                    </td>
                                                </tr>
                                                <tr name="validacion">
                                                    <td></td>
                                                    <td><span class="" data-valmsg-for="val_actividad_economica_codigo_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_actividad_economica_uso_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_actividad_economica_metro_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_actividad_economica_fecha_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_actividad_economica_retiro_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_actividad_economica_anuncio_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_actividad_economica_tipoanuncio_00001" data-valmsg-replace="true"></span></td>
                                                    <td style="display:none;"></td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div id='tab-6'>
                        @*//CAMBIOS NUEVOS CATASTRO GJLR-INI*@
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="form-group">
                                        <label class="control-label tit-label-01">DATOS DE LOS CONDOMINOS</label><hr class="hr-01" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        @*//CAMBIOS NUEVOS CATASTRO GJLR-FIN*@
                        <div class="row">
                            <div class="col-md-1">
                                <span class="icon-add">
                                    @Ajax.ActionLink(" Agregar", "AgregarTitular", "Cotitularidad"
                                                                                        , new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "modalNuevoTitular", OnComplete = "mostrarModal('NuevoTitular')" }
                                                                    , new { @class = "btn btn-create btn-block  glyphicon glyphicon-plus-sign", id = "btnBuscarTitular" })
                                </span>
                            </div>
                        </div>
                        <br />

                        @*<div class="row">
                            <div class="col-md-12">
                                <table style="width:23%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="32%">Condición Propiedad</th>
                                            <td width="68%" id="tdCondicionPropiedad"></td>
                                        </tr>

                                    </thead>
                                </table>
                            </div>
                        </div>*@
                        <div class="row">
                            <div class="col-md-12">
                                <table id="tablaUnidadTitular" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th style="width:7%">Acciones.</th>
                                            <th style="width:5%">Nro.</th>
                                            <th style="width:15%" width="15%">Tipo Documento <br /> Identidad</th>
                                            <th style="width:15%" width="15%">Nro. Documento <br /> Identidad</th>
                                            <th style="width:25%" width="25%">Nombre o Razón Social</th>
                                            <th style="width:10%" width="10%">Codigo de <br /> Contribuyente</th>
                                            <th style="width:10%" width="10%">% Condominio</th>
                                            <th style="width:10%" width="10%">Tipo de <br /> Propietario</th>
                                            @*//CAMBIOS NUEVOS CATASTRO GJLR-INI*@
                                            <th style="width:15%" width="15%">Codigo Via</th>
                                            <th style="width:15%" width="15%">Via</th>
                                            <th style="width:15%" width="15%">Block-Torre</th>
                                            <th style="width:10%" width="10%">Nº Munic.</th>
                                            <th style="width:10%" width="10%">Int.</th>
                                            <th style="width:10%" width="10%">Urbanización</th>
                                            <th style="width:10%" width="10%">Mza</th>
                                            <th style="width:10%" width="10%">Lote</th>
                                            <th style="width:10%" width="10%">Distrito</th>
                                            <th style="width:10%" width="10%">Telefono</th>
                                            @*//CAMBIOS NUEVOS CATASTRO GJLR-FIN*@
                                            <th width="30%"></th>
                                            <th width="30%"></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div id='tab-7'>
                        <div class="row">
                            <fieldset class="formulario">
                                <legend>Documentos RRPP</legend>
                                <div class="row">
                                    <div class="col-md-1">
                                        <span class="icon-add">
                                            @Ajax.ActionLink(" Agregar", "AgregarDocumentoRPP", "Cotitularidad"
                                                                                    , new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "modalNuevoDocRRPP", OnComplete = "mostrarModal('NuevoDocRRPP')" }
                                                                        , new { @class = "btn btn-create btn-block  glyphicon glyphicon-plus-sign", id = "btnBuscarDOCRRPP" })
                                        </span>
                                    </div>
                                </div>
                                <br />
                                <table id="tablaUnidadRRPP" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="5%">Nro.</th>
                                            <th width="30%">Tipo Documento</th>
                                            <th width="15%">Partida Electronica</th>
                                            <th width="10%">Tomo Ficha</th>
                                            <th width="10%">Folio</th>
                                            <th width="10%">Asiento</th>
                                            <th width="10%">Fecha Documento RRPP</th>
                                            <th width="10%">Acción</th>
                                            <th></th>
                                            <th></th>

                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>
                            </fieldset>
                        </div>
                        <div class="row">
                            <fieldset class="formulario">
                                <legend>Expedientes y/o Documentos Simples</legend>
                                <div class="row">
                                    <div class="col-md-1">
                                        <span class="icon-add">
                                            @Ajax.ActionLink(" Agregar", "AgregarExpeDoc", "Cotitularidad"
                                                                                            , new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "modalNuevoExpeDoc", OnComplete = "mostrarModal('NuevoExpeDoc')" }
                                                                        , new { @class = "btn btn-create btn-block  glyphicon glyphicon-plus-sign", id = "btnBuscarDOCEXPE" })
                                        </span>
                                    </div>
                                </div>
                                <br />
                                <table id="tablaUnidadExpedienteDoc" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="5%">Nro.</th>
                                            <th width="24%">Solicitante</th>
                                            <th width="14%">Documento</th>
                                            <th width="10%">Número</th>
                                            <th width="10%">Fecha</th>
                                            <th width="29%">Observacion</th>
                                            @*<th width="10%">Acción</th>*@
                                            <th></th>
                                            <th></th>

                                            @*<th></th>
                                                <th></th>
                                                <th></th>
                                                <th></th>
                                                <th></th>
                                                <th></th>*@
                                        </tr>
                                    </thead>
                                </table>
                            </fieldset>
                        </div>
                        <div class="row">
                            <fieldset class="formulario">
                                <legend>Licencias de Funcionamiento</legend>

                                <div class="row">
                                    <div class="col-md-1">
                                        <span class="icon-add">
                                            @Ajax.ActionLink(" Agregar", "AgregarLicenciaFunc", "Cotitularidad"
                                                                                                    , new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "modalNuevoLicenciaFunc", OnComplete = "mostrarModal('NuevoLicenciaFunc')" }
                                                                        , new { @class = "btn btn-create btn-block  glyphicon glyphicon-plus-sign", id = "btnBuscarDOCLIC" })
                                        </span>
                                    </div>
                                </div>

                                <br />
                                <table id="tablaUnidadLicenciaFunc" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="5%">Nro.</th>
                                            <th width="30%">Nro Licencia</th>
                                            <th width="15%">Solicitante</th>
                                            <th width="10%">Beneficiario</th>
                                            <th width="10%">Giro</th>
                                            <th width="10%">Fecha Licencia</th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>

                            </fieldset>
                        </div>

                        <div class="row">
                            <fieldset class="formulario">
                                <legend>Obras Privadas</legend>

                                <div class="row">
                                    <div class="col-md-1">
                                        <span class="icon-add">
                                            @Ajax.ActionLink(" Agregar", "AgregarObrasPrivadas", "Cotitularidad"
                                                                                                            , new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "modalNuevoObrasPrivadas", OnComplete = "mostrarModal('NuevoObrasPrivadas')" }
                                                                        , new { @class = "btn btn-create btn-block  glyphicon glyphicon-plus-sign", id = "btnBuscarDOCOP" })
                                        </span>
                                    </div>
                                </div>

                                <br />
                                <table id="tablaUnidadObrasPrivadas" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="5%">Nro.</th>
                                            <th width="30%">Nro Licencia</th>
                                            <th width="15%">Solicitante</th>
                                            <th width="10%">Beneficiario</th>
                                            <th width="10%">Giro</th>
                                            <th width="10%">Fehca Licencia</th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            @*<th></th>*@
                                        </tr>
                                    </thead>
                                </table>

                            </fieldset>
                        </div>


                    </div>
                    <!--******************************************************* TAB 8 *******************************************************-->
                    <div id='tab-8'>
                        <div class="row">
                            <fieldset class="formulario">
                                @*<legend>Observaciones Generales</legend>*@
                                <div class="relative">
                                    <button data-toggle="collapse" href="#panel4" class="btn btn-xs btn-success fa fa-caret-down absolute"></button>
                                    <div class="row collapse in" id="panel4">
                                        <div class="col-md-12">
                                            <table id="ObservacionGeneral">
                                                <tr>
                                                    <td width="5%">Item</td>
                                                    <td width="12%">Fecha</td>
                                                    <td width="75%">Observacion</td>
                                                    <td width="8%"></td>
                                                </tr>
                                                <tr>
                                                    <td class="pr-4"><input id="obs_general_item_00001" value="00001" type="text" class="form-control item_obs_general" /></td>
                                                    <td class="pr-4"><input id="obs_general_fecha_00001" type="date" class="form-control fecha_obs_general" /></td>
                                                    @*<td class="pr-4"><input id="obs_general_observacion_00001" type="text" class="form-control obser_obs_general" /></td>*@
                                                    <td style="padding-right: 1.5rem !important;"><textarea id="obs_general_observacion_00001" class="form-control obser_obs_general" rows="3"></textarea></td>
                                                    <td style="display:none;"><input id="obs_general_id_00001" type="hidden" class="form-control id_otras_instalaciones" /></td>
                                                    <td>
                                                        <button onclick="CrearCamposUnidadCatastral(7, 'ObservacionGeneral', '00001', 'obs_general')" class="btn btn-sm btn-success fa fa-plus"></button>
                                                        <button onclick="EditarCampoUnidadCatastral(7, 'ObservacionGeneral', '00001', 'obs_general')" class="btn btn-sm btn-success fa fa-edit"></button>
                                                        <button onclick="EliminarCampoUnidadCatastral(7, this, '00001', 'item_obs_general')" class="btn btn-sm btn-success fa fa-trash"></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td><span class="" data-valmsg-for="val_obs_general_fecha_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_obs_general_observacion_00001" data-valmsg-replace="true"></span></td>
                                                    <td style="display:none;"></td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        @*<div class="row">
                            <fieldset class="formulario">
                                <legend>Cargas Inscritas en SUNARP</legend>
                                <div class="relative">
                                    <button data-toggle="collapse" href="#panel5" class="btn btn-xs btn-success fa fa-caret-down absolute"></button>
                                    <div class="row collapse in" id="panel5">
                                        <div class="col-md-12">
                                            <table id="ObservacionSunarp">
                                                <tr>
                                                    <td width="5%">Item</td>
                                                    <td width="12%">Fecha</td>
                                                    <td width="75%">Detalle</td>
                                                    <td width="8%"></td>
                                                </tr>
                                                <tr style="height:45px">
                                                    <td class="pr-4"><input id="obs_sunarp_item_00001" value="00001" type="text" class="form-control item_obs_sunarp" /></td>
                                                    <td class="pr-4"><input id="obs_sunarp_fecha_00001" type="date" class="form-control fecha_obs_sunarp" /></td>
                                                    <td style="padding-right: 1.5rem !important;"><textarea disabled id="obs_sunarp_observacion_00001" class="form-control obser_obs_sunarp" rows="3"></textarea></td>
                                                    <td style="display:none;"><input id="obs_sunarp_id_00001" type="hidden" class="form-control id_obs_sunarp" /></td>
                                                    <td>
                                                        <button onclick="CrearCamposUnidadCatastral(8, 'ObservacionSunarp', '00001', 'obs_sunarp')" class="btn btn-sm btn-success fa fa-plus"></button>
                                                        <button onclick="EditarCampoUnidadCatastral(8, 'ObservacionSunarp', '00001', 'obs_sunarp')" class="btn btn-sm btn-success fa fa-edit"></button>
                                                        <button onclick="EliminarCampoUnidadCatastral(8, this, '00001', 'item_obs_sunarp')" class="btn btn-sm btn-success fa fa-trash"></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td><span class="" data-valmsg-for="val_obs_sunarp_fecha_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_obs_sunarp_observacion_00001" data-valmsg-replace="true"></span></td>
                                                    <td style="display:none;"></td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>*@

                        @*<div class="row">
                            <fieldset class="formulario">
                                <legend>Observaciones Respecto a las Cargas</legend>
                                <div class="relative">
                                    <button data-toggle="collapse" href="#panel6" class="btn btn-xs btn-success fa fa-caret-down absolute"></button>
                                    <div class="row collapse in" id="panel6">
                                        <div class="col-md-12">
                                            <table id="ObservacionCarga">
                                                <tr>
                                                    <td width="5%">Item</td>
                                                    <td width="12%">Fecha</td>
                                                    <td width="75%">Detalle</td>
                                                    <td width="8%"></td>
                                                </tr>
                                                <tr style="height:45px">
                                                    <td class="pr-4"><input id="obs_carga_item_00001" value="00001" disabled type="text" class="form-control item_obs_carga" /></td>
                                                    <td class="pr-4"><input id="obs_carga_fecha_00001" type="date" class="form-control fecha_obs_carga" /></td>
                                                    <td style="padding-right: 1.5rem !important;"><textarea disabled id="obs_carga_observacion_00001" class="form-control obser_obs_carga" rows="3"></textarea></td>
                                                    <td style="display:none;"><input id="obs_carga_id_00001" type="hidden" class="form-control id_obs_carga" /></td>
                                                    <td>
                                                        <button onclick="CrearCamposUnidadCatastral(9, 'ObservacionCarga', '00001', 'obs_carga')" class="btn btn-sm btn-success fa fa-plus"></button>
                                                        <button onclick="EditarCampoUnidadCatastral(9, 'ObservacionCarga', '00001', 'obs_carga')" class="btn btn-sm btn-success fa fa-edit"></button>
                                                        <button onclick="EliminarCampoUnidadCatastral(9, this, '00001', 'item_obs_carga')" class="btn btn-sm btn-success fa fa-trash"></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td><span class="" data-valmsg-for="val_obs_carga_fecha_00001" data-valmsg-replace="true"></span></td>
                                                    <td><span class="" data-valmsg-for="val_obs_carga_observacion_00001" data-valmsg-replace="true"></span></td>
                                                    <td style="display:none;"></td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>*@


                    </div>
                    <!--------------------------------------------------------- FIN TAB 8 ----------------------------------------------------->
                    <div id='tab-9'>
                        <div class="row">
                            <div class="col-md-12">
                                <h4>Otros Informes Internos</h4>
                                <table id="tablaCartasInformes" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th width="5%">Nro.</th>
                                            <th width="20%">Nro. Documento </th>
                                            <th width="15%">Tipo Documento</th>
                                            <th width="10%">Fecha</th>
                                            <th width="50%">Responsable</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div id='tab-10'>
                        <fieldset class="formulario">
                            <legend>Linderos</legend>
                            <div class="row">
                                <div class="col-xl-2 col-lg-2 col-md-3">
                                    <div class="btn-group">
                                        <button class="btn dropdown-toggle btn-success" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span class="pl-3">Agregar Lindero </span> <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a href="javascript:void(0)" onclick="RegistrarLindero('03')">Frente</a></li>
                                            <li><a href="javascript:void(0)" onclick="RegistrarLindero('04')">Izquierda</a></li>
                                            <li><a href="javascript:void(0)" onclick="RegistrarLindero('05')">Fondo</a></li>
                                            <li><a href="javascript:void(0)" onclick="RegistrarLindero('06')">Derecha</a></li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <table id="LoteLinderos"  style="width:100%;" class="table responsive display mt-3 table-striped table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <th width="3%">Acciones</th>
                                                <th width="8%">Lado</th>
                                                <th width="8%">Nro. Lado</th>
                                                <th width="10%">Medida Lado Campo</th>
                                                <th width="10%">Medida Lado Oficial</th>
                                                @*<th>Tipo Colindante</th>*@
                                                <th width="100%">Colindante</th>
                                                <th style="display:none;"></th>
                                                <th style="display:none;"></th>
                                                <th style="display:none;"></th>
                                                <th style="display:none;"></th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>

                        </fieldset>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

@*//CAMBIOS NUEVOS CATASTRO GJLR-INI*@
<!-- Modal -->
<div class="modal fade" id="miModalCotitularidad" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                @*<h5 class="modal-title" id="modalLabel">Título del Modal</h5>*@
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row" id="Lotes">
                    <div class="col-lg-12">
                        <div class="panel panel-default">
                            <div class="panel-heading" style="overflow: hidden">
                                <div class="row">
                                    <div class="col-md-6 col-xs-12"><h3><strong>Ficha Cotitularidad</strong></h3></div><div class="col-md-4"></div>
                                    @*<div class="col-md-2 col-xs-12">
                                            <span><button id="GrabarGeneral" type="button" disabled class="btn btn-green mr-2 btn-block" style="float:right" onclick="GrabarLote()"><span class="glyphicon glyphicon-ok mr-2"></span> Grabar</button></span>
                                        </div>*@
                                </div>
                            </div>
                            <div class="panel-body">
                                <div class="">
                                    @if (@Model.Estatico != true)
                                    {
                                        <div class="row">
                                            <!-- lbarrientos Cuadro de búsqueda - i-->
                                            <div class="col-xs-7 px-3" id="opciones">
                                                <label for="">Opciones:</label>
                                                <input type="radio" name="opc" value="1" onchange="mostrarOpcion(this.value);" checked="checked" />Por Documentos
                                                <input type="radio" name="opc" value="2" onchange="mostrarOpcion(this.value);" />Por Código Catastral
                                            </div>
                                        </div>
                                        <div class="row">
                                            <!-- Se agrega el div divCodCatastral-->
                                            <div class="col-xs-5 px-3" id="divCodCatastral">
                                                <!-- xs-7 -->
                                                <div id="panelUUCC" class="col-sm-9">
                                                    <div class="col-xl-12 ">
                                                        <table border="0">
                                                            <tr>
                                                                <td width="12%"><label class="form-label">Dist.</label></td>
                                                                <td width="12%"><label class="form-label">Sec</label></td>
                                                                <td width="12%"><label class="form-label">Mz</label></td>
                                                                <td width="12%"><label class="form-label">Lote</label></td>
                                                                <td width="12%"><label class="form-label">Ed</label></td>
                                                                <td width="12%"><label class="form-label">Entr</label></td>
                                                                <td width="12%"><label class="form-label">Piso</label></td>
                                                                <td width="12%"><label class="form-label">Unidad</label></td>
                                                            </tr>
                                                            <tr>
                                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNECodigoDistrito, new { @class = "form-control text-center px-3", @readonly = "true" })</td>
                                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNECodigoSector, new { @class = "form-control clSect text-center px-3", maxlength = 2, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNECodigoManzana, new { @class = "form-control clManza text-center px-3", maxlength = 3, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNECodigoLote, new { @class = "form-control clLote text-center px-3", maxlength = 3, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNEEd, new { @class = "form-control clEdif text-center block px-3", maxlength = 2 })</td>
                                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNEEntrada, new { @class = "form-control clEntr text-center block px-3", maxlength = 2 })</td>
                                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNEPiso, new { @class = "form-control clPiso text-center block px-3", maxlength = 2 })</td>
                                                                <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarNEUnidad, new { @class = "form-control clUnid text-center block px-3", maxlength = 3 })</td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-5" id="divDocumentos">
                                                <!--xs-7-->
                                                <div class="row">
                                                    <div class="col-sm-4 px-3">
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.FiltrarListTipoSolicitud, htmlAttributes: new { @class = "control-label" })
                                                            @Html.DropDownListFor(m => m.FiltrarCodigoTipoSolicitud, Model.FiltrarListTipoSolicitud, "- Seleccione el tipo de solicitud -", new { @class = "form-control" })
                                                            <span class="field-validation-valid" data-valmsg-for="FiltrarNumeroTramiteDocumentario" data-valmsg-replace="true"></span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4 px-3" id="divTipoDocumento" style="display:none;">
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.FiltrarListTipoDocumento, htmlAttributes: new { @class = "control-label" })
                                                            @Html.DropDownListFor(m => m.FiltrarCodigoTipoDocumento, Model.FiltrarListTipoDocumento, "- Seleccione el tipo de documento -", new { @class = "chosen-seleccionar form-control", autofocus = "true" })
                                                            <span class="field-validation-valid" data-valmsg-for="FiltrarCodigoTipoDocumentoReg" data-valmsg-replace="true"></span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2 px-3">
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.FiltrarNumeroSolicitud, htmlAttributes: new { @class = "control-label" })

                                                            @Html.TextBoxFor(model => model.FiltrarNumeroSolicitud, new { @class = "form-control" })

                                                            <span class="field-validation-valid" data-valmsg-for="FiltrarNumeroSolicitud" data-valmsg-replace="true"></span>
                                                        </div>
                                                    </div>

                                                    @*<div class="col-sm-2 text-center">
                                <div class="form-group"><br /><button id="btnBuscarSolicitud" onclick="buscarUnidad()" type="button" value="" class="btn btn-default btn-block glyphicon glyphicon-search" style="margin-top: 5px"></button></div>
                            </div>*@

                                                </div>
                                            </div>

                                            <div class="col-sm-2 text-center">
                                                <div class="form-group"><br /><button id="btnBuscarSolicitud" onclick="buscarUnidad()" type="button" value="" class="btn btn-default btn-block glyphicon glyphicon-search" style="margin-top: 5px"></button></div>
                                            </div>
                                            <!-- lbarrientos Cuadro de búsqueda - f-->
                                            <div class="col-xs-5 text-right">
                                                <br />
                                                <div class="row">
                                                    <div class="col-xl-4 pl-2 col-sm-12 col-sm-offset-4">
                                                        <span class="icon-add">
                                                            @Ajax.ActionLink(" Nuevo Codigo", "AgregarUcNuevo", "Cotitularidad",
                                        new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "modalRegistrarUCNuevo", OnComplete = "mostrarModal('RegistrarUCNuevo', 'Asignacion')" },
                                        new { @class = "btn btn-default btn-sm btn-block  glyphicon glyphicon-plus", disabled = "true", @id = "btnNuevoUC" })
                                                        </span>
                                                    </div>
                                                    <div class="col-xl-4 pl-2 col-sm-12" id="Lotes">
                                                        <button type="button" id="GenFicha" disabled class="btn btn-success btn-sm glyphicon glyphicon-print btn-block" style="float:right" onclick="GenerarFicha()"><span style="font-family:'Open Sans'"> Generar Ficha Preliminar</span></button>
                                                    </div>
                                                </div>

                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-xs-7">

                                                <div class="row">

                                                    <div class="col-sm-4 px-3">
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.TipoRequerimiento, htmlAttributes: new { @class = "control-label" })
                                                            @Html.TextBoxFor(model => model.TipoRequerimiento, new { @class = "form-control", @readonly = "readonly" })
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-4 px-3">
                                                        <div class="form-group">
                                                            <label class="control-label">Tipo Llenado Solicitud</label>
                                                            <input type="text" class="form-control" id="TipoLlenado" disabled />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <label class="control-label">Unidad Por Trabajar</label>
                                        <div class="row">
                                            <div class="col-md-12 px-3">
                                                <table id="tablaUnidadCatastral" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th width="9%">Dist</th>
                                                            <th width="9%">Sec</th>
                                                            <th width="9%">Mz</th>
                                                            <th width="9%">Lote</th>
                                                            <th width="9%">Ed</th>
                                                            <th width="9%">Entr</th>
                                                            <th width="9%">Piso</th>
                                                            <th width="9%">Unidad</th>
                                                            <th width="9%">Referencia</th>
                                                            <th width="9%">Estado</th>
                                                            <th style="display:none;"></th>
                                                            <th style="display:none;"></th>
                                                            @*<th width="9%">Tipo Llenado</th>*@
                                                            <th width="11%">Acciones</th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>
                                        <br />
                                        <label class="control-label">Unidad Referencia</label>
                                        <div class="row">
                                            <div class="col-md-12 px-3">
                                                <table id="tablaUnidadCatastralRef" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th width="9%">Dist</th>
                                                            <th width="9%">Sec</th>
                                                            <th width="9%">Mz</th>
                                                            <th width="9%">Lote</th>
                                                            <th width="9%">Ed</th>
                                                            <th width="9%">Entr</th>
                                                            <th width="9%">Piso</th>
                                                            <th width="9%">Unidad</th>
                                                            <th width="9%">Referencia</th>
                                                            <th width="9%">Estado</th>
                                                            <th width="11%"></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="row">
                                            <div class="col-xl-6 ">
                                                @*<div class="row">
                            <div class="col-sm-5">
                                <div class="form-group">
                                    <label class="control-label">Código Catastral</label>
                                    <input type="text" id="CodigoCatastralMask" class="form-control" />
                                </div>
                            </div>
                            <div class="col-sm-2 text-center">
                                <div class="form-group"><br />
                                    <button id="btnBuscarSolicitud2" onclick="buscarUnidadEstatico()" type="button" value="" class="btn btn-default btn-block glyphicon glyphicon-search" style="margin-top: 5px"></button>
                                </div>
                            </div>
                        </div>*@
                                                <table border="0">
                                                    <tr>
                                                        <td width="12%"><label class="form-label">Dist.</label></td>
                                                        <td width="12%"><label class="form-label">Sec</label></td>
                                                        <td width="12%"><label class="form-label">Mz</label></td>
                                                        <td width="12%"><label class="form-label">Lote</label></td>
                                                        <td width="12%"><label class="form-label">Ed</label></td>
                                                        <td width="12%"><label class="form-label">Entr</label></td>
                                                        <td width="12%"><label class="form-label">Piso</label></td>
                                                        <td width="12%"><label class="form-label">Unidad</label></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarCodigoDistrito, new { @class = "form-control text-center px-3", @readonly = "true" })</td>
                                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarCodigoSector, new { @class = "form-control clSect text-center px-3", maxlength = 2, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarCodigoManzana, new { @class = "form-control clManza text-center px-3", maxlength = 3, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarCodigoLote, new { @class = "form-control clLote text-center px-3", maxlength = 3, @onkeypress = "if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;" })</td>
                                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarEd, new { @class = "form-control clEdif text-center block px-3", maxlength = 2 })</td>
                                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarEntrada, new { @class = "form-control clEntr text-center block px-3", maxlength = 2 })</td>
                                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarPiso, new { @class = "form-control clPiso text-center block px-3", maxlength = 2 })</td>
                                                        <td style="padding-right:5px;">@Html.TextBoxFor(model => model.FiltrarUnidad, new { @class = "form-control clUnid text-center block px-3", maxlength = 3 })</td>
                                                        <td>
                                                            <div class="">
                                                                <button id="btnBuscarEstatico" onclick="buscarUnidadEstatico()" type="button" value="" class="btn btn-default btnBuscar glyphicon glyphicon-search" style="padding: 6px 35px"></button>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="5">
                                                            <div class="has-error ml-3 mt-2">
                                                                <ul id="msgErrores"></ul>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-md-12 unidad">
                                                <table id="tablaUnidadCatastralEstatico" style="width:100%" class="table responsive display table-striped table-bordered table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th>Código Catastral</th>
                                                            <th>Ver</th>
                                                            <th>Llenado</th>
                                                            <th>Fec. Actual</th>
                                                            <th> Ubicación</th>
                                                            <th>Tipo Int.</th>
                                                            <th>Nro.</th>
                                                            <th>Inscripcion</th>
                                                            <th> Uso Predio</th>
                                                            <th>CUC</th>
                                                            <th></th>
                                                            <th style="display:none"></th>
                                                            <th style="display:none">Dist</th>
                                                            <th style="display:none">Sec</th>
                                                            <th style="display:none">Mz</th>
                                                            <th style="display:none">Lote</th>
                                                            <th style="display:none">Ed</th>
                                                            <th style="display:none">Entr</th>
                                                            <th style="display:none">Piso</th>
                                                            <th style="display:none">Und</th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                @*<button type="button" class="btn btn-primary">Guardar Cambios</button>*@
            </div>
        </div>
    </div>
</div>
@*//CAMBIOS NUEVOS CATASTRO GJLR-FIN*@

<!-- Large modal -->
<div id="modalNuevoPredio"
     class="modal fade"
     tabindex="-1"
     role="dialog"
     aria-labelledby="RegistrarUnidadCatastral"
     aria-hidden="true">
</div>



<div id="modalNuevoTitular"
     class="modal fade"
     tabindex="-1"
     role="dialog"
     aria-labelledby="RegistrarUnidadCatastral"
     aria-hidden="true">
</div>

<div id="modalNuevoDocRRPP"
     class="modal fade"
     tabindex="-1"
     role="dialog"
     aria-labelledby="RegistrarUnidadCatastral"
     aria-hidden="true">
</div>

<div id="modalNuevoExpeDoc"
     class="modal fade"
     tabindex="-1"
     role="dialog"
     aria-labelledby="RegistrarUnidadCatastral"
     aria-hidden="true">
</div>

<div id="modalNuevoLicenciaFunc"
     class="modal fade"
     tabindex="-1"
     role="dialog"
     aria-labelledby="RegistrarUnidadCatastral"
     aria-hidden="true">
</div>

<div id="modalNuevoObrasPrivadas"
     class="modal fade"
     tabindex="-1"
     role="dialog"
     aria-labelledby="RegistrarUnidadCatastral"
     aria-hidden="true">
</div>

<div id="modalRegistrarUCNuevo"
     class="modal fade"
     tabindex="-1"
     role="dialog">
</div>
<div id="modalRegistrarLindero" class="modal fade" tabindex="-1" role="dialog"></div>



@section datatables {
    <script src="@Url.Content("~/Scripts/dcalendar.picker.js")"></script>

    <script>
        var ROOT = '@Url.Content("~")';
        var Consultas = '@Model.Consultas';
        var Estatico = false;
        var deshabilitar = '';
        var deshabilitarTitularCatastral = '';

        //CAMBIOS NUEVOS CATASTRO GJLR-INI
        $("#miModalCotitularidad").modal("show");
        //CAMBIOS NUEVOS CATASTRO GJLR-FIN

        $('#FiltrarCodigoDistrito').val('31');
        
        $('#FiltrarNECodigoDistrito').val('31'); // lbarrientos Carga Distrito en filtro de búsqueda

        //CAMBIOS NUEVOS CATASTRO GJLR-INI
        //SE COMENTA LINEA DE CODIGO
        //document.getElementById("divCodCatastral").style.display="none"; // lbarrientos oculta div de código catastral
        //CAMBIOS NUEVOS CATASTRO GJLR-FIN

        @*if ('@Model.Estatico' != 'False') {
            $('#AreaOcupada').attr('disabled', 'disabled');
        }*@
        if (Consultas != 'False') {
            $('#btnBuscarCodigoCatastl').click(function () { return false; });
            $('#btnBuscarCodigoCatastl').attr('disabled', 'disabled');
            $('#btnBuscarDOCLIC').attr('disabled', 'disabled');
            $('#btnBuscarDOCLIC').click(function () { return false; });
            $('#btnBuscarDOCRRPP').attr('disabled', 'disabled');
            $('#btnBuscarDOCRRPP').click(function () { return false; });
            $('#btnBuscarDOCEXPE').attr('disabled', 'disabled');
            $('#btnBuscarDOCEXPE').click(function () { return false; });
            $('#btnBuscarDOCOP').attr('disabled', 'disabled');
            $('#btnBuscarDOCOP').click(function () { return false; });
            $('#btnBuscarTitular').attr('disabled', 'disabled');
            $('#btnBuscarTitular').click(function () { return false; });

            $('#CodigoPredial').attr('disabled', 'disabled');
            $('#CodigoCodInscripcionCatastral').attr('disabled', 'disabled');
            $('#CodigoInscripcionCatastral').attr('disabled', 'disabled');

            $('#CodigoFuenteInscripcionCatastral').attr('disabled', 'disabled');
            $('#CodigoCargaRegistral').attr('disabled', 'disabled');
            $('#CodigoTipoLlenado').attr('disabled', 'disabled');
            $('#Denominacion').attr('disabled', 'disabled');
            $('#CodgiUsoPredio').attr('disabled', 'disabled');
            $('#CodigoClasificacionPredio').attr('disabled', 'disabled');
            $('#CodigoDepartamentoPredio').attr('disabled', 'disabled');
            $('#CodigoEstadoConstruccion').attr('disabled', 'disabled');
            $('#AreaTerrenoVerificada').attr('disabled', 'disabled');
            $('#AreaOcupada').attr('disabled', 'disabled');
            $('#AreaTerrenoComun').attr('disabled', 'disabled');
            $('#AreaTerrenoDeclarada').attr('disabled', 'disabled');
            $('#FechaUltimaInspeccion').attr('disabled', 'disabled');
            $('#FechaActualizacion').attr('disabled', 'disabled');
            $('.btnLindero').attr('disabled', 'disabled');
            $('input[name=POROFCOM1]').attr("disabled", true);
            deshabilitar = ' disabled ';
        }
        
        // lbarrientos - Radio para elegir búsqueda - i
        function mostrarOpcion(dato){
            if(dato=="1"){
                document.getElementById("divCodCatastral").style.display="none";
                document.getElementById("divDocumentos").style.display="block";
            }
            if(dato=="2"){
                document.getElementById("divCodCatastral").style.display="block";
                document.getElementById("divDocumentos").style.display="none";
            }
        }
        // lbarrientos - Radio para elegir búsqueda - f
    </script>
    <script src="@Url.Content("~/assets/msisic/Cotitularidad/UnidadCatastralTab05.js")"></script>
    <script>

        $(".chosen-seleccionar").chosen({ width: "100%", placeholder_text_single: "Seleccione una opción" });
        pickmeup('#FechaUltimaInspeccion', { format: 'd/m/Y', max: new Date() + 1 });
        pickmeup('#FechaActualizacion', { format: 'd/m/Y', max: new Date() + 1 });
        $('#FechaUltimaInspeccion').val('');
        $('#FechaActualizacion').val('');
        $("#Independizacion").val('1');
        $('#GrabarUnidadCatastral').attr('disabled', 'disabled');
        var tablaDocumentoRRPPLote;
        var tablaLicenciaFuncLote;
        var tablaExpedienteDocLote;
        var tablaObrasPrivadasLote;
        var contLineasConstructivas, contIdLineasConstructivas, contOtrasInstalaciones, contIdOtrasInstalaciones, contActividadEconomica, contIdActividadEconomica, contLoteDocumRRPP, contIdLoteDocumRRPP,
            contLoteExpediente, contLoteIdExpediente, contLoteAuto, contIdLoteAuto, contObservacionGeneral, contIdObservacionGeneral,
            contObservacionSunarp, contIdObservacionSunarp, contObservacionCarga, contIdObservacionCarga, columnas, fieldset;
        contLineasConstructivas = contIdLineasConstructivas = contOtrasInstalaciones = contIdOtrasInstalaciones = contActividadEconomica = contIdActividadEconomica = contLoteDocumRRPP =
            contIdLoteDocumRRPP = contLoteExpediente = contLoteIdExpediente = contLoteAuto = contIdLoteAuto = contObservacionGeneral = contIdObservacionGeneral =
            contObservacionSunarp = contIdObservacionSunarp = contObservacionCarga = contIdObservacionCarga = 1;
        var lblTd = '<td class="pr-4">';
        var lblTdSpan = '<td>';

        $('.tabs').tabslet();
        $('#TabUC').hide();
        $('.numero').number(true, 4, '.', '');
        $(".chosen-seleccionar").chosen({ width: "100%", placeholder_text_single: "Seleccione una opción" });

        $("#btnGenerarReporteGeneral").click(function () {
            fn_GenerarReporteGeneral();
        });

        $('#FiltrarCodigoTipoSolicitud').change(function () {
            if (this.value === "010001") {
                $('#divTipoDocumento').show();
                var URL = "@Url.Content("~/RecepcionDocumentos/DocExterno")";
                $.post(URL, function (data) {
                    $('#FiltrarCodigoTipoDocumento').find('option:not(:first)').remove();
                    var items = '<option value="">Seleccione el tipo de documento</option>';
                    $.each(data, function (i, item) { items += "<option value='" + item.Value + "'>" + item.Text + "</option>"; });
                    $('#FiltrarCodigoTipoDocumento').html(items);
                    $('#FiltrarCodigoTipoDocumento').trigger("chosen:updated");
                });
            } else if (this.value === "010002") {
                $('#divTipoDocumento').show();
                var URL = "@Url.Content("~/RecepcionDocumentos/DocInterno")";
                $.post(URL, function (data) {
                    $('#FiltrarCodigoTipoDocumento').find('option:not(:first)').remove();
                    var items = '<option value="">Seleccione el tipo de documento</option>';
                    $.each(data, function (i, item) { items += "<option value='" + item.Value + "'>" + item.Text + "</option>"; });
                    $('#FiltrarCodigoTipoDocumento').html(items);
                    $('#FiltrarCodigoTipoDocumento').trigger("chosen:updated");
                });
            } else {
                $('#divTipoDocumento').hide();
                $('#FiltrarCodigoTipoDocumento').find('option:not(:first)').remove();
            }
        });
        $('#CodigoClasificacionPredio').change(function () {
            TipoDepartamentoAction(this.value, '');
        });
        $("#CodigoEstadoConstruccion").change(function () {
            if ($("#CodigoEstadoConstruccion").val() === '010002') {
                $("#AvanceConstruccion").removeAttr('disabled');
            } else {
                $("#AvanceConstruccion").attr('disabled', 'disabled');
                $("#AvanceConstruccion").val('');
            }
        });
        $("#CodigoCodInscripcionCatastral").change(function () {
            $('#CodigoInscripcionCatastral').val($("#CodigoCodInscripcionCatastral").val());
            $('.chosen-seleccionar').trigger("chosen:updated");
        });
        $("#CodigoInscripcionCatastral").change(function () {
            $('#CodigoCodInscripcionCatastral').val($("#CodigoInscripcionCatastral").val());
            $('.chosen-seleccionar').trigger("chosen:updated");
        });

        function replaceAll(str, find, replace) {
            return str.replace(new RegExp(find, 'g'), replace);
        }
        function TipoDepartamentoAction(value, result) {
            if (value === '010001') {
                $('#LabelTipoDepartamento').text('Tipo Departamento');
                $('#DivTipoDepartamento').show();
                $('#CodigoDepartamentoPredio').val(result);
            } else if (value === '010003') {
                $('#LabelTipoDepartamento').text('Tipo Oficina');
                $('#DivTipoDepartamento').show();
                $('#CodigoDepartamentoPredio').val(result);
            } else {
                $('#LabelTipoDepartamento').text('');
                $('#CodigoDepartamentoPredio').val('');
                $('#DivTipoDepartamento').hide();
            }
        }
        function GenerarFicha() {
            urlFICHA = "@Url.Content("~/Reportes/Reports.aspx")" + "?CodigoUnico=" + $('#CodigoUnidadCatastral').val() + "&CodigoReporte=02&CodigoEsq=01&Catastro=02";
            impresionRuta(urlFICHA);
            //window.open(urlFICHA);

        }

        var ListVBEstadoConservacion, ListVBMaterialEstructural, ListVBMes, ListVBOtrasInstalaciones, ListVBUnidadMedida;
        ListVBEstadoConservacion = @Html.Raw(Json.Encode(ViewBag.ListVBEstadoConservacion))
        ListVBMaterialEstructural = @Html.Raw(Json.Encode(ViewBag.ListVBMaterialEstructural))
        ListVBOtrasInstalaciones = @Html.Raw(Json.Encode(ViewBag.ListVBOtrasInstalaciones))
        ListVBCodigoOtrasInstalaciones = @Html.Raw(Json.Encode(ViewBag.ListVBCodigoOtrasInstalaciones))
        ListVBMes = @Html.Raw(Json.Encode(ViewBag.ListVBMes))
        @*ListVBUnidadMedida = @Html.Raw(Json.Encode(ViewBag.ListVBUnidadMedida))*@

        ListVBUsoPredio = @Html.Raw(Json.Encode(ViewBag.ListVBUsoPredio))
        ListVBCodigoUsoPredio = @Html.Raw(Json.Encode(ViewBag.ListVBCodigoUsoPredio))
        ListVBTipoSiNo = @Html.Raw(Json.Encode(ViewBag.ListVBTipoSiNo))
        ListVBTipoAnuncio = @Html.Raw(Json.Encode(ViewBag.ListVBTipoAnuncio))
        var ListTipoLlenado = @Html.Raw(Json.Encode(ViewBag.ListTipoLlenado))

        CrearCombobox('CodigoTipoLlenado', ListTipoLlenado);

        CrearCombobox('lineas_constructivas_estado_00001', ListVBEstadoConservacion);
        CrearCombobox('lineas_constructivas_material_00001', ListVBMaterialEstructural);
        CrearCombobox('lineas_constructivas_mes_00001', ListVBMes);

        CrearCombobox('otras_instalaciones_codigo_00001', ListVBCodigoOtrasInstalaciones)
        CrearCombobox('otras_instalaciones_tipoinstalacion_00001', ListVBOtrasInstalaciones);
        CrearCombobox('otras_instalaciones_estadoconservacion_00001', ListVBEstadoConservacion);
        //CrearCombobox('otras_instalaciones_unidad_00001', ListVBUnidadMedida);
        CrearCombobox('otras_instalaciones_mes_00001', ListVBMes);

        CrearCombobox('actividad_economica_uso_00001', ListVBUsoPredio);
        CrearCombobox('actividad_economica_codigo_00001', ListVBCodigoUsoPredio);
        CrearCombobox('actividad_economica_retiro_00001', ListVBTipoSiNo);
        CrearCombobox('actividad_economica_anuncio_00001', ListVBTipoSiNo);
        CrearCombobox('actividad_economica_tipoanuncio_00001', ListVBTipoAnuncio);

        /********************************************************************************
                                        --TABLAS
        ********************************************************************************/
        tablaUnidadCatastral = $("#tablaUnidadCatastral").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarSolUnidad")", "type": "POST", "datatype": "json",
                "data": function (d) {
                    d.FiltrarCodigoTipoSolicitud = $('#FiltrarCodigoTipoSolicitud').val();
                    d.FiltrarNumeroSolicitud = $('#FiltrarNumeroSolicitud').val();
                    d.FiltrarCodigoTipoDocumento = $('#FiltrarCodigoTipoDocumento').val();
                    d.FiltrarReferencia = "0";
                }
            },
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "scrollY": "400px",
            "scrollCollapse": true,
            "paging": false,
            "columns": [
                { "data": "CodigoDistrito", "className": "text-center" }, 
                { "data": "CodigoSector", "className": "text-center" },
                { "data": "CodigoManzana", "className": "text-center" }, { "data": "CodigoLote", "className": "text-center" },
                { "data": "Ed", "className": "text-center" }, { "data": "Entrada", "className": "text-center" },
                { "data": "Piso", "className": "text-center" }, { "data": "Unidad", "className": "text-center" },
                { "data": "Referencia", "className": "text-center" }, { "data": "EstadoUnidad", "className": "text-center" },
                { "data": "Bloqueado", "className": "hide_column" },
                { "data": "FlagUsuario", "className": "hide_column" },
                {
                    'render': function (data, type, full, meta) {
                        if (full.flagTrabajo == "T" && full.EstadoUnidad == "T") {
                            return '<button data-toggle="tooltip" title="Eliminar" class="btn mr-1 text-center btnBorrarLote btn-default  glyphicon glyphicon-minus" type="button" ></button>';
                        } else {
                            return '';
                        }
                    }, "className": "text-center"
                },
            ]
        });
        var tablaUnidadCatastralRef = $("#tablaUnidadCatastralRef").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarSolUnidad")", "type": "POST", "datatype": "json",
                "data": function (d) {
                    d.FiltrarCodigoTipoSolicitud = $('#FiltrarCodigoTipoSolicitud').val();
                    d.FiltrarNumeroSolicitud = $('#FiltrarNumeroSolicitud').val();
                    //d.FiltrarCodigoPeriodo = $('#Periodo').val();
                    d.FiltrarCodigoTipoDocumento = $('#FiltrarCodigoTipoDocumento').val();
                    d.FiltrarReferencia = "1";
                }
            },
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" }, "processing": true, "serverSide": false, "paging": false,
            "columns": [
                { "data": "CodigoDistrito", "className": "text-center" }, { "data": "CodigoSector", "className": "text-center" },
                { "data": "CodigoManzana", "className": "text-center" }, { "data": "CodigoLote", "className": "text-center" },
                { "data": "Ed", "className": "text-center" }, { "data": "Entrada", "className": "text-center" },
                { "data": "Piso", "className": "text-center" }, { "data": "Unidad", "className": "text-center" },
                { "data": "Referencia", "className": "text-center" },
                { "data": "EstadoUnidad", "className": "text-center" }, { 'render': function () { return ''; } },
            ]
        });
        var tablaUnidadCatastralEstatico = $("#tablaUnidadCatastralEstatico").DataTable({
            "ajax": {

                "url": "@Url.Content("~/Cotitularidad/BuscarSolicitudEstatico")", "type": "POST", "datatype": "json",

                "data": function (d) {
                    d.FiltrarCodigoSector = $('#FiltrarCodigoSector').val();
                    d.FiltrarCodigoManzana = $('#FiltrarCodigoManzana').val();
                    d.FiltrarCodigoLote = $('#FiltrarCodigoLote').val();
                    d.FiltrarEd = $('#FiltrarEd').val();
                    d.FiltrarEntrada = $('#FiltrarEntrada').val();
                    d.FiltrarPiso = $('#FiltrarPiso').val();
                    d.FiltrarUnidad = $('#FiltrarUnidad').val();
                    d.Estatico = true;
                }
            },
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "scrollY": "400px",
            "scrollCollapse": true,
            "paging": false,
            'columnDefs': [
                { "width": "13%", "targets": 0 }, { "width": "4%", "targets": 1 }, { "width": "4%", "targets": 2 }, { "width": "8%", "targets": 3 },
                { "width": "6%", "targets": 5 }, { "width": "4%", "targets": 6 },  { "width": "11%", "targets": 7 }, { "width": "14%", "targets": 8 },
                { "width": "8%", "targets": 9 }, { "width": "4%", "targets": 10 },
            ],
            "columns": [
          { "data": "CodigoCatastral", "className": "text-center" },
          { "data": "Version", "className": "text-center" },
          { "data": "TipoLlenado", "className": "text-center" },
          { "data": "FechaActual", "className": "text-center" },
          { "data": "Ubicacion", "className": "text-center" },
          { "data": "TipoInterior", "className": "text-center" },
          { "data": "NumeroInterior", "className": "text-center" },
          { "data": "Inscripcion", "className": "text-center" },
          { "data": "UsoPredio", "className": "text-center" },
          { "data": "CUC", "className": "text-center" },
          {
              'render': function (data, type, full, meta) {
                  return '<button data-toggle="tooltip"  data-placement="left" title="Imprimir" class="btn mr-1 text-center btnPrint btn-default btn-xs glyphicon glyphicon-print" type="button" ></button>';
              }, "className": "text-center"
          },
          { "data": "CodigoUni", "className": "hide_column" },
          { "data": "CodigoDistrito", "className": "text-center hide_column" }, { "data": "CodigoSector", "className": "text-center hide_column" },
          { "data": "CodigoManzana", "className": "text-center hide_column" }, { "data": "CodigoLote", "className": "text-center hide_column" },
          { "data": "Ed", "className": "text-center hide_column" }, { "data": "Entrada", "className": "text-center hide_column" },
          { "data": "Piso", "className": "text-center hide_column" }, { "data": "Unidad", "className": "text-center hide_column" },
            ]
        });

        tablaMunicipalAsignado = $("#tablaMunicipalAsignado").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarDirecUnidad")",
                "type": "POST",
                "datatype": "json",
                "data": function (d) {
                    d.CodigoUniCat = $('#CodigoUnidadCatastral').val();
                    d.Estatico = Estatico;
                    d.flgindirec = 1;
                }
            },
            "columns": [
                {
                    'render': function (data, type, full, meta) {
                        return '<button' + (Consultas != 'False' ? deshabilitar : ' ') + 'data-toggle="tooltip" title="Agregar" class="btn mr-1 text-center btnNoIndependiente btn-default btn-xs glyphicon glyphicon-plus" type="button" ></button>' +
                            '<button' + (Consultas != 'False' ? deshabilitar : ' ') + 'data-toggle="tooltip" title="Editar" class="btn mr-1 text-center btnEditMunicipal btn-default btn-xs glyphicon glyphicon-edit" type="button" ></button>' +
                        '<button' + (Consultas != 'False' ? deshabilitar : ' ') + 'data-toggle="tooltip" title="Eliminar" class="btn mr-1 text-center btnDeleteMunicipal btn-default btn-xs glyphicon glyphicon-trash" type="button" ></button>';
                    }, "className": "text-center"
                },
                { "data": "Item", "name": "Item", "className": "text-center" },
                { "data": "NombreAsignacion", "name": "NombreAsignacion", "className": "text-center" },
                { "data": "NombreVia", "name": "NombreVia", "className": "text-center" },
                { "data": "NumeroCuadra", "name": "NumeroCuadra", "autoWidth": true, "className": "text-center" },
                { "data": "NombreTipoEdificacion", "name": "TipoEdificacionNombreTipoEdificacion", "autoWidth": true, "className": "text-center" },
                { "data": "NumeroPuerta", "name": "NumeroPuerta", "autoWidth": true, "className": "text-center" },
                { "data": "NombreEstadoInterior", "name": "NombreEstadoInterior", "autoWidth": true, "className": "text-center" },
                { "data": "NombreTipoInterior", "name": "NombreTipoInterior", "autoWidth": true, "className": "text-center" },
                { "data": "NumeroInterior", "name": "NumeroPuerta", "autoWidth": true, "className": "text-center" },
                { "data": "LetraInterior", "name": "LetraInterior", "autoWidth": true, "className": "text-center" },
                { "data": "NombreInscripcion", "name": "NombreInscripcion", "autoWidth": true, "className": "text-center" },
                { "data": "txtArea", "name": "txtArea", "autoWidth": true, "className": "text-center" },
                { "data": "CodigoCorrDirecUnidad", "name": "Codigo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoVia", "name": "Codigo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoCorrManzVia", "name": "Codigo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoCorrLoteDirecc", "name": "Codigo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoLado", "name": "Codigo", "autoWidth": true, "className": "hide_column" }
            ],
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "paging": false,
        });
        tablaMunicipalAsignado2 = $("#tablaMunicipalAsignado2").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarDirecUnidad")",
                "type": "POST",
                "datatype": "json",
                "data": function (d) {
                    d.CodigoUniCat = $('#CodigoUnidadCatastral').val();
                    d.Estatico = Estatico;
                    d.flgindirec = 2;
                }
            },
            "columns": [
                {
                    'render': function (data, type, full, meta) {
                        return '<button' + (Consultas != 'False' ? deshabilitar : ' ') + 'data-toggle="tooltip" title="Editar" class="btn mr-1 text-center btnEditMunicipal btn-default btn-xs glyphicon glyphicon-edit" type="button" ></button>' +
                        '<button' + (Consultas != 'False' ? deshabilitar : ' ') + 'data-toggle="tooltip" title="Eliminar" class="btn mr-1 text-center btnDeleteMunicipal btn-default btn-xs glyphicon glyphicon-trash" type="button" ></button>';
                    }, "className": "text-center"
                },
                { "data": "Item", "name": "Item", "className": "text-center" },
                { "data": "NombreAsignacion", "name": "NombreAsignacion", "className": "text-center" },
                { "data": "NombreVia", "name": "NombreVia", "className": "text-center" },
                { "data": "NumeroCuadra", "name": "NumeroCuadra", "autoWidth": true, "className": "text-center" },
                { "data": "NombreTipoEdificacion", "name": "TipoEdificacionNombreTipoEdificacion", "autoWidth": true, "className": "text-center" },
                { "data": "NumeroPuerta", "name": "NumeroPuerta", "autoWidth": true, "className": "text-center" },
                { "data": "NombreEstadoInterior", "name": "NombreEstadoInterior", "autoWidth": true, "className": "text-center" },
                { "data": "NombreTipoInterior", "name": "NombreTipoInterior", "autoWidth": true, "className": "text-center" },
                { "data": "NumeroInterior", "name": "NumeroPuerta", "autoWidth": true, "className": "text-center" },
                { "data": "LetraInterior", "name": "LetraInterior", "autoWidth": true, "className": "text-center" },
                { "data": "NombreInscripcion", "name": "NombreInscripcion", "autoWidth": true, "className": "text-center" },
                { "data": "txtArea", "name": "txtArea", "autoWidth": true, "className": "text-center" },
                { "data": "CodigoCorrDirecUnidad", "name": "Codigo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoVia", "name": "Codigo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoCorrManzVia", "name": "Codigo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoCorrLoteDirecc", "name": "Codigo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoLado", "name": "Codigo", "autoWidth": true, "className": "hide_column" }
            ],
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "paging": false,
        });
        tablaUnidadTitular = $("#tablaUnidadTitular").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarUnidadTitular")",
                "type": "POST",
                "datatype": "json",
                "data": function (d) {
                    d.CodigoUniCat = $('#CodigoUnidadCatastral').val();
                    d.Estatico = Estatico;
                }
            },

            "columns": [
                {
                    'render': function (data, type, full, meta) {
                        var inahibilitarBotonEliminar = Consultas != 'False' ||  full.Procedencia =='2' ? "disabled" : "";
                        return '<button data-toggle="tooltip" title="Eliminar" ' + inahibilitarBotonEliminar + ' class="btn mr-1 text-center btnDeleteTitular btn-default btn-xs glyphicon glyphicon-trash" type="button" ></button>'
                        //CAMBIOS NUEVOS CATASTRO GJLR-INI
                            + '<button data-toggle="tooltip" title="Editar" class="btn mr-1 text-center btnEditTitular btn-default btn-xs glyphicon glyphicon-edit" type="button" ></button>';
                        //CAMBIOS NUEVOS CATASTRO GJLR-FIN
                    }, "className": "text-center"
                },
                { "data": "Item", "name": "Item", "className": "text-center" },
                { "data": "TipoDocumento", "name": "TipoDocumento", "className": "text-center" },
                { "data": "NumeroDocumento", "name": "NumeroDocumento", "className": "text-center" },
                { "data": "RasonSocial", "name": "RasonSocial", "autoWidth": true, "className": "text-center" },
                { "data": "CodigoContribuyente", "name": "CodigoContribuyente", "autoWidth": true, "className": "text-center" },
                { "data": "PorcentajeTitularidad", "name": "PorcentajeTitularidad", "autoWidth": true, "className": "text-center" },
                { "data": "TipoPropietario", "name": "TipoPropietario", "autoWidth": true, "className": "text-center" },


                { "data": "CodigoVia", "name": "CodigoVia", "autoWidth": true, "className": "text-center" },
                { "data": "Via", "name": "Via", "autoWidth": true, "className": "text-center" },
                { "data": "TipoBlockTorre", "name": "TipoBlockTorre", "autoWidth": true, "className": "text-center" },
                { "data": "NumeroMunicipal", "name": "NumeroMunicipal", "autoWidth": true, "className": "text-center" },
                { "data": "NumeroInterior", "name": "NumeroInterior", "autoWidth": true, "className": "text-center" },
                { "data": "Urbanizacion", "name": "Urbanizacion", "autoWidth": true, "className": "text-center" },
                { "data": "Manzana", "name": "Manzana", "autoWidth": true, "className": "text-center" },
                { "data": "Lote", "name": "Lote", "autoWidth": true, "className": "text-center" },
                { "data": "Distrito", "name": "Distrito", "autoWidth": true, "className": "text-center" },
                { "data": "Telefono", "name": "Telefono", "autoWidth": true, "className": "text-center" },


                { "data": "CondicionPropiedad", "name": "CondicionPropiedad", "autoWidth": true, "className": "hidden" },
                { "data": "Procedencia", "name": "Procedencia", "autoWidth": true, "className": "hidden" },
            ],
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "paging": false,
        });
        tablaCartasInformes = $("#tablaCartasInformes").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarCartasInformes")",
                "type": "POST",
                "datatype": "json",
                "data": function (d) {
                    d.CodUniCat = $('#CodigoUnidadCatastral').val();
                    d.aniosol = null;
                    d.numsol = $("#FiltrarNumeroSolicitud").val();
                    d.tiposol = $("#FiltrarCodigoTipoSolicitud").val();
                    d.Estatico = Estatico;
                }
            },

            "columns": [
                { "data": "Item", "name": "Item", "className": "text-center" },
                { "data": "NroDocumento", "name": "NroDocumento", "className": "text-center" },
                { "data": "TipoDocumento", "name": "TipoDocumento", "className": "text-center" },
                { "data": "Fecha", "name": "FechaInspeccion", "autoWidth": true, "className": "text-center" },
                { "data": "Responsable", "name": "Inspector ", "autoWidth": true, "className": "text-center" },

            ],
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "paging": false,
        });
        tablaUnidadRRPP = $("#tablaUnidadRRPP").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarUnidadRRPP")",
                "type": "POST",
                "datatype": "json",
                "data": function (d) {
                    d.CodigoUniCat = $('#CodigoUnidadCatastral').val();
                    d.Estatico = Estatico;
                }
            },
            "columns": [
                { "data": "Item", "name": "Item", "className": "text-center" },
                { "data": "TipoDocumento", "name": "TipoDocumento", "className": "text-center" },
                { "data": "PartidaElectronica", "name": "PartidaElectronica", "autoWidth": true, "className": "text-center" },
                { "data": "TomoFicha", "name": "TomoFicha", "autoWidth": true, "className": "text-center" },
                { "data": "Folio", "name": "Folio", "autoWidth": true, "className": "text-center" },
                { "data": "Asiento", "name": "Asiento", "autoWidth": true, "className": "text-center" },
                { "data": "Fecha", "name": "Fecha", "autoWidth": true, "className": "text-center" },
                { "data": "CodigoCorrelativo", "name": "CodigoCorrelativo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoCorrelativoLote", "name": "CodigoCorrelativoLote", "autoWidth": true, "className": "hide_column" },

                { "data": "CodigoDepartamento", "name": "CodigoDepartamento", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoProvincia", "name": "CodigoProvincia", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoDistrito", "name": "CodigoDistrito", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoSector", "name": "CodigoSector", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoManzana", "name": "CodigoManzana", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoLote", "name": "CodigoLote", "autoWidth": true, "className": "hide_column" },

                {
                    'render': function (data, type, full, meta) {
                        return '<button id="docum_descargar_' + full.Item + '"  class="btn mr-1 text-center btnPrintRRPP btn-default btn-xs glyphicon glyphicon-search"></button>' +
                        '<button' + (Consultas != 'False' ? deshabilitar : ' ') + 'data-toggle="tooltip" title="Eliminar" class="btn mr-1 text-center btnDeleteRRPP btn-default btn-xs glyphicon glyphicon-trash" type="button" ></button>';
                    }, "className": "text-center"
                },

            ],
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "paging": false,
        });
        tablaUnidadLicenciaFunc = $("#tablaUnidadLicenciaFunc").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarUnidadLicenciasFunc")",
                "type": "POST",
                "datatype": "json",
                "data": function (d) {
                    d.CodigoUniCat = $('#CodigoUnidadCatastral').val();
                    d.Estatico = Estatico;
                }
            },

            "columns": [
                { "data": "Item", "name": "Item", "className": "text-center" },
                { "data": "NumeroLicencia", "name": "TipoDocumento", "className": "text-center" },
                { "data": "Solicitante", "name": "PartidaElectronica", "autoWidth": true, "className": "text-center" },
                { "data": "Beneficiario", "name": "TomoFicha", "autoWidth": true, "className": "text-center" },
                { "data": "Giros", "name": "Folio", "autoWidth": true, "className": "text-center" },
                { "data": "FechaLicencia", "name": "Asiento", "autoWidth": true, "className": "text-center" },
                { "data": "CodigoCorrelativo", "name": "CodigoCorrelativo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoCorrelativoLote", "name": "CodigoCorrelativoLote", "autoWidth": true, "className": "hide_column" },
                { "data": "Codigo", "name": "CodigoDocumento", "autoWidth": true, "className": "hide_column" },

            ],
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "paging": false,
        });
        tablaUnidadExpedienteDoc = $("#tablaUnidadExpedienteDoc").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarUnidadExpedienteDoc")",
                "type": "POST",
                "datatype": "json",
                "data": function (d) {
                    d.CodigoUniCat = $('#CodigoUnidadCatastral').val();
                    d.Estatico = Estatico;
                }
            },

            "columns": [
                { "data": "Item", "name": "Item", "className": "text-center" },
                { "data": "Solicitante", "name": "Solicitante", "autoWidth": true, "className": "text-center" },
                { "data": "Documento", "name": "Documento", "autoWidth": true, "className": "text-center" },
                { "data": "Numero", "name": "Numero", "autoWidth": true, "className": "text-center" },
                { "data": "Fecha", "name": "Fecha", "autoWidth": true, "className": "text-center" },
                { "data": "Detalle", "name": "Detalle", "className": "text-center" },
                { "data": "CodigoCorrelativo", "name": "CodigoCorrelativo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoCorrelativoLote", "name": "CodigoCorrelativoLote", "autoWidth": true, "className": "hide_column" },
            ],
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "paging": false,
        });
        tablaUnidadObrasPrivadas = $("#tablaUnidadObrasPrivadas").DataTable({
            "ajax": {
                "url": "@Url.Content("~/Cotitularidad/CargarUnidadObrasPrivadas")",
                "type": "POST",
                "datatype": "json",
                "data": function (d) {
                    d.CodigoUniCat = $('#CodigoUnidadCatastral').val();
                    d.Estatico = Estatico;
                }
            },

            "columns": [
                { "data": "Item", "name": "Item", "className": "text-center" },
                { "data": "NumeroLicencia", "name": "TipoDocumento", "className": "text-center" },
                { "data": "Solicitante", "name": "PartidaElectronica", "autoWidth": true, "className": "text-center" },
                { "data": "Beneficiario", "name": "TomoFicha", "autoWidth": true, "className": "text-center" },
                { "data": "TipoObra", "name": "Folio", "autoWidth": true, "className": "text-center" },
                { "data": "FechaLicencia", "name": "Asiento", "autoWidth": true, "className": "text-center" },
                { "data": "CodigoCorrelativo", "name": "CodigoCorrelativo", "autoWidth": true, "className": "hide_column" },
                { "data": "CodigoCorrelativoLote", "name": "CodigoCorrelativoLote", "autoWidth": true, "className": "hide_column" },
                { "data": "Codigo", "name": "CodigoDocumento", "autoWidth": true, "className": "hide_column" },
                //{
                //    'render': function (data, type, full, meta) {
                //        return '<button data-toggle="tooltip" title="Ver" class="btn mr-1 text-center  btnBorrar btn-default btn-xs glyphicon glyphicon-search" type="button" ></button>';
                //    }, "className": "text-center"
                //},
            ],
            "language": { "lengthMenu": "", "info": "", "emptyTable": "" },
            "processing": true,
            "serverSide": false,
            "paging": false,
        });

        /********************************************************************************
                                        -- FIN TABLAS
        ********************************************************************************/

        /********************************************************************************
                                        --EVENTOS MODALS Y TABLAS
        ********************************************************************************/
        $('#modalNuevoDocRRPP').on('shown.bs.modal', function () {
            if (tablaDocumentoRRPPLote) {
                tablaDocumentoRRPPLote.columns.adjust().draw(false);
                $('#containerTableLoteRRPP').show();
            }
        });
        $('#modalNuevoLicenciaFunc').on('shown.bs.modal', function () {
            console.log(tablaLicenciaFuncLote)
            if (tablaLicenciaFuncLote) {
                //tablaLicenciaFuncLote.ajax.reload();
                tablaLicenciaFuncLote.columns.adjust().draw(false);
                $('#containerTableLicencia').show();
            }
        });
        $('#modalNuevoExpeDoc').on('shown.bs.modal', function () {
            if (tablaExpedienteDocLote) {
                //tablaExpedienteDocLote.ajax.reload();
                tablaExpedienteDocLote.columns.adjust().draw(false);
                $('#containerTableExpediente').show();
            }
        });
        $('#modalNuevoObrasPrivadas').on('shown.bs.modal', function () {
            if (tablaObrasPrivadasLote) {
                tablaObrasPrivadasLote.ajax.reload();
                $('#containerTableObras').show();
            }
        });

        $('#modalNuevoDocRRPP').on('hidden.bs.modal', function () {
            if (localStorage.getItem('DocumentoRRPPSelec')) {
                var rows = 0; var ListRRPPLote = JSON.parse(localStorage.getItem('DocumentoRRPPSelec'));
                var ListaUnidadRRPPSave = [];
                var unidadesYaRegistras = '';
                var contadorWarn = 0;
                $.each(ListRRPPLote, function (index, Item) {
                    if (CompararUnidad(Item) === 0) {
                        Item.Estatico = Estatico;
                        ListaUnidadRRPPSave.push(Item);
                        rows++;
                    }
                    else if (index === 0) {
                        contadorWarn++;
                        //toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                    }
                });

                if (contadorWarn > 0) {
                    toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                }

                if (ListaUnidadRRPPSave.length > 0) {
                    $.post("@Url.Content("~/Cotitularidad/RegistrarUnidadRRPP")", {
                        ListaUnidadRRPP: ListaUnidadRRPPSave,
                        CodigoUniCat: $('#CodigoUnidadCatastral').val(),
                        CodigoDistrito: $('#CodigoDistrito').val(),
                        CodigoSector: $('#CodigoSector').val(),
                        CodigoManzana: $('#CodigoManzana').val(),
                        CodigoLote: $('#CodigoLote').val(),
                        Estatico: Estatico
                    }
                        , function (response) {
                            toastr.success("Las Unidades Catastrales se registraron correctamente", "Mensaje del Sistema", { "progressBar": true });
                            tablaUnidadRRPP.ajax.reload();

                            if (contadorWarn > 0) {
                                toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                            }
                        });
                }
            }
        });
        $('#modalNuevoExpeDoc').on('hidden.bs.modal', function () {
            if (localStorage.getItem('ExpedienteDocSelec')) {
                var rows = 0; var ListExpedienteDoc = JSON.parse(localStorage.getItem('ExpedienteDocSelec'));
                var ListaUnidadExpeDocSave = [];
                var unidadesYaRegistras = '';
                var contadorWarn = 0;
                $.each(ListExpedienteDoc, function (index, Item) {
                    if (CompararUnidadExpeDoc(Item) === 0) {
                        Item.Estatico = Estatico;
                        ListaUnidadExpeDocSave.push(Item);
                        rows++;
                    }
                    else if (index === 0) {
                        contadorWarn++;
                        //toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                    }
                });

                if (contadorWarn > 0) {
                    toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                }

                if (ListaUnidadExpeDocSave.length > 0) {
                    $.post("@Url.Content("~/Cotitularidad/RegistrarUnidadExpedienteDoc")", {
                        ListaUnidadExpedienteDoc: ListaUnidadExpeDocSave,
                        CodigoUniCat: $('#CodigoUnidadCatastral').val(), Estatico: Estatico
                    }
                        , function (response) {
                            toastr.success("Las Unidades Catastrales se registraron correctamente", "Mensaje del Sistema", { "progressBar": true });
                            tablaUnidadExpedienteDoc.ajax.reload();

                            if (contadorWarn > 0) {
                                toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                            }
                        });
                }
            }
        });
        $('#modalNuevoLicenciaFunc').on('hidden.bs.modal', function () {
            if (localStorage.getItem('LicenciaFuncPSelec')) {
                var rows = 0; var ListLicenciaFuncLote = JSON.parse(localStorage.getItem('LicenciaFuncPSelec'));
                var ListaUnidadLicenciaFuncSave = [];
                var unidadesYaRegistras = '';
                var contadorWarn = 0;
                $.each(ListLicenciaFuncLote, function (index, Item) {
                    if (CompararUnidadLicenciaFunc(Item) === 0) {
                        Item.Estatico = Estatico;
                        ListaUnidadLicenciaFuncSave.push(Item);
                        rows++;
                    }
                    else if (index === 0) {
                        contadorWarn++;
                        //toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                    }
                });

                if (contadorWarn > 0) {
                    toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                }

                if (ListaUnidadLicenciaFuncSave.length > 0) {
                    $.post("@Url.Content("~/Cotitularidad/RegistrarUnidadLicenciaFunc")", {
                        ListaUnidadLicenciaFunc: ListaUnidadLicenciaFuncSave,
                        CodigoUniCat: $('#CodigoUnidadCatastral').val(), Estatico: Estatico
                    }
                        , function (response) {
                            toastr.success("Las Unidades Catastrales se registraron correctamente", "Mensaje del Sistema", { "progressBar": true });
                            tablaUnidadLicenciaFunc.ajax.reload();

                            if (contadorWarn > 0) {
                                toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                            }
                        });
                }
            }
        });
        $('#modalNuevoObrasPrivadas').on('hidden.bs.modal', function () {
            if (localStorage.getItem('ObrasPrivadasSelec')) {
                var rows = 0; var ListObrasPrivadasLote = JSON.parse(localStorage.getItem('ObrasPrivadasSelec'));
                var ListaUnidadObrasPrivadasSave = [];
                var unidadesYaRegistras = '';
                var contadorWarn = 0;
                $.each(ListObrasPrivadasLote, function (index, Item) {
                    if (CompararUnidadObrasPrivadas(Item) === 0) {
                        Item.Estatico = Estatico;
                        ListaUnidadObrasPrivadasSave.push(Item);
                        rows++;
                    }
                    else if (index === 0) {
                        contadorWarn++;
                        //toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                    }
                });

                if (contadorWarn > 0) {
                    toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                }
                if (ListaUnidadObrasPrivadasSave.length > 0) {
                    $.post("@Url.Content("~/Cotitularidad/RegistrarUnidadObrasPrivadas")", {
                        ListaUnidadObrasPrivadas: ListaUnidadObrasPrivadasSave,
                        CodigoUniCat: $('#CodigoUnidadCatastral').val(), Estatico: Estatico
                    }
                        , function (response) {
                            toastr.success("Las Unidades Catastrales se registraron correctamente", "Mensaje del Sistema", { "progressBar": true });
                            tablaUnidadObrasPrivadas.ajax.reload();

                            if (contadorWarn > 0) {
                                toastr.warning("Uno o más registros ya se han ingresado", "Mensaje del Sistema", { "progressBar": true });
                            }
                        });
                }
            }
        });

        $('#tablaUnidadCatastral tbody').on('click', 'tr', function () {
            var row = $(this);
            var data = tablaUnidadCatastral.row(row).data();
            var codcastral = data.CodigoDistrito + "-" + data.CodigoSector + "-" + data.CodigoManzana + "-" + data.CodigoLote + "-" + data.Ed + "-" + data.Entrada + "-" + data.Piso + "-" + data.Unidad
            if (data.Ed == "XX" || data.Entrada == "XX" || data.Piso == "XX" || data.Unidad == "XXX") {
                bootbox.alert("No puede editar una unidad, ingrese a la opcion Bien Comun");
                $('#TabUC').hide();
            } else {

                //console.log(data);

                $.LoadingOverlay("show");
                if (data.Bloqueado) {
                    $.LoadingOverlay("hide");
                    toastr.error("Solicitud Conforme y Cerrada, Consultar Información por el Modulo  de Consultas", "Mensaje del Sistema", { "progressBar": true });
                    return;
                }
                if (data.FlagUsuario < 1) {
                    $.LoadingOverlay("hide");
                    toastr.warning("La Solicitud no se encuentra asociada a tu USUARIO", "Mensaje del Sistema", { "progressBar": true });
                    return;
                }

                if ($(this).hasClass('selected')) {
                    $(this).removeClass('selected');
                    $('#GenFicha').attr('disabled', 'disabled');
                    $('#TabUC').hide();
                    $.LoadingOverlay("hide");
                }
                else {
                    $.post("@Url.Content("~/Cotitularidad/RecuperarUnidadCatastral")", {
                        CodUniCat: data.CodigoUni,
                        aniosol: null,
                        numsol: $("#FiltrarNumeroSolicitud").val(),
                        tiposol: $("#FiltrarCodigoTipoSolicitud").val(),
                        docsol: $("#FiltrarCodigoTipoDocumento").val(),
                        accion: ""
                    }, function (response) {
                        //console.log(response);

                        if (response.Mensaje == '20003') {

                            bootbox.confirm({
                                title: "VERIFICAR",
                                message: "El código catastral " + codcastral + " se encuentra en proceso de edición en la solicitud " + response.OtraSolicitud + ". <br> ¿Desea mantener la información de la solicitud " + response.OtraSolicitud + " que ya se encuentra en edición?",
                                buttons: {
                                    cancel: {
                                        label: '<i class="fa fa-times"></i> No'
                                    },
                                    confirm: {
                                        label: '<i class="fa fa-check"></i> Si'
                                    }
                                },
                                callback: function (result) {
                                    if (result === true) {

                                        bootbox.alert("Esta solicitud no podrá editar la información del código catastral " + codcastral);

                                    } else {


                                        bootbox.confirm({
                                            title: "VERIFICAR",
                                            message: "La edición a efectuar eliminará los cambios efectuados por la solicitud abierta " + response.OtraSolicitud + "<br>" +
                                                     "¿Desea perder la información ya registrada?",
                                            buttons: {
                                                cancel: {
                                                    label: '<i class="fa fa-times"></i> No'
                                                },
                                                confirm: {
                                                    label: '<i class="fa fa-check"></i> Si'
                                                }
                                            },
                                            callback: function (result) {
                                                if (result === true) {

                                                    $.post("@Url.Content("~/Cotitularidad/RecuperarUnidadCatastral")", {
                                                        CodUniCat: data.CodigoUni,
                                                        aniosol: null,
                                                        numsol: $("#FiltrarNumeroSolicitud").val(),
                                                        tiposol: $("#FiltrarCodigoTipoSolicitud").val(),
                                                        docsol: $("#FiltrarCodigoTipoDocumento").val(),
                                                        accion: "Eliminar"
                                                    }, function (response) {
                                                        CargarInformacionTtotalUC(response, data, row);

                                                        bootbox.alert("La solicitud " + $("#FiltrarNumeroSolicitud").val() + " del usuario " + response.usuario + " generará edición en el código catastral " + codcastral + ", sus cambios han sido eliminados")
                                                    });

                                                } else {


                                                }
                                            }
                                        });





                                    }
                                }
                            });
                            $.LoadingOverlay("hide");

                        } else {

                            CargarInformacionTtotalUC(response, data, row);
                        }
                    });
                }

            }
        });
        $('#tablaUnidadCatastral tbody').on('click', 'button.btnBorrarLote', function (event) {
            var cell = this;
            var data = tablaUnidadCatastral.row($(this).parents('tr')).data();
            bootbox.confirm({
                title: "Mensaje del Sistema", message: "¿Esta seguro de borrar el registro?",
                buttons: { cancel: { label: '<i class="fa fa-times"></i> Cancelar' }, confirm: { label: '<i class="fa fa-trash"></i> Eliminar ', className: "btn btn-danger" } },
                callback: function (result) {
                    if (result) {
                        $.post("@Url.Content("~/Cotitularidad/EliminarUnidadTemporal")",
                                {
                                    CodigoTipoDocumento: $('#FiltrarCodigoTipoDocumento').val(), CodigoUni: data.CodigoUni,
                                    CodigoTipoSolicitud: $('#FiltrarCodigoTipoSolicitud').val(), CodigoNumeroSolicitud: $('#FiltrarNumeroSolicitud').val()
                                }
                                , function (response) {
                                    toastr.success("Registro eliminado correctamente", "Mensaje del Sistema", { "progressBar": true });
                                    $('#TabUC').hide();
                                    tablaUnidadCatastral.ajax.reload(function () {
                                        tablaUnidadCatastral.columns.adjust().draw();
                                        var alto = $('#tablaUnidadCatastral_wrapper .dataTables_scrollBody').height();
                                        //console.log(alto);
                                        if (alto < 399) {
                                            $('#tablaUnidadCatastral_wrapper .dataTables_scrollHead').removeClass('pr-4');

                                        } else {
                                            $('#tablaUnidadCatastral_wrapper .dataTables_scrollHead').addClass('pr-4');
                                        }
                                    });
                                    tablaUnidadCatastralRef.ajax.reload();
                                });

                    }
                }
            });
            event.stopPropagation();
        });
        $("#tablaUnidadCatastralEstatico tbody").on('click', 'button.btnPrint', function (event) {
            event.stopPropagation();
            var data = tablaUnidadCatastralEstatico.row($(this).parents('tr')).data();
            urlFICHA = "@Url.Content("~/Reportes/Reports.aspx")" + "?CodigoUnico=" + data.CodigoUni + '&CodigoReporte=02' + '&CodigoEsq=02' + '&Catastro=02';
            window.open(urlFICHA);
        });
        $('#tablaUnidadCatastralEstatico tbody').on('click', 'tr', function () {
            var row = $(this);
            var data = tablaUnidadCatastralEstatico.row(row).data();
            var codcastral = data.CodigoDistrito + "-" + data.CodigoSector + "-" + data.CodigoManzana + "-" + data.CodigoLote + "-" + data.Ed + "-" + data.Entrada + "-" + data.Piso + "-" + data.Unidad
            $.LoadingOverlay("show");
            if ($(this).hasClass('selected')) {
                $(this).removeClass('selected');
                $('#GenFicha').attr('disabled', 'disabled');
                $('#TabUC').hide();
                $.LoadingOverlay("hide");
            }
            else {
                Estatico = true;
                $.post("@Url.Content("~/Cotitularidad/RecuperarUnidadCatastralEST")", {
                    CodUniCat: data.CodigoUni, Estatico: Estatico
                }, function (response) {
                    CargarInformacionTtotalUCEST(response, data, row);
                });
            }
            //CAMBIOS NUEVOS CATASTRO GJLR-INI
            $("#miModalCotitularidad").modal("hide");
            document.getElementById("tabCotitularGrilla").style.display="block";
            //CAMBIOS NUEVOS CATASTRO GJLR-FIN
        });

        $("#tablaUnidadTitular tbody").on('click', 'button.btnDeleteTitular', function (event) {
            var data = tablaUnidadTitular.row($(this).parents('tr')).data();
            var enlace = ROOT + 'Cotitularidad/EliminarTitular';
            bootbox.confirm({
                title: "Mensaje del Sistema", message: "¿Esta seguro de borrar el registro?",
                buttons: { confirm: { label: '<i class="fa fa-trash"></i> Eliminar ', className: "btn btn-danger" }, cancel: { label: '<i class="fa fa-times"></i> Cancelar' } },
                callback: function (result) {
                    if (result) {
                        $.post(enlace, { CodigoUni: $('#CodigoUnidadCatastral').val(), CodigoContribuyente: data.CodigoContribuyente, Estatico: Estatico }, function (response) {
                            tablaUnidadTitular.ajax.reload();
                        });
                    }
                }
            });

        });
        $("#tablaMunicipalAsignado tbody").on('click', 'button.btnEditMunicipal', function (event) {
            var cell = this;
            var data = tablaMunicipalAsignado.row($(this).parents('tr')).data();
            var enlace = "@Url.Content("~/Cotitularidad/AgregarMunicipalAsignado")";
            $.post(enlace,
                {
                    CodigoUni: $('#CodigoUnidadCatastral').val(), CodigoCorrDirecUnidad: data.CodigoCorrDirecUnidad, CodigoVia: data.CodigoVia, CodigoCorrManzVia: data.CodigoCorrManzVia,
                    CodigoCorrLoteDirecc: data.CodigoCorrManzVia, CodigoLado: data.CodigoLado, Opcion: 1, Estatico: Estatico
                }
                , function (response) {
                    var id = "#modalNuevoPredio"; $(id).modal().html(response);
                });
        });
        $("#tablaMunicipalAsignado tbody").on('click', 'button.btnNoIndependiente', function (event) {
            var cell = this;
            var data = tablaMunicipalAsignado.row($(this).parents('tr')).data();
            var enlace = "@Url.Content("~/Cotitularidad/AgregarMunicipalAsignadoTemporal")";
            $.post(enlace,
                {
                    CodigoUni: $('#CodigoUnidadCatastral').val(), CodigoCorrDirecUnidad: data.CodigoCorrDirecUnidad, CodigoVia: data.CodigoVia, CodigoCorrManzVia: data.CodigoCorrManzVia,
                    CodigoCorrLoteDirecc: data.CodigoCorrManzVia, CodigoLado: data.CodigoLado, Estatico: Estatico
                }
                , function (response) {
                    var id = "#modalNuevoPredio"; $(id).modal().html(response);
                });
        });
        $("#tablaMunicipalAsignado tbody").on('click', 'button.btnDeleteMunicipal', function (event) {
            var cell = this;
            var data = tablaMunicipalAsignado.row($(this).parents('tr')).data();
            var CodigoCorrDirecUnidad = data.CodigoCorrDirecUnidad;
            var enlace = "@Url.Content("~/Cotitularidad/EliminarMunicipalAsignado")";
            bootbox.confirm({
                title: "Mensaje del Sistema", message: "¿Esta seguro de borrar el registro?",
                buttons: { cancel: { label: '<i class="fa fa-times"></i> Cancelar' }, confirm: { label: '<i class="fa fa-trash"></i> Eliminar ', className: "btn btn-danger" } },
                callback: function (result) {
                    if (result) {
                        $.post(enlace, { CodigoUni: $('#CodigoUnidadCatastral').val(), CodigoCorrDirecUnidad: CodigoCorrDirecUnidad, Estatico: Estatico }
                        , function (response) {
                            //console.log(response)
                            tablaMunicipalAsignado.ajax.reload();
                        });
                    }
                }
            });
        });
        $("#tablaMunicipalAsignado2 tbody").on('click', 'button.btnEditMunicipal', function (event) {
            var cell = this;
            var data = tablaMunicipalAsignado2.row($(this).parents('tr')).data();
            var enlace = "@Url.Content("~/Cotitularidad/AgregarMunicipalAsignado")";
            $.post(enlace,
                {
                    CodigoUni: $('#CodigoUnidadCatastral').val(), CodigoCorrDirecUnidad: data.CodigoCorrDirecUnidad, CodigoVia: data.CodigoVia, CodigoCorrManzVia: data.CodigoCorrManzVia,
                    CodigoCorrLoteDirecc: data.CodigoCorrManzVia, CodigoLado: data.CodigoLado, Opcion: 2, Estatico: Estatico
                }
                , function (response) {
                    var id = "#modalNuevoPredio"; $(id).modal().html(response);
                });
        });
        $("#tablaMunicipalAsignado2 tbody").on('click', 'button.btnDeleteMunicipal', function (event) {
            var cell = this;
            var data = tablaMunicipalAsignado2.row($(this).parents('tr')).data();
            var CodigoCorrDirecUnidad = data.CodigoCorrDirecUnidad;
            var enlace = "@Url.Content("~/Cotitularidad/EliminarMunicipalAsignado")";
            bootbox.confirm({
                title: "Mensaje del Sistema", message: "¿Esta seguro de borrar el registro?",
                buttons: { cancel: { label: '<i class="fa fa-times"></i> Cancelar' }, confirm: { label: '<i class="fa fa-trash"></i> Eliminar ', className: "btn btn-danger" } },
                callback: function (result) {
                    if (result) {
                        $.post(enlace, { CodigoUni: $('#CodigoUnidadCatastral').val(), CodigoCorrDirecUnidad: CodigoCorrDirecUnidad, Estatico: Estatico }
                        , function (response) {
                            tablaMunicipalAsignado2.ajax.reload();
                        });
                    }
                }
            });
        });
        $("#tablaUnidadRRPP tbody").on('click', 'button.btnPrintRRPP', function (event) {
            var cell = this;
            var data = tablaUnidadRRPP.row($(this).parents('tr')).data();
            var CodigoCorrelativo = data.CodigoCorrelativo;
            var CodigoCorrelativoLote = data.CodigoCorrelativoLote;
            var CodigoDepartamento = data.CodigoDepartamento;
            var CodigoProvincia = data.CodigoProvincia;
            var CodigoDistrito = data.CodigoDistrito;
            var CodigoSector = data.CodigoSector;
            var CodigoManzana = data.CodigoManzana;
            var CodigoLote = data.CodigoLote;
            window.open(ROOT + 'Lotes/DescargarLoteDocumentoRRPP?CodigoDistrito=' + CodigoDistrito + '&CodigoSector=' + CodigoSector + '&CodigoManzana=' + CodigoManzana + '&CodigoLote=' + CodigoLote + '&Codigo=' + CodigoCorrelativoLote + '&Estatico=' + Estatico);
            var modelDocum = {
                CodigoDistrito: CodigoDistrito, CodigoLote: $('#CodLote').val(), CodigoManzana: $('#CodManz').val(), CodigoSector: $('#CodSect').val(), Codigo: $('#docum_lote_id_' + num_item).val()
            };

        });
        $("#tablaUnidadRRPP tbody").on('click', 'button.btnDeleteRRPP', function (event) {
            var cell = this;
            var data = tablaUnidadRRPP.row($(this).parents('tr')).data();
            var CodigoCorrelativo = data.CodigoCorrelativo;
            var CodigoCorrelativoLote = data.CodigoCorrelativoLote;
            var CodigoDepartamento = data.CodigoDepartamento;
            var CodigoProvincia = data.CodigoProvincia;
            var CodigoDistrito = data.CodigoDistrito;
            var CodigoSector = data.CodigoSector;
            var CodigoManzana = data.CodigoManzana;
            var CodigoLote = data.CodigoLote;
            var enlace = "@Url.Content("~/Cotitularidad/EliminarDocRRPP")";
            bootbox.confirm({
                title: "Mensaje del Sistema", message: "¿Esta seguro de borrar el registro?",
                buttons: { cancel: { label: '<i class="fa fa-times"></i> Cancelar' }, confirm: { label: '<i class="fa fa-trash"></i> Eliminar ', className: "btn btn-danger" } },
                callback: function (result) {
                    if (result) {
                        $.post(enlace, {
                            CodigoUni: $('#CodigoUnidadCatastral').val(), CodigoCorrelativo: CodigoCorrelativo,
                            CodigoDepartamento: CodigoDepartamento, CodigoProvincia: CodigoProvincia,
                            CodigoDistrito: CodigoDistrito, CodigoSector: CodigoSector,
                            CodigoManzana: CodigoManzana, CodigoLote: CodigoLote, CodigoCorrelativoLote: CodigoCorrelativoLote,
                            Estatico: Estatico
                        } , function (response) {
                            tablaUnidadRRPP.ajax.reload();
                        });
                    }
                }
            });
        });
        $('#tablaUnidadObrasPrivadas tbody').on('click', 'button.btnBorrar', function (event) {
            var cell = this;
            var data = tablaUnidadCatastral.row($(this).parents('tr')).data();
            bootbox.confirm({
                title: "Mensaje del Sistema", message: "¿Esta seguro de borrar el registro?",
                buttons: { cancel: { label: '<i class="fa fa-times"></i> Cancelar' }, confirm: { label: '<i class="fa fa-trash"></i> Eliminar ', className: "btn btn-danger" } },
                callback: function (result) {
                    if (result) {
                        $.post("@Url.Content("~/Cotitularidad/EliminarObrasPrivadas")",
                                {
                                    CodigoTipoDocumento: $('#FiltrarCodigoTipoDocumento').val(), CodigoUni: data.CodigoUni,
                                    CodigoTipoSolicitud: $('#FiltrarCodigoTipoSolicitud').val(), CodigoNumeroSolicitud: $('#FiltrarNumeroSolicitud').val()
                                }
                                , function (response) {
                                    toastr.success("Registro eliminado correctamente", "Mensaje del Sistema", { "progressBar": true });
                                    $('#TabUC').hide();
                                    tablaUnidadCatastral.ajax.reload();
                                    tablaUnidadCatastralRef.ajax.reload();
                                });

                    }
                }
            });
        });
        /********************************************************************************
                                        FIN EVENTOS MODALS Y TABLAS
        ********************************************************************************/

        //function DescargarArchivo(num_item) {
        //    window.open(ROOT + 'Lotes/DescargarLoteDocumentoRRPP?CodigoDistrito=' + $('#CodDist').val() + '&CodigoSector=' + $('#CodSect').val() + '&CodigoManzana=' + $('#CodManz').val() + '&CodigoLote=' + $('#CodLote').val() + '&Codigo=' + $('#docum_lote_id_' + num_item).val());
        //    var modelDocum = {
        //        CodigoDistrito: $('#CodDist').val(), CodigoLote: $('#CodLote').val(), CodigoManzana: $('#CodManz').val(), CodigoSector: $('#CodSect').val(), Codigo: $('#docum_lote_id_' + num_item).val()
        //    };
        //}
        function buscarUnidadEstatico() {
            //$('#btnBuscarEstatico').click(function () {
            var codSect = $('#FiltrarCodigoSector').val();
            var codManz = $('#FiltrarCodigoManzana').val();
            var codLote = $('#FiltrarCodigoLote').val();
            var codEdif = $('#FiltrarEd').val();
            var codEntr = $('#FiltrarEntrada').val();
            var codPiso = $('#FiltrarPiso').val();
            var codUnid = $('#FiltrarUnidad').val();
            var cont;

            if (!$('#FiltrarCodigoSector').val()) {
                $('#msgErrores').append("<li>Ingrese el código del sector</li>"); cont = true;
            }
            if (!$('#FiltrarCodigoManzana').val()) {
                $('#msgErrores').append("<li>Ingrese el código de la manzana</li>"); cont = true;
            }
            if (!$('#FiltrarCodigoLote').val()) {
                $('#msgErrores').append("<li>Ingrese el código del lote</li>"); cont = true;
            }

            $('#btnNuevoUC').attr('disabled', 'disabled');
            if (!cont) {
                $.LoadingOverlay("show");
                $('#msgErrores').html("");
                $.ajax({
                    url: ROOT + "Cotitularidad/BuscarSolicitudEstatico", type: "POST", dataType: "json",
                    data: {
                        FiltrarCodigoSector: codSect, FiltrarCodigoManzana: codManz, FiltrarCodigoLote: codLote,
                        FiltrarEd: codEdif, FiltrarEntrada: codEntr, FiltrarPiso: codPiso, FiltrarUnidad: codUnid, Estatico: true
                    },
                    success: function (response) {
                        if (response.success) {
                            $('#TabUC').hide();
                            $('.tabs').trigger('show', '#tab-1');
                            $('#GenFicha').attr('disabled', 'disabled');
                            $('#GrabarUnidadCatastral').attr('disabled', 'disabled');
                            $('#btnNuevoUC').removeAttr('disabled');
                            tablaUnidadCatastralEstatico.ajax.reload(function (res) {
                                tablaUnidadCatastral.columns.adjust().draw();
                                var alto = $('#tablaUnidadCatastralEstatico_wrapper .dataTables_scrollBody').height();
                                if (alto < 399) {
                                    $('#tablaUnidadCatastralEstatico_wrapper .dataTables_scrollHead').removeClass('pr-4');
                                } else {
                                    $('#tablaUnidadCatastralEstatico_wrapper .dataTables_scrollHead').addClass('pr-4');
                                }
                            });
                        } else {
                            $('#btnNuevoUC').attr('disabled', 'disabled');
                            $('#GenFicha').attr('disabled', 'disabled');
                            $('#GrabarUnidadCatastral').attr('disabled', 'disabled');
                            $('#tabLotes').hide();
                            tablaUnidadCatastralEstatico.clear().draw();
                            toastr.error("No se ha encontrado la unidad", "Mensaje del Sistema", { "progressBar": true });
                        }
                    },
                    complete: function (response) {
                        $.LoadingOverlay("hide");
                    }
                });
            }
            //});
        }
        function CargarInformacionTtotalUCEST(response, data, row) {
            InicializarValores();
            $('#GrabarUnidadCatastral').removeAttr('disabled');
            $("#CodigoDistrito").val(data.CodigoDistrito);
            $("#CodigoSector").val(data.CodigoSector);
            $("#CodigoManzana").val(data.CodigoManzana);
            $("#CodigoLote").val(data.CodigoLote);
            $("#CodigoEdificacion").val(data.Ed);
            $("#CodigoEntrada").val(data.Entrada);
            $("#CodigoPiso").val(data.Piso);
            $("#CodigoUnidad").val(data.Unidad);
            if (response.success == true) {
                tablaUnidadCatastralEstatico.$('tr.selected').removeClass('selected');
                row.addClass('selected');
                RecuperarUnidadCatastral(response.resultado);
                RecuperandoLineasConstructivas(response.ListLineasConstructivas);
                RecuperandoOtrasInstalaciones(response.ListOtrasInstalaciones);
                RecuperandoActividadEconomica(response.ListActividadEconomica);
                RecuperandoObservacion(response.ListObservacionGeneral, 'obs_general', 'ObservacionGeneral', 7)
                RecuperandoObservacion(response.ListObservacionSunarp, 'obs_sunarp', 'ObservacionSunarp', 8);
                RecuperandoObservacion(response.ListObservacionCarga, 'obs_carga', 'ObservacionCarga', 9);
                tablaMunicipalAsignado.ajax.reload();
                tablaMunicipalAsignado2.ajax.reload();
                tablaUnidadTitular.ajax.reload(function (json) {
                    //console.log("json");
                    //console.log(json);
                    //console.log(json.data.length);
                    if (json.data.length > 0) {
                        $("#tdCondicionPropiedad").text(json.data[0].CondicionPropiedad);
                    } else {
                        $("#tdCondicionPropiedad").text("");
                    }
                });
                tablaUnidadRRPP.ajax.reload();
                tablaUnidadExpedienteDoc.ajax.reload();
                tablaUnidadLicenciaFunc.ajax.reload();
                tablaUnidadObrasPrivadas.ajax.reload();
                //tablaInspectores.ajax.reload();
                tablaCartasInformes.ajax.reload();
                CargarImagen();
                SumarAreasConstructivas();
                RecuperarLinderos();
                //$('#GenFicha').removeAttr('disabled');
            } else {
                //console.log('b');
            }

            $.LoadingOverlay("hide");
            $('#TabUC').show();
        }
        function CompararUnidadTitular(TitularCastastral) {
            var tablaTitular = tablaUnidadTitular.rows().data();
            var totalFilas = tablaTitular.length;
            var duplicado = 0;
            for (var i = 0; i < totalFilas; i++) {
                ItemTabla = tablaTitular[i];
                if (ItemTabla.CodigoContribuyente == TitularCastastral.CodigoContribuyente) {
                    duplicado++;
                }
            }
            return duplicado;
        }
        function CompararUnidad(DocRRPP) {
            var tablaRRPP = tablaUnidadRRPP.rows().data();
            var totalFilas = tablaRRPP.length;
            var duplicado = 0;
            for (var i = 0; i < totalFilas; i++) {
                ItemTabla = tablaRRPP[i];
                if (ItemTabla.CodigoCorrelativoLote == DocRRPP.CodigoCorrelativoLote) {
                    duplicado++;
                }
            }
            return duplicado;
        }
        function CompararUnidadExpeDoc(ExpeDoc) {
            var tablaExpedienteDoc = tablaUnidadExpedienteDoc.rows().data();
            var totalFilas = tablaExpedienteDoc.length;
            var duplicado = 0;
            for (var i = 0; i < totalFilas; i++) {
                ItemTabla = tablaExpedienteDoc[i];
                if (ItemTabla.CodigoCorrelativoLote == ExpeDoc.CodigoCorrelativoLote) {
                    duplicado++;
                }
            }
            return duplicado;
        }
        function CompararUnidadLicenciaFunc(LicFun) {
            var tablaLicenciaFunc = tablaUnidadLicenciaFunc.rows().data();
            var totalFilas = tablaLicenciaFunc.length;
            var duplicado = 0;
            for (var i = 0; i < totalFilas; i++) {
                ItemTabla = tablaLicenciaFunc[i];
                if (ItemTabla.CodigoCorrelativoLote == LicFun.CodigoCorrelativoLote) {
                    duplicado++;
                }
            }
            return duplicado;
        }
        function CompararUnidadObrasPrivadas(LicObPr) {
            var tablaObrasPrivadas = tablaUnidadObrasPrivadas.rows().data();
            var totalFilas = tablaObrasPrivadas.length;
            var duplicado = 0;
            for (var i = 0; i < totalFilas; i++) {
                ItemTabla = tablaObrasPrivadas[i];
                if (ItemTabla.CodigoCorrelativoLote == LicObPr.CodigoCorrelativoLote) {
                    duplicado++;
                }
            }
            return duplicado;
        }

        function buscarUnidad() {


            $('#btnNuevoUC').attr('disabled', 'disabled');
            $('#GenFicha').attr('disabled', 'disabled');
            $('#TipoRequerimiento').val('');
            $('#TipoLlenado').val('');
            $('#GrabarUnidadCatastral').attr('disabled', 'disabled');
            var codSol = $('#FiltrarCodigoTipoSolicitud').val(); var numVal = $('#FiltrarNumeroSolicitud').val(); var codDoc = $('#FiltrarCodigoTipoDocumento').val();
            tipDoc = $('#FiltrarCodigoTipoDocumento').val();
            // lbarrientos - i
            var FiltrarNECodigoDistrito= $("#FiltrarNECodigoDistrito").val();
            var FiltrarNECodigoSector= $("#FiltrarNECodigoSector").val();
            var FiltrarNECodigoManzana= $("#FiltrarNECodigoManzana").val();
            var FiltrarNECodigoLote= $("#FiltrarNECodigoLote").val();
            var FiltrarNEEd= $("#FiltrarNEEd").val().toUpperCase();
            var FiltrarNEEntrada= $("#FiltrarNEEntrada").val().toUpperCase();
            var FiltrarNEPiso= $("#FiltrarNEPiso").val().toUpperCase();
            var FiltrarNEUnidad= $("#FiltrarNEUnidad").val().toUpperCase(); 
            // lbarrientos - f
            if (validarCamposBusqueda(codSol, numVal, tipDoc)) {
                $.LoadingOverlay("show");
                $.ajax({
                    url: "@Url.Content("~/Cotitularidad/BuscarSolicitud")", type: "POST", dataType: "json",
                    data: { FiltrarCodigoTipoSolicitud: codSol, FiltrarNumeroSolicitud: numVal, FiltrarCodigoTipoDocumentoReg: codDoc },
                    success: function (response) {
                        if (response.success) {
                            $('#TipoRequerimiento').val(response.ProcedimientoNuevo.Requerimiento);
                            $('#TipoLlenado').val(response.ProcedimientoNuevo.TipoLlenado);
                            $('#btnNuevoUC').removeAttr('disabled');
                            $('#TabUC').hide();
                            InicializarValores();
                            tablaUnidadCatastral.ajax.reload(function (res) {
                                //console.log('1', res.data)
                                if (res.data.length != 0) {
                                    $('#TipoRequerimiento').val(response.ProcedimientoNuevo.Requerimiento);
                                    $('#TipoLlenado').val(response.ProcedimientoNuevo.TipoLlenado);
                                } else {
                                    $('#TipoRequerimiento').val('');
                                    $('#TipoLlenado').val('');
                                }
                                tablaUnidadCatastral.columns.adjust().draw();
                                var alto = $('#tablaUnidadCatastral_wrapper .dataTables_scrollBody').height();
                                if (alto < 399) {
                                    $('#tablaUnidadCatastral_wrapper .dataTables_scrollHead').removeClass('pr-4');

                                } else {
                                    $('#tablaUnidadCatastral_wrapper .dataTables_scrollHead').addClass('pr-4');
                                }
                            });
                            tablaUnidadCatastralRef.ajax.reload();
                        } else {
                            tablaUnidadCatastral.ajax.reload(function (res) {
                                //console.log('2', res.data)
                                tablaUnidadCatastral.columns.adjust().draw();
                                var alto = $('#tablaUnidadCatastral_wrapper .dataTables_scrollBody').height();
                                if (alto < 399) {
                                    $('#tablaUnidadCatastral_wrapper .dataTables_scrollHead').removeClass('pr-4');

                                } else {
                                    $('#tablaUnidadCatastral_wrapper .dataTables_scrollHead').addClass('pr-4');
                                }
                            });
                            tablaUnidadCatastralRef.ajax.reload();
                            $('#TabUC').hide();
                            toastr.error("No se han encontrado solicitudes", "Mensaje del Sistema", { "progressBar": true });
                        }
                    },
                    complete: function (response) {
                        $.LoadingOverlay("hide");
                    }
                });
            }




            //});
        }
        function validarCamposBusqueda(codSol, numVal, tipDoc) {
            var validado = false;
            valiCodTip = $('[data-valmsg-for="FiltrarCodigoTipoSolicitud"]');
            valiTipDoc = $('[data-valmsg-for="FiltrarCodigoTipoDocumentoReg"]');
            valiNumSol = $('[data-valmsg-for="FiltrarNumeroSolicitud"]');

            $('#TabUC').hide();
            $('#TipoRequerimiento').val(''); $('#TipoLlenado').val('');
            $('#btnNuevoUC').attr('disabled', 'disabled'); $('#GenFicha').attr('disabled', 'disabled');
            $('#GrabarUnidadCatastral').attr('disabled', 'disabled');
            tablaUnidadCatastral.rows().remove().draw(); tablaUnidadCatastralRef.rows().remove().draw();

            if (!codSol) {
                valiCodTip.html('Seleccione el tipo de solicitud').addClass('field-validation-valid has-error');
                valiNumSol.html('').removeClass('field-validation-valid has-error');
                $('[data-valmsg-for="FiltrarCodigoTipoDocumentoReg"]').html('').removeClass('field-validation-valid has-error');
                $('#FiltrarCodigoTipoSolicitud').focus(); //$('#btnDerivar').attr('disabled', 'disabled');
            } else if (!tipDoc && codSol != '010003') {
                valiCodTip.html('').removeClass('field-validation-valid has-error');
                valiNumSol.html('').removeClass('field-validation-valid has-error');
                $('[data-valmsg-for="FiltrarCodigoTipoDocumentoReg"]').html('Seleccione el tipo de documento').addClass('field-validation-valid has-error');
                $('#FiltrarCodigoTipoDocumentoReg').focus();
            } else if (numVal === '-' || !numVal) {


                valiCodTip.html('').removeClass('field-validation-valid has-error');
                valiNumSol.html('Ingrese un número de solicitud').addClass('field-validation-valid has-error');
                $('[data-valmsg-for="FiltrarCodigoTipoDocumentoReg"]').html('').removeClass('field-validation-valid has-error');
                $('#FiltrarNumeroSolicitud').focus(); //$('#btnDerivar').attr('disabled', 'disabled');
            } else {
                valiCodTip.html('').removeClass('field-validation-valid has-error');
                valiNumSol.html('').removeClass('field-validation-valid has-error');
                $('[data-valmsg-for="FiltrarCodigoTipoDocumentoReg"]').html('').removeClass('field-validation-valid has-error');
                validado = true;

            }
            return validado;
        }

        function CargarInformacionTtotalUC(response, data, row) {
            InicializarValores();
            $('#GrabarUnidadCatastral').removeAttr('disabled');
            //$("#CodigoUnidadCatastral").val(data.CodigoUni);
            $("#CodigoDistrito").val(data.CodigoDistrito);
            $("#CodigoSector").val(data.CodigoSector);
            $("#CodigoManzana").val(data.CodigoManzana);
            $("#CodigoLote").val(data.CodigoLote);
            $("#CodigoEdificacion").val(data.Ed);
            $("#CodigoEntrada").val(data.Entrada);
            $("#CodigoPiso").val(data.Piso);
            $("#CodigoUnidad").val(data.Unidad);
            if (response.success == true) {
                tablaUnidadCatastral.$('tr.selected').removeClass('selected');
                row.addClass('selected');
                RecuperarUnidadCatastral(response.resultado);
                RecuperandoLineasConstructivas(response.ListLineasConstructivas);
                RecuperandoOtrasInstalaciones(response.ListOtrasInstalaciones);
                RecuperandoActividadEconomica(response.ListActividadEconomica);
                RecuperandoObservacion(response.ListObservacionGeneral, 'obs_general', 'ObservacionGeneral', 7)
                RecuperandoObservacion(response.ListObservacionSunarp, 'obs_sunarp', 'ObservacionSunarp', 8);
                RecuperandoObservacion(response.ListObservacionCarga, 'obs_carga', 'ObservacionCarga', 9);
                tablaMunicipalAsignado.ajax.reload();
                tablaMunicipalAsignado2.ajax.reload();
                tablaUnidadTitular.ajax.reload(function (json) {
                    //console.log("json");
                    //console.log(json);
                    //console.log(json.data.length);
                    if (json.data.length > 0) {
                        $("#tdCondicionPropiedad").text(json.data[0].CondicionPropiedad);
                    } else {
                        $("#tdCondicionPropiedad").text("");
                    }
                });
                tablaUnidadRRPP.ajax.reload();
                tablaUnidadExpedienteDoc.ajax.reload();
                tablaUnidadLicenciaFunc.ajax.reload();
                tablaUnidadObrasPrivadas.ajax.reload();
                //tablaInspectores.ajax.reload();
                tablaCartasInformes.ajax.reload();
                CargarImagen();
                SumarAreasConstructivas();
                RecuperarLinderos();
                //$('#GenFicha').removeAttr('disabled');
            } else {
                //console.log('b');
            }

            $.LoadingOverlay("hide");
            $('#TabUC').show();
        }

        function RecuperarUnidadCatastral(resultado) {
            TipoDepartamentoAction(resultado.CodigoClasificacionPredio, resultado.CodigoDepartamentoPredio);
            RemoveValidacion();
            $("#Cuc").val(resultado.Cuc);
            $("#CodigoInscripcionCatastral").val(resultado.CodigoInscripcionCatastral);
            $("#CodigoUnidadCatastral").val(resultado.CodigoUnico);
            $("#CodigoCodInscripcionCatastral").val(resultado.CodigoCodInscripcionCatastral);
            $("#CodigoFuenteInscripcionCatastral").val(resultado.CodigoFuenteInscripcionCatastral);
            $("#Denominacion").val(resultado.Denominacion);
            $("#CodigoEstadoConstruccion").val(resultado.CodigoEstadoConstruccion);
            $("#CodigoClasificacionPredio").val(resultado.CodigoClasificacionPredio);
            $("#CodgiUsoPredio").val(resultado.CodgiUsoPredio).trigger("chosen:updated");
            $("#CodigoCargaRegistral").val(resultado.CodigoCargaRegistral);
            $("#FechaUltimaInspeccion").val(resultado.FechaUltimaInspeccion);
            $("#FechaActualizacion").val(resultado.FechaActualizacion);
            $("#CodigoTipoLlenado").val(resultado.codigollenado)

            //$("#CodigoDepartamentoPredio").val(resultado.CodigoDepartamentoPredio);
            $('.chosen-seleccionar').trigger('change');
            var AreaTerrenoVerificada = resultado.AreaTerrenoVerificada === "0" ? "" : resultado.AreaTerrenoVerificada;
            //console.log('areas');
            //console.log(AreaTerrenoVerificada);
            //console.log(resultado.AreaTerrenoVerificada);
            resultado.AreaTerrenoComun = resultado.AreaTerrenoComun === "0" ? "" : resultado.AreaTerrenoComun;
            resultado.AreaTerrenoTotal = resultado.AreaTerrenoTotal === "0" ? "" : resultado.AreaTerrenoTotal;
            resultado.AreaOcupada = resultado.AreaOcupada === "0" ? "" : resultado.AreaOcupada;

            $("input[name=POROFCOM1][value=" + resultado.FlgIndependiente + "]").attr('checked', true);
            //console.log('FLAG', resultado.FlgIndependiente)
            $('#selporof1').val(resultado.FlgIndependiente)
            if (resultado.FlgIndependiente == "1") {
                $("#AreaComunesOficial").val(resultado.AreaComunesOficial);

            } else if (resultado.FlgIndependiente == "2") {
                $("#AreaComunesOficial").val(resultado.AreaComunesOficial);
                //$("#AreaComunesCalculado").val(resultado.AreaComunesCalculado);
            } else {
                $('#AreaComunesOficial').val('0.0000');
                //$('#AreaComunesCalculado').val('');
            }

            //resultado.AreaComunesOficial = resultado.AreaComunesOficial === "0" ? "" : resultado.AreaComunesOficial;

            $("#AreaTerrenoVerificada").val(AreaTerrenoVerificada);
            console.log('Comun', resultado.AreaTerrenoComun);
            $("#AreaTerrenoComun").val(resultado.AreaTerrenoComun);
            $("#AreaTerrenoTotal").val(resultado.AreaTerrenoTotal);
            $("#AreaConstruidaTotalDeclarada").val(resultado.AreaConstruidaTotalDeclarada);

            $('#txtTotalAreaVerificada').val(AreaTerrenoDeclarada);
            $('#txtTotalAreaDeclarada').val(AreaConstruidaTotalDeclarada);


            $("#AreaOcupada").val(resultado.AreaOcupada);
            // $("#AreaComunesOficial").val(resultado.AreaComunesOficial);
            $("#AreaTerrenoDeclarada").val(resultado.AreaTerrenoDeclarada);

            // $("#AreaComunesCalculado").val(resultado.AreaComunesCalculado);

            $("#CodigoPredial").val(resultado.CodigoPredial);
            $("#AvanceConstruccion").val(resultado.AvanceConstruccion);

            if ($("#CodigoEstadoConstruccion").val() === '010002') {
                $("#AvanceConstruccion").removeAttr('disabled');
            } else {
                $("#AvanceConstruccion").attr('disabled', 'disabled');
                $("#AvanceConstruccion").val('');
            }

            $("#codigollenado").val(resultado.codigollenado)

            //if ($("#codigollenado").val() != "") {
            //    $('#GenFicha').removeAttr('disabled');
            //} else {
            //    $('#GenFicha').attr('disabled', 'disabled');
            //}
            $('#GenFicha').removeAttr('disabled');

            //$("input[name=]").val();


        }

        function RecuperandoLineasConstructivas(resultado) {
            for (i = 0; i < resultado.length; i++) {
                var valorReal = i + 1;
                if (valorReal != 1) {
                    CrearCamposUnidadCatastral(1, 'LineasContructivas', '00000', 'lineas_constructivas', 'Carga');
                } else {
                    $('#LineasContructivas input').attr('disabled', 'disabled');
                    $('#LineasContructivas select').attr('disabled', 'disabled');
                    $('#LineasContructivas textarea').attr('disabled', 'disabled');
                }
                CargarLineasConstructivas(valorReal, resultado[i]);
                //$('.numeroTab').number(true, 2, '.', '');
            }

        }
        function RecuperandoOtrasInstalaciones(resultado) {

            for (i = 0; i < resultado.length; i++) {
                var valorReal = i + 1;
                if (valorReal != 1) {
                    CrearCamposUnidadCatastral(2, 'OtasInstalaciones', '00000', 'otras_instalaciones', 'Carga');
                } else {
                    $('#OtasInstalaciones input').attr('disabled', 'disabled');
                    $('#OtasInstalaciones select').attr('disabled', 'disabled');
                    $('#OtasInstalaciones textarea').attr('disabled', 'disabled');
                }
                CargarOtrasInstalaciones(valorReal, resultado[i]);
            }

        }
        function RecuperandoActividadEconomica(resultado) {

            for (i = 0; i < resultado.length; i++) {
                var valorReal = i + 1;
                if (valorReal != 1) {
                    CrearCamposUnidadCatastral(3, 'ActividadEconomica', '00000', 'actividad_economica', 'Carga');
                } else {
                    $('#ActividadEconomica input').attr('disabled', 'disabled');
                    $('#ActividadEconomica select').attr('disabled', 'disabled');
                    $('#ActividadEconomica textarea').attr('disabled', 'disabled');
                }
                CargarActividadEconomica(valorReal, resultado[i]);
            }

        }
        function RecuperandoObservacion(resultado, fieldset, tabla, orden) {

            for (i = 0; i < resultado.length; i++) {
                var valorReal = i + 1;
                if (valorReal != 1) {
                    CrearCamposUnidadCatastral(orden, tabla, '00000', fieldset, 'Carga');
                } else {
                    $('#' + tabla + ' input').attr('disabled', 'disabled');
                    $('#' + tabla + ' select').attr('disabled', 'disabled');
                    $('#' + tabla + ' textarea').attr('disabled', 'disabled');
                }
                CargarObservacion(valorReal, resultado[i], fieldset);
            }

        }

        function CargarLineasConstructivas(numero, resultado) {
            $("#lineas_constructivas_txtpiso_" + LeftZero(numero, 5)).val(resultado.txtPiso);
            $("#lineas_constructivas_mes_" + LeftZero(numero, 5)).val(resultado.Mes);
            $("#lineas_constructivas_ano_" + LeftZero(numero, 5)).val(resultado.Ano);
            $("#lineas_constructivas_material_" + LeftZero(numero, 5)).val(resultado.Material);
            $("#lineas_constructivas_estado_" + LeftZero(numero, 5)).val(resultado.EstadoConst);
            $("#lineas_constructivas_muro_" + LeftZero(numero, 5)).val(resultado.Muro);
            $("#lineas_constructivas_techo_" + LeftZero(numero, 5)).val(resultado.Techo);
            $("#lineas_constructivas_piso_" + LeftZero(numero, 5)).val(resultado.Piso);
            $("#lineas_constructivas_puerta_" + LeftZero(numero, 5)).val(resultado.Puerta);
            $("#lineas_constructivas_revest_" + LeftZero(numero, 5)).val(resultado.Revest);
            $("#lineas_constructivas_bano_" + LeftZero(numero, 5)).val(resultado.Bano);
            $("#lineas_constructivas_electricas_" + LeftZero(numero, 5)).val(resultado.Electricas);
            $("#lineas_constructivas_verificada_" + LeftZero(numero, 5)).val(resultado.Verificada);
            $("#lineas_constructivas_declarada_" + LeftZero(numero, 5)).val(resultado.Declarada);
            $("#lineas_constructivas_id_" + LeftZero(numero, 5)).val(resultado.CodigoCorrelativo);

        }
        function CargarOtrasInstalaciones(numero, resultado) {
            //CrearComboTipoInstalacion(resultado.Ano, LeftZero(numero, 5), resultado.CodigoTipoInstalacion)
            $("#otras_instalaciones_tipoinstalacion_" + LeftZero(numero, 5)).val(resultado.CodigoTipoInstalacion + "_" + resultado.CodigoUnidad);
            //$("#otras_instalaciones_codigo_" + LeftZero(numero, 5)).val(resultado.CodigoTipoInstalacion);
            //CapturarTipoInstalacion($("#otras_instalaciones_tipoinstalacion_" + LeftZero(numero, 5))[0]);
            $("#otras_instalaciones_unidad_" + LeftZero(numero, 5)).val(resultado.CodigoUnidad);
            $("#otras_instalaciones_capacidad_" + LeftZero(numero, 5)).val(resultado.Capacidad);
            $("#otras_instalaciones_cantidad_" + LeftZero(numero, 5)).val(resultado.Cantidad);
            $("#otras_instalaciones_mes_" + LeftZero(numero, 5)).val(resultado.Mes);
            $("#otras_instalaciones_ano_" + LeftZero(numero, 5)).val(resultado.Ano);
            $("#otras_instalaciones_estadoconservacion_" + LeftZero(numero, 5)).val(resultado.EstadoConserva);
            $("#otras_instalaciones_id_" + LeftZero(numero, 5)).val(resultado.CodigoCorrelativo);
            $('.chosen-seleccionar').trigger("chosen:updated");

        }
        function CargarActividadEconomica(numero, resultado) {
            $("#actividad_economica_uso_" + LeftZero(numero, 5)).val(resultado.CodigoUso);
            $("#actividad_economica_codigo_" + LeftZero(numero, 5)).val(resultado.CodigoUso);
            $("#actividad_economica_metro_" + LeftZero(numero, 5)).val(resultado.Metro);
            $("#actividad_economica_fecha_" + LeftZero(numero, 5)).val(resultado.Fecha);
            $("#actividad_economica_retiro_" + LeftZero(numero, 5)).val(resultado.Retiro);
            $("#actividad_economica_anuncio_" + LeftZero(numero, 5)).val(resultado.Anuncio);
            $("#actividad_economica_tipoanuncio_" + LeftZero(numero, 5)).val(resultado.TipoAnuncio);
            $("#actividad_economica_id_" + LeftZero(numero, 5)).val(resultado.CodigoCorrelativo);
            $("#actividad_economica_uso_" + LeftZero(numero, 5)).trigger("chosen:updated");
            $("#actividad_economica_codigo_" + LeftZero(numero, 5)).trigger("chosen:updated");
            $("#actividad_economica_tipoanuncio_" + LeftZero(numero, 5)).trigger("chosen:updated");

        }
        function CargarObservacion(numero, resultado, fieldset) {
            $("#" + fieldset + "_fecha_" + LeftZero(numero, 5)).val(resultado.Fecha);
            $("#" + fieldset + "_observacion_" + LeftZero(numero, 5)).val(resultado.Observacion);
            $("#" + fieldset + "_id_" + LeftZero(numero, 5)).val(resultado.CodigoCorrelativo);

        }
        function CapturarTipoInstalacion(element) {
            var res = element.id.substr(element.id.length - 5, 5);
            $("#otras_instalaciones_tipoinstalacion_" + res).val($("#" + element.id).val());
            ObtenerDescripcionInstalacion($("#" + element.id).val(), res);
            $('.chosen-seleccionar').trigger("chosen:updated");
        }
        function CapturarCodigoTipoInstalacion(element) {
            var res = element.id.substr(element.id.length - 5, 5);
            var num1 = $("#otras_instalaciones_tipoinstalacion_" + res).val().indexOf("_");
            $('#otras_instalaciones_unidad_' + res).val($("#otras_instalaciones_tipoinstalacion_" + res).val().substring(num1 + 1));
            $('.chosen-seleccionar').trigger("chosen:updated");
        }
        function CapturarAnuncio(element) {
            var res = element.id.substr(element.id.length - 5, 5);
            if ($("#actividad_economica_anuncio_" + res).val() === '010002') {
                $("#actividad_economica_tipoanuncio_" + res).val('');
                $("#actividad_economica_tipoanuncio_" + res).trigger("chosen:updated");
                $("#actividad_economica_tipoanuncio_" + res).prop('disabled', true).trigger("chosen:updated");
            } else {
                $("#actividad_economica_tipoanuncio_" + res).prop('disabled', false).trigger("chosen:updated");
            }

        }
        function ObtenerDescripcionInstalacion(codigo, res) {
            $.post("@Url.Content("~/Cotitularidad/ObtenerDescripcionInstalacion")", {
                Codigo: codigo, Estatico: Estatico
            }, function (response) {
                if (response.success == true) {
                    $("#otras_instalaciones_unidad_" + res).val(response.Descripcion);
                }
            });
        }
        function CargarTipoInstalacion(element) {
            var res = element.id.substr(element.id.length - 5, 5);
            if ($("#otras_instalaciones_ano_" + res).val().length === 4) {
                $("#otras_instalaciones_tipoinstalacion_" + res).prop("disabled", false);
                $("#otras_instalaciones_codigo_" + res).prop("disabled", false);
                CrearComboTipoInstalacion($("#otras_instalaciones_ano_" + res).val(), res, '');
            } else {
                $("#otras_instalaciones_tipoinstalacion_" + res).prop("disabled", true);
                $("#otras_instalaciones_codigo_" + res).prop("disabled", true);
                $("#otras_instalaciones_tipoinstalacion_" + res).val('');
                $("#otras_instalaciones_codigo_" + res).val('');

            }

        }
        function CrearComboTipoInstalacion(anio, res, codigo) {
            var URL = "@Url.Content("~/Cotitularidad/CargarOtrasInstalaciones")" + "?anio=" + anio;
            $.post(URL, function (data) {
                // Combo de Otrasinstlaciones
                $("#otras_instalaciones_tipoinstalacion_" + res).find('option:not(:first)').remove();
                var items = '<option value="">Seleccione...</option>';
                //console.log(anio);
                //console.log(data);
                $.each(data, function (i, item) {
                    items += "<option value='" + item.Value + "'>" + item.Text + "</option>";
                });
                $("#otras_instalaciones_tipoinstalacion_" + res).val('');
                $("#otras_instalaciones_tipoinstalacion_" + res).html(items);
                $("#otras_instalaciones_tipoinstalacion_" + res).val(codigo);


                //Combo de Codigo Otras Instalaciones
                $("#otras_instalaciones_codigo_" + res).find('option:not(:first)').remove();
                var itemsCodigo = '<option value="">Seleccione...</option>';
                $.each(data, function (i, item) {
                    itemsCodigo += "<option value='" + item.Value + "'>" + item.Value + "</option>";
                });

                $("#otras_instalaciones_codigo_" + res).val('');
                $("#otras_instalaciones_codigo_" + res).html(itemsCodigo);
                $("#otras_instalaciones_codigo_" + res).val(codigo);


            });
        }
        function CapturarUso(element) {
            var res = element.id.substr(element.id.length - 5, 5);
            $("#actividad_economica_uso_" + res).val($("#" + element.id).val());
            $("#actividad_economica_uso_" + res).trigger("chosen:updated");
        }
        function CapturarCodigoUso(element) {
            var res = element.id.substr(element.id.length - 5, 5);
            $("#actividad_economica_codigo_" + res).val($("#" + element.id).val());
            $("#actividad_economica_codigo_" + res).trigger("chosen:updated");
        }

        function CrearCamposUnidadCatastral(tipo, tabla, posactual, focus, opcion) {
            if (tipo === 1) {

                cont = ValidarLineasConstructivas(posactual, 0);
                if (cont == true || posactual == '00000') {
                    contLineasConstructivas++; contIdLineasConstructivas++; var numeroItem = LeftZero(contLineasConstructivas, 5); var idItem = LeftZero(contIdLineasConstructivas, 5);
                    fieldset = "lineas_constructivas";
                    var ValCat = 'onKeypress="if (!(event.keyCode >= 65 && event.keyCode <= 73) && !(event.keyCode >= 97 && event.keyCode <= 105)) event.returnValue = false;"'
                    columnas = lblTd + '<input type="text" disabled value="' + idItem + '"  class="form-control item_lineas_constructivas"></td>' +
                               lblTd + '<input id="lineas_constructivas_txtpiso_' + idItem + '" type="text" maxlength="2"  class="form-control txtpiso_lineas_constructivas"></td>' +
                               lblTd + '<select id="lineas_constructivas_mes_' + idItem + '" class="form-control mes_lineas_constructivas"></select></td>' +
                               lblTd + '<input id="lineas_constructivas_ano_' + idItem + '" type="text" maxlength="4" onKeypress="if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;"  class="form-control ano_lineas_constructivas"></td>' +
                               lblTd + '<select id="lineas_constructivas_material_' + idItem + '" class="form-control material_lineas_constructivas"></select></td>' +
                               lblTd + '<select id="lineas_constructivas_estado_' + idItem + '" class="form-control estado_lineas_constructivas"> </select></td>' +
                               lblTd + '<input id="lineas_constructivas_muro_' + idItem + '" type="text" maxlength="1" ' + ValCat + ' class="form-control muro_lineas_constructivas" /></td>' +
                               lblTd + '<input id="lineas_constructivas_techo_' + idItem + '" type="text" maxlength="1" ' + ValCat + ' class="form-control techo_lineas_constructivas" /></td>' +
                               lblTd + '<input id="lineas_constructivas_piso_' + idItem + '" type="text" maxlength="1" ' + ValCat + ' class="form-control piso_lineas_constructivas" /></td>' +
                               lblTd + '<input id="lineas_constructivas_puerta_' + idItem + '" type="text" maxlength="1" ' + ValCat + ' class="form-control puerta_lineas_constructivas" /></td>' +
                               lblTd + '<input id="lineas_constructivas_revest_' + idItem + '" type="text" maxlength="1" ' + ValCat + ' class="form-control revest_lineas_constructivas" /></td>' +
                               lblTd + '<input id="lineas_constructivas_bano_' + idItem + '" type="text" maxlength="1" ' + ValCat + ' class="form-control bano_lineas_constructivas" /></td>' +
                               lblTd + '<input id="lineas_constructivas_electricas_' + idItem + '" type="text" maxlength="1" ' + ValCat + ' class="form-control electricas_lineas_constructivas" /></td>' +
                               lblTd + '<input id="lineas_constructivas_verificada_' + idItem + '" type="text" class="form-control verificada_lineas_constructivas" onkeyup="SumarAreasConstructivas()" style="text-align: right;" /></td>' +
                               lblTd + '<input id="lineas_constructivas_declarada_' + idItem + '" type="text" class="form-control declarada_lineas_constructivas" onkeyup="SumarAreasConstructivas()" style="text-align: right;" /></td>' +
                               '<td style="display:none;">' + '<input id="lineas_constructivas_id_' + idItem + '" type="hidden" class="form-control id_lineas_constructivas" /></td>';

                    columnasValidacion = lblTdSpan + '</td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_txtpiso_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_mes_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_ano_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_material_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_estado_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_muro_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_techo_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_piso_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_puerta_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_revest_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_bano_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_electricas_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_verificada_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               lblTdSpan + '<span class="val_lineas" data-valmsg-for="val_lineas_constructivas_declarada_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                               '<td style="display:none;"></td>';

                    BotonesTablas(tabla, columnas, tipo, focus, idItem, fieldset, columnasValidacion, opcion);
                    CrearCombobox('lineas_constructivas_estado_' + idItem, ListVBEstadoConservacion);
                    CrearCombobox('lineas_constructivas_material_' + idItem, ListVBMaterialEstructural);
                    CrearCombobox('lineas_constructivas_mes_' + idItem, ListVBMes);

                    //CrearMascaraDecimal(fieldset + '_verificada_' + idItem);
                    //CrearMascaraDecimal(fieldset + '_declarada_' + idItem);

                    $('#lineas_constructivas_verificada_' + idItem).number(true, 4, '.', '');
                    $('#lineas_constructivas_declarada_' + idItem).number(true, 4, '.', '');


                }
            } else if (tipo === 2) {
                cont = ValidarOtrasInstalaciones(posactual, 0);
                if (cont == true || posactual == '00000') {
                    fieldset = "otras_instalaciones"; contOtrasInstalaciones++; contIdOtrasInstalaciones++; var numeroItem = LeftZero(contOtrasInstalaciones, 5); var idItem = LeftZero(contOtrasInstalaciones, 5);
                    columnas = lblTd + '<input type="text" disabled value="' + numeroItem + '" class="form-control item_' + fieldset + '"></td>' +
                           //lblTd + '<select onchange="CapturarTipoInstalacion(this)" id="' + fieldset + '_codigo_' + idItem + '" class="form-control chosen-seleccionar codigo_' + fieldset + '"> </select></td>' +
                           lblTd + '<select onchange="CapturarCodigoTipoInstalacion(this)" id="' + fieldset + '_tipoinstalacion_' + idItem + '" class="form-control chosen-seleccionar tipoinstalacion_' + fieldset + '"> </select></td>' +
                           lblTd + '<input id="' + fieldset + '_unidad_' + idItem + '" disabled style="text-align: center;" class="form-control  unidad_' + fieldset + '"></td>' +
                           lblTd + '<input id="' + fieldset + '_capacidad_' + idItem + '" type="text" class="form-control capacidad_' + fieldset + ' numeroTab" style="text-align: right;" ></td>' +
                           lblTd + '<input id="' + fieldset + '_cantidad_' + idItem + '" type="text" maxlength="4" onKeypress="if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;" class="form-control cantidad_' + fieldset + '" style="text-align: right;"></td>' +
                           lblTd + '<select id="' + fieldset + '_mes_' + idItem + '" type="text" class="form-control mes_' + fieldset + '"> </select></td>' +
                           lblTd + '<input id="' + fieldset + '_ano_' + idItem + '" type="text"  maxlength="4" class="form-control ano_' + fieldset + '"></td>' + //onKeyUp="CargarTipoInstalacion(this)
                           lblTd + '<select id="' + fieldset + '_estadoconservacion_' + idItem + '" type="text" class="form-control estadoconservacion_' + fieldset + '"> </select></td>' +
                           '<td style="display:none;">' + '<input id="' + fieldset + '_id_' + idItem + '" type="hidden" class="form-control id_' + fieldset + '" /></td>';


                    columnasValidacion = lblTdSpan + '</td>' +
                                   //lblTdSpan + '<span class="" data-valmsg-for="val_otras_instalaciones_codigo_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_otras_instalaciones_tipoinstalacion_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_otras_instalaciones_unidad_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_otras_instalaciones_capacidad_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_otras_instalaciones_cantidad_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_otras_instalaciones_mes_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_otras_instalaciones_ano_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_otras_instalaciones_estadoconservacion_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   '<td style="display:none;"></td>';

                    BotonesTablas(tabla, columnas, tipo, focus, idItem, fieldset, columnasValidacion, opcion);
                    CrearCombobox(fieldset + '_estadoconservacion_' + idItem, ListVBEstadoConservacion);
                    CrearCombobox(fieldset + '_tipoinstalacion_' + idItem, ListVBOtrasInstalaciones);
                    CrearCombobox(fieldset + '_codigo_' + idItem, ListVBCodigoOtrasInstalaciones)
                    CrearCombobox(fieldset + '_tipoinstalacion_' + idItem, ListVBOtrasInstalaciones);
                    CrearCombobox(fieldset + '_codigo_' + idItem, ListVBCodigoOtrasInstalaciones)
                    //CrearCombobox(fieldset + '_unidad_' + idItem, ListVBUnidadMedida);
                    CrearCombobox(fieldset + '_mes_' + idItem, ListVBMes);

                    $('#' + fieldset + '_capacidad_' + idItem).number(true, 4, '.', '');
                }
            } else if (tipo === 3) {
                cont = ValidarActividadEconomica(posactual, 0);
                if (cont == true || posactual == '00000') {
                    fieldset = "actividad_economica"; contActividadEconomica++; contIdActividadEconomica++; var numeroItem = LeftZero(contActividadEconomica, 5); var idItem = LeftZero(contActividadEconomica, 5);
                    columnas = lblTd + '<input type="text" disabled value="' + numeroItem + '" class="form-control item_' + fieldset + '"></td>' +
                           lblTd + '<select onchange="CapturarUso(this)" id="' + fieldset + '_codigo_' + idItem + '" class="chosen-seleccionar form-control codigo_' + fieldset + '"> </select></td>' +
                           lblTd + '<select onchange="CapturarCodigoUso(this)" id="' + fieldset + '_uso_' + idItem + '" class="chosen-seleccionar form-control uso_' + fieldset + '"> </select></td>' +
                           lblTd + '<input id="' + fieldset + '_metro_' + idItem + '" type="text" class="form-control metro_' + fieldset + '"></td>' +
                           lblTd + '<input id="' + fieldset + '_fecha_' + idItem + '" maxlength="10" type="text" class="form-control  fecha_' + fieldset + '"></td>' +
                           lblTd + '<select id="' + fieldset + '_retiro_' + idItem + '" class="form-control retiro_' + fieldset + '"> </select></td>' +
                           lblTd + '<select onchange="CapturarAnuncio(this)" id="' + fieldset + '_anuncio_' + idItem + '" class="form-control anuncio_' + fieldset + '"> </select></td>' +
                           lblTd + '<select id="' + fieldset + '_tipoanuncio_' + idItem + '" class="chosen-seleccionar form-control tipoanuncio_' + fieldset + '"> </select></td>' +
                           '<td style="display:none;">' + '<input id="' + fieldset + '_id_' + idItem + '" type="hidden" class="form-control id_' + fieldset + '" /></td>';


                    columnasValidacion = lblTdSpan + '</td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_' + fieldset + '_codigo_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_' + fieldset + '_uso_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_' + fieldset + '_metro_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_' + fieldset + '_fecha_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_' + fieldset + '_retiro_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_' + fieldset + '_anuncio_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   lblTdSpan + '<span class="" data-valmsg-for="val_' + fieldset + '_tipoanuncio_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                   '<td style="display:none;"></td>';

                    BotonesTablas(tabla, columnas, tipo, focus, idItem, fieldset, columnasValidacion, opcion);
                    pickmeup('#' + fieldset + '_fecha_' + idItem, { format: 'd/m/Y' });
                    $('#' + fieldset + '_fecha_' + idItem).val('');
                    CrearCombobox(fieldset + '_uso_' + idItem, ListVBUsoPredio);
                    CrearCombobox(fieldset + '_codigo_' + idItem, ListVBCodigoUsoPredio);
                    CrearCombobox(fieldset + '_retiro_' + idItem, ListVBTipoSiNo)
                    CrearCombobox(fieldset + '_anuncio_' + idItem, ListVBTipoSiNo);
                    CrearCombobox(fieldset + '_tipoanuncio_' + idItem, ListVBTipoAnuncio);

                    //CrearMascaraDecimal(fieldset + '_metro_' + idItem);
                    $('#' + fieldset + '_metro_' + idItem).number(true, 4, '.', '');


                }
            } else if (tipo === 4) {
                contLoteDocumRRPP++; contIdLoteDocumRRPP++; var numeroItem = LeftZero(contLoteDocumRRPP, 5); var idItem = LeftZero(contIdLoteDocumRRPP, 5); fieldset = "docum";
                columnas = lblTd + '<input type="text" disabled value="' + numeroItem + '" class="form-control item_lote_documr"></td>' +
                        lblTd + '<select id="docum_lote_tipodoc_' + idItem + '" class="form-control tipodoc_lote_docum"></select></td>' +
                        lblTd + '<input id="docum_lote_partida_' + idItem + '" type="text" class="form-control partida_lote_documr"></td>' +
                        lblTd + '<input id="docum_lote_tomoficha_' + idItem + '" type="text" class="form-control tomoficha_lote_documr"></td>' +
                        lblTd + '<input id="docum_lote_folio_' + idItem + '" type="text" class="form-control folio_lote_documr"></td>' +
                        lblTd + '<input id="docum_lote_asiento_' + idItem + '" type="text" class="form-control asiento_lote_documr"></td>' +
                        lblTd + '<input id="docum_lote_fechadoc_' + idItem + '" type="text" class="form-control fechadoc_lote_documr"></td>';
                BotonesTablas(tabla, columnas, tipo, focus, idItem, fieldset, opcion);

            } else if (tipo === 5 || tipo === 6) {


                if (tipo === 5) { fieldset = "exped"; contLoteExpediente++; contLoteIdExpediente++; var numeroItem = LeftZero(contLoteExpediente, 5); var idItem = LeftZero(contLoteIdExpediente, 5); }
                else if (tipo === 6) { fieldset = "autor"; contLoteAuto++; contIdLoteAuto++; var numeroItem = LeftZero(contLoteAuto, 5); var idItem = LeftZero(contIdLoteAuto, 5); }
                columnas = lblTd + '<input type="text" disabled value="' + numeroItem + '" class="form-control item_lote_' + fieldset + '"></td>' +
                       lblTd + '<input id="' + fieldset + '_lote_solici_' + idItem + '" type="text" class="form-control solici_lote_' + fieldset + '"></td>' +
                       lblTd + '<input id="' + fieldset + '_lote_documento_' + idItem + '" type="text" class="form-control documento_lote_' + fieldset + '"></td>' +
                       lblTd + '<input id="' + fieldset + '_lote_numero_' + idItem + '" type="text" class="form-control numero_lote_' + fieldset + '"></td>' +
                       lblTd + '<input id="' + fieldset + '_lote_fecha_' + idItem + '" type="text" class="form-control fecha_lote_' + fieldset + '"></td>' +
                       lblTd + '<input id="' + fieldset + '_lote_obser_' + idItem + '" type="text" class="form-control obser_lote_' + fieldset + '"></td>';
                BotonesTablas(tabla, columnas, tipo, focus, idItem, fieldset, opcion);


            } else if (tipo === 7 || tipo === 8 || tipo === 9) {


                if (tipo === 7) { fieldset = "obs_general"; contObservacionGeneral++; contIdObservacionGeneral++; var numeroItem = LeftZero(contObservacionGeneral, 5); var idItem = LeftZero(contIdObservacionGeneral, 5); }
                else if (tipo === 8) { fieldset = "obs_sunarp"; contObservacionSunarp++; contIdObservacionSunarp++; var numeroItem = LeftZero(contObservacionSunarp, 5); var idItem = LeftZero(contIdObservacionSunarp, 5); }
                else if (tipo === 9) { fieldset = "obs_carga"; contObservacionCarga++; contIdObservacionCarga++; var numeroItem = LeftZero(contObservacionCarga, 5); var idItem = LeftZero(contIdObservacionCarga, 5); }

                cont = ValidarObservaciones(posactual, 0, fieldset);
                if (cont == true || posactual == '00000') {

                    columnas = '<td valign="top" class="pr-4"><input type="text" disabled value="' + numeroItem + '" class="form-control text-center px-1 mt-2 item_' + fieldset + '"></td>' +
                           '<td valign="top" class="pr-4"><input id="' + fieldset + '_fecha_' + idItem + '" type="text" maxlength="10" class="form-control  mt-2 fecha_' + fieldset + '"></td>' +
                           '<td valign="top" style="padding-right: 1.5rem !important;">' + '<textarea id="' + fieldset + '_observacion_' + idItem + '" class="form-control mt-2 observacion_' + fieldset + '" rows="3" ></textarea></td>' +
                           '<td style="display:none;">' + '<input id="' + fieldset + '_id_' + idItem + '" type="hidden" class="form-control id_' + fieldset + '" /></td>';


                    columnasValidacion = lblTdSpan + '</td>' +
                                       lblTdSpan + '<span class="" data-valmsg-for="val_' + fieldset + '_fecha_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                       lblTdSpan + '<span class="" data-valmsg-for="val_' + fieldset + '_observacion_' + idItem + '" data-valmsg-replace="true"></span></td>' +
                                       '<td style="display:none;"></td>';

                    BotonesTablas(tabla, columnas, tipo, focus, idItem, fieldset, columnasValidacion, opcion);
                    pickmeup('#' + fieldset + '_fecha_' + idItem, { format: 'd/m/Y' });
                    $('#' + fieldset + '_fecha_' + idItem).val('');
                    $('#' + fieldset + '_fecha_' + idItem).attr('disabled', 'disabled');
                    $('#' + fieldset + '_observacion_' + idItem).attr('disabled', 'disabled');

                } else {
                    contObservacionGeneral--; contIdObservacionGeneral--;
                }

            }


            $(".chosen-seleccionar").chosen({ width: "100%", placeholder_text_single: "Seleccione una opción" });
        }
        function BotonesTablas(tabla, columnas, tipo, focus, idItem, fieldset, columnasValidacion, opcion) {
            var opcionInicial = 'Nuevo';
            $('#' + tabla + ' input').attr('disabled', 'disabled');
            $('#' + tabla + ' select').attr('disabled', 'disabled');
            $('#' + tabla + ' textarea').attr('disabled', 'disabled');
            $('#' + tabla).append('<tr style="height:45px">' + columnas + '<td>' +
                            '<button' + (Consultas != 'False' ? deshabilitar : ' ') + 'onclick=" CrearCamposUnidadCatastral(' + tipo + ',\'' + tabla + '\',\'' + idItem + '\',\'' + focus + '\',\'' + opcionInicial + '\')"  class="btn btn-sm btn-success fa fa-plus"></button> ' +
                            '<button' + (Consultas != 'False' ? deshabilitar : ' ') + 'onclick="EditarCamposUnidadCatastral(' + tipo + ',\'' + tabla + '\',\'' + idItem + '\',\'' + focus + '\')" class="btn btn-sm btn-success fa fa-edit"></button> ' +
                            '<button' + (Consultas != 'False' ? deshabilitar : ' ') + 'onclick="EliminarCamposUnidadCatastral(' + tipo + ',this, ' + idItem + ', \'item_lote_' + fieldset + '\')" class="btn btn-sm btn-success fa fa-trash"></button></td></tr>');

            $('#' + tabla).append('<tr name="validacion">' + columnasValidacion + '<td></td></tr>');

            $('#' + focus + '_' + idItem).focus().select();

            if (opcion === 'Carga') {
                $('#' + tabla + ' input').attr('disabled', 'disabled');
                $('#' + tabla + ' select').attr('disabled', 'disabled');
                $('#' + tabla + ' textarea').attr('disabled', 'disabled');
            }
        }
        function EditarCamposUnidadCatastral(tipo, tabla, value, focus) {
            $('#' + tabla + ' input').attr('disabled', 'disabled'); $('#' + tabla + ' select').attr('disabled', 'disabled');
            //console.log(tipo);
            if (tipo === 1) {
                $('#lineas_constructivas_txtpiso_' + value).removeAttr('disabled'); $('#lineas_constructivas_mes_' + value).removeAttr('disabled');
                $('#lineas_constructivas_ano_' + value).removeAttr('disabled'); $('#lineas_constructivas_material_' + value).removeAttr('disabled');
                $('#lineas_constructivas_estado_' + value).removeAttr('disabled'); $('#lineas_constructivas_muro_' + value).removeAttr('disabled');
                $('#lineas_constructivas_techo_' + value).removeAttr('disabled'); $('#lineas_constructivas_piso_' + value).removeAttr('disabled');
                $('#lineas_constructivas_puerta_' + value).removeAttr('disabled'); $('#lineas_constructivas_revest_' + value).removeAttr('disabled');
                $('#lineas_constructivas_bano_' + value).removeAttr('disabled'); $('#lineas_constructivas_electricas_' + value).removeAttr('disabled');
                $('#lineas_constructivas_verificada_' + value).removeAttr('disabled'); $('#lineas_constructivas_declarada_' + value).removeAttr('disabled');

            } else if (tipo === 2) {
                $('#' + tabla + ' select').prop('disabled', true).trigger("chosen:updated");
                $('#' + focus + '_capacidad_' + value).removeAttr('disabled');
                $('#' + focus + '_cantidad_' + value).removeAttr('disabled');
                $('#' + focus + '_mes_' + value).removeAttr('disabled');
                $('#' + focus + '_ano_' + value).removeAttr('disabled'); $('#' + focus + '_estadoconservacion_' + value).removeAttr('disabled');
                $('#' + focus + '_tipoinstalacion_' + value).prop('disabled', false).trigger("chosen:updated").trigger('chosen:activate');
            } else if (tipo === 3) {
                $('#' + focus + '_uso_' + value).removeAttr('disabled'); $('#' + focus + '_metro_' + value).removeAttr('disabled');
                $('#' + focus + '_fecha_' + value).removeAttr('disabled'); $('#' + focus + '_retiro_' + value).removeAttr('disabled');
                $('#' + focus + '_anuncio_' + value).removeAttr('disabled'); $('#' + focus + '_tipoanuncio_' + value).removeAttr('disabled');
            } else if (tipo === 7 || tipo === 8 || tipo === 9) {
                $('#' + focus + '_fecha_' + value).removeAttr('disabled');
                $('#' + focus + '_observacion_' + value).removeAttr('disabled');
            }

        }
        function EliminarCamposUnidadCatastral(tipo, element, index, item) {
            if (index !== '00001') {
                if (tipo === 1) { contLineasConstructivas--; }
                $(element).closest("tr").hide().attr('name', 'delete');
                var items = $('.' + item);
                ActualizarIndex(items);
            }
        }
        function ActualizarIndex(objeto) {
            var indice = 0;
            objeto.each(function (index, item) {
                item.value = LeftZero((indice + 1), 5);
                if ($(item).closest("tr").attr('name') !== 'delete') indice++;
            });
        }
        function CrearCombobox(Combobox, data) {
            $('#' + Combobox).find('option:not(:first)').remove();
            var items = '<option value="">Seleccione...</option>';
            $.each(data, function (i, item) {
                items += "<option value='" + item.Value + "'>" + item.Text + "</option>";
            });
            $('#' + Combobox).val('');
            $('#' + Combobox).html(items);
        }
        function CrearMascaraDecimal(input) {
            $('#' + input).maskWeight({
                integerDigits: 4,
                decimalDigits: 2,
                decimalMark: '.',
                initVal: '',//'000,000',
                digitsCount: 4,
                callBack: null,
            });

            if ($('#' + input).val() === '0.00') {
                $('#' + input).val('');
            }
        }
        function TabConstruccionPiso(event, element) {
            if ($('#' + element.id).val().length > 4) {
                //$('#' + element.id).val($('#' + element.id).val().substr(0, 3));
                return false;
            }
        }



        function ValidarUnidadCatastral() {
            RemoveValidacion();
            var cont = true;
            var feccont = true;
            if (!$('#Cuc').val()) {
                $('[data-valmsg-for="Cuc"]').html('Ingrese el Cuc').addClass('field-validation-valid has-error');
                cont = false;
            }
            if (!$('#CodigoCodInscripcionCatastral').val()) {
                $('[data-valmsg-for="CodigoCodInscripcionCatastral"]').html('Seleccione Código Inscripción Catastral').addClass('field-validation-valid has-error');
                cont = false;
            }

            if (!$('#CodigoInscripcionCatastral').val()) {
                $('[data-valmsg-for="CodigoInscripcionCatastral"]').html('Seleccione Inscripción Catastral').addClass('field-validation-valid has-error');
                cont = false;
            }

            if (!$('#CodigoTipoLlenado').val()) {
                $('[data-valmsg-for="CodigoTipoLlenado"]').html('Seleccione Tipo de Llenado').addClass('field-validation-valid has-error');
                cont = false;
            }

            if (!$('#CodigoFuenteInscripcionCatastral').val()) {
                $('[data-valmsg-for="CodigoFuenteInscripcionCatastral"]').html('Seleccione Fuente Inscripción Catastral').addClass('field-validation-valid has-error');
                cont = false;
            }

            if (!$('#CodigoCargaRegistral').val()) {
                $('[data-valmsg-for="CodigoCargaRegistral"]').html('Seleccione Carga Registral').addClass('field-validation-valid has-error');
                cont = false;
            }

            //if (!$('#FechaUltimaInspeccion').val()) {
            //    $('[data-valmsg-for="FechaUltimaInspeccion"]').html('Ingrese fecha de última inspección').addClass('field-validation-valid has-error');
            //    cont = false;
            //    feccont = false;
            //}
            if (!$('#FechaActualizacion').val()) {
                $('[data-valmsg-for="FechaActualizacion"]').html('Ingrese fecha de actualización').addClass('field-validation-valid has-error');
                cont = false;
                feccont = false;
            }

            if (feccont == true) {

                var f = new Date();

                if (validate_fechaMayorQue($("#FechaUltimaInspeccion").val(), f.getDate() + "/" + (f.getMonth() + 1) + "/" + f.getFullYear()) == 0) {
                    $('[data-valmsg-for="FechaUltimaInspeccion"]').html('La fecha última inspeccion no puede ser mayor que la fecha actualizacion o mayor al día de hoy').addClass('field-validation-valid has-error');
                    cont = false;
                }

                if (validate_fechaMayorQue($("#FechaActualizacion").val(), f.getDate() + "/" + (f.getMonth() + 1) + "/" + f.getFullYear()) == 0) {
                    $('[data-valmsg-for="FechaActualizacion"]').html('la fecha actualizacion no puede ser menor a la fecha de inspección o mayor al dia de hoy').addClass('field-validation-valid has-error');
                    cont = false;
                }

                if (validate_fechaMayorQue($("#FechaUltimaInspeccion").val(), $("#FechaActualizacion").val()) == 0) {
                    $('[data-valmsg-for="FechaActualizacion"]').html('la fecha actualizacion no puede ser menor a la fecha de inspección o mayor al dia de hoy').addClass('field-validation-valid has-error');
                    $('[data-valmsg-for="FechaUltimaInspeccion"]').html('La fecha última inspeccion no puede ser mayor que la fecha actualizacion o mayor al día de hoy').addClass('field-validation-valid has-error');
                    cont = false;
                }


            }





            return cont

        }
        function ValidarLineasConstructivas(IdItem, ValInicial) {
            RemoveValidacionLineasConstructivas(IdItem);
            var cont = true;
            var contError = 0;
            if (!$('#lineas_constructivas_txtpiso_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_txtpiso_' + IdItem + '"]').html('Ingrese <br> Piso').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }
            if (!$('#lineas_constructivas_mes_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_mes_' + IdItem + '"]').html('Ingrese <br> Mes').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_ano_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_ano_' + IdItem + '"]').html('Ingrese <br> Año').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_material_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_material_' + IdItem + '"]').html('Ingrese <br> Material').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_estado_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_estado_' + IdItem + '"]').html('Ingrese <br> Estado').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_muro_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_muro_' + IdItem + '"]').html('Ingrese <br> Muro').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_techo_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_techo_' + IdItem + '"]').html('Ingrese <br> Techo').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_piso_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_piso_' + IdItem + '"]').html('Ingrese <br> Piso').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_puerta_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_puerta_' + IdItem + '"]').html('Ingrese <br> Puerta').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_revest_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_revest_' + IdItem + '"]').html('Ingrese <br> Revest.').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_bano_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_bano_' + IdItem + '"]').html('Ingrese <br> Baño').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_electricas_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_electricas_' + IdItem + '"]').html('Ingrese <br> Instalaciones <br> Electicas').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#lineas_constructivas_verificada_' + IdItem).val()) {
                $('[data-valmsg-for="val_lineas_constructivas_verificada_' + IdItem + '"]').html('Ingrese <br> Área  <br> Verificada').toggleClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            //if (!$('#lineas_constructivas_declarada_' + IdItem).val()) {
            //    $('[data-valmsg-for="val_lineas_constructivas_declarada_' + IdItem + '"]').html('Ingrese <br> Área <br> Declarada').addClass('field-validation-valid has-error');
            //    cont = false;
            //    contError++;
            //}

            if (contError === 13 && ValInicial === 1) {
                cont = true;
                RemoveValidacionLineasConstructivas(IdItem);

            }

            return cont
        }
        function ValidarOtrasInstalaciones(IdItem, ValInicial) {
            RemoveValidacionOtrasInstalaciones(IdItem);
            var cont = true;
            var contError = 0;
            if (!$('#otras_instalaciones_tipoinstalacion_' + IdItem).val()) {
                $('[data-valmsg-for="val_otras_instalaciones_tipoinstalacion_' + IdItem + '"]').html('Ingrese Tipo <br> Instalación').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#otras_instalaciones_unidad_' + IdItem).val()) {
                $('[data-valmsg-for="val_otras_instalaciones_unidad_' + IdItem + '"]').html('Ingrese Unidad').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#otras_instalaciones_capacidad_' + IdItem).val()) {
                $('[data-valmsg-for="val_otras_instalaciones_capacidad_' + IdItem + '"]').html('Ingrese <br> Capacidad').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#otras_instalaciones_cantidad_' + IdItem).val()) {
                $('[data-valmsg-for="val_otras_instalaciones_cantidad_' + IdItem + '"]').html('Ingrese <br> Cantidad').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#otras_instalaciones_mes_' + IdItem).val()) {
                $('[data-valmsg-for="val_otras_instalaciones_mes_' + IdItem + '"]').html('Ingrese <br> Mes').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#otras_instalaciones_ano_' + IdItem).val()) {
                $('[data-valmsg-for="val_otras_instalaciones_ano_' + IdItem + '"]').html('Ingrese <br> Año').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#otras_instalaciones_estadoconservacion_' + IdItem).val()) {
                $('[data-valmsg-for="val_otras_instalaciones_estadoconservacion_' + IdItem + '"]').html('Ingrese <br> Estado').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }


            if (contError === 7 && ValInicial === 1) {
                cont = true;
                RemoveValidacionOtrasInstalaciones(IdItem);
            }

            return cont
        }
        function ValidarActividadEconomica(IdItem, ValInicial) {
            RemoveValidacionActividadEconomica(IdItem);
            var cont = true;
            var contError = 0;
            var Total = 7;


            if (!$('#actividad_economica_codigo_' + IdItem).val()) {
                $('[data-valmsg-for="val_actividad_economica_codigo_' + IdItem + '"]').html('Ingrese <br> Código').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#actividad_economica_uso_' + IdItem).val()) {
                $('[data-valmsg-for="val_actividad_economica_uso_' + IdItem + '"]').html('Ingrese el <br> Uso').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#actividad_economica_metro_' + IdItem).val()) {
                $('[data-valmsg-for="val_actividad_economica_metro_' + IdItem + '"]').html('Ingrese m2').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#actividad_economica_fecha_' + IdItem).val()) {
                $('[data-valmsg-for="val_actividad_economica_fecha_' + IdItem + '"]').html('Ingrese <br> Fecha').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#actividad_economica_retiro_' + IdItem).val()) {
                $('[data-valmsg-for="val_actividad_economica_retiro_' + IdItem + '"]').html('Ingrese <br> retiro').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#actividad_economica_anuncio_' + IdItem).val()) {
                $('[data-valmsg-for="val_actividad_economica_anuncio_' + IdItem + '"]').html('Ingrese <br> Anuncio').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
                Total = 6;
            } else {

                if (!$('#actividad_economica_tipoanuncio_' + IdItem).val() && $('#actividad_economica_anuncio_' + IdItem).val() === '010001') {
                    $('[data-valmsg-for="val_actividad_economica_tipoanuncio_' + IdItem + '"]').html('Ingrese <br> Tipo Anuncio').addClass('field-validation-valid has-error');
                    cont = false;
                    contError++;
                    Total = 7;
                }
            }


            if (contError === Total && ValInicial === 1) {
                cont = true;
                RemoveValidacionActividadEconomica(IdItem);
            }

            return cont
        }
        function ValidarObservaciones(IdItem, ValInicial, fieldset) {
            RemoveValidacionObservaciones(IdItem, fieldset);
            var cont = true;
            var contError = 0;

            if (!$('#' + fieldset + '_fecha_' + IdItem).val()) {
                $('[data-valmsg-for="val_' + fieldset + '_fecha_' + IdItem + '"]').html('Ingrese <br> Fecha').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }

            if (!$('#' + fieldset + '_observacion_' + IdItem).val()) {
                $('[data-valmsg-for="val_' + fieldset + '_observacion_' + IdItem + '"]').html('Ingrese <br> Observación').addClass('field-validation-valid has-error');
                cont = false;
                contError++;
            }


            if (contError === 2 && ValInicial === 1) {
                cont = true;
                RemoveValidacionObservaciones(IdItem, fieldset);
            }

            return cont
        }
        function RemoveValidacion() {
            $('[data-valmsg-for="Cuc"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="CodigoPredial"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="CodigoCodInscripcionCatastral"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="CodigoInscripcionCatastral"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="CodigoTipoLlenado"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="CodigoFuenteInscripcionCatastral"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="CodigoCargaRegistral"]').html('').addClass('field-validation-valid has-error');
            $('[data-valmsg-for="FechaUltimaInspeccion"]').html('').addClass('field-validation-valid has-error');
            $('[data-valmsg-for="FechaActualizacion"]').html('').addClass('field-validation-valid has-error');

        }
        function RemoveValidacionLineasConstructivas(IdItem) {
            $('[data-valmsg-for="val_lineas_constructivas_txtpiso_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_mes_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_ano_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_material_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_estado_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_muro_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_techo_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_piso_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_puerta_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_revest_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_bano_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_electricas_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_verificada_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_lineas_constructivas_declarada_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
        }
        function RemoveValidacionOtrasInstalaciones(IdItem) {
            $('[data-valmsg-for="val_otras_instalaciones_tipoinstalacion_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_otras_instalaciones_unidad_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_otras_instalaciones_capacidad_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_otras_instalaciones_cantidad_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_otras_instalaciones_mes_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_otras_instalaciones_ano_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_otras_instalaciones_estadoconservacion_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
        }
        function RemoveValidacionActividadEconomica(IdItem) {
            $('[data-valmsg-for="val_actividad_economica_codigo_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_actividad_economica_uso_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_actividad_economica_metro_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_actividad_economica_fecha_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_actividad_economica_retiro_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_actividad_economica_anuncio_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_actividad_economica_tipoanuncio_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
        }
        function RemoveValidacionObservaciones(IdItem, fieldset) {
            $('[data-valmsg-for="val_' + fieldset + '_fecha_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');
            $('[data-valmsg-for="val_' + fieldset + '_observacion_' + IdItem + '"]').html('').removeClass('field-validation-valid has-error');

        }

        $('#GrabarUnidadCatastral').click(function () {
           // $('#GrabarUnidadCatastral').attr('disabled', 'disabled');
            var mensaje = "¿Esta seguro de grabar los cambios?";
            cont = ValidarUnidadCatastral();
            console.log('TEST 1:', cont);
            if (cont == true) {

                var UnidadCatastral = {

                    CodigoUnidadCatastral: $("#CodigoUnidadCatastral").val(),
                    CodigoDistrito: $("#CodigoDistrito").val(),
                    CodigoSector: $("#CodigoSector").val(),
                    CodigoManzana: $("#CodigoManzana").val(),
                    CodigoLote: $("#CodigoLote").val(),
                    CodigoEdificacion: $("#CodigoEdificacion").val(),
                    CodigoEntrada: $("#CodigoEntrada").val(),
                    CodigoPiso: $("#CodigoPiso").val(),
                    CodigoUnidad: $("#CodigoUnidad").val(),
                    Cuc: $("#Cuc").val(),
                    CodigoPredial: $("#CodigoPredial").val(),
                    CodigoInscripcionCatastral: $("#CodigoInscripcionCatastral").val(),
                    CodigoFuenteInscripcionCatastral: $("#CodigoFuenteInscripcionCatastral").val(),
                    Denominacion: $("#Denominacion").val(),
                    CodigoClasificacionPredio: $("#CodigoClasificacionPredio").val(),
                    CodigoCargaRegistral: $("#CodigoCargaRegistral").val(),
                    CodigoEstadoConstruccion: $("#CodigoEstadoConstruccion").val(),
                    AvanceConstruccion: $("#AvanceConstruccion").val(),
                    CodgiUsoPredio: $("#CodgiUsoPredio").val(),
                    CodigoDepartamentoPredio: $("#CodigoDepartamentoPredio").val(),
                    FechaUltimaInspeccion: $("#FechaUltimaInspeccion").val(),
                    FechaActualizacion: $("#FechaActualizacion").val(),
                    CodigoTipoLlenado: $('#CodigoTipoLlenado').val(),

                    AreaTerrenoVerificada: $("#AreaTerrenoVerificada").val(),
                    AreaTerrenoComun: $("#AreaTerrenoComun").val(),
                    AreaTerrenoTotal: $("#AreaTerrenoTotal").val(),
                    AreaConstruidaTotalDeclarada: $("#AreaConstruidaTotalDeclarada").val(),
                    AreaOcupada: $("#AreaOcupada").val(),
                    AreaComunesOficial: $("#AreaComunesOficial").val(),

                    AreaTerrenoDeclarada: $("#AreaTerrenoDeclarada").val(),
                    AreaTerrenoSubValuada: $("#AreaTerrenoSubValuada").val(),
                    AreaTerrenoSobreValuada: $("#AreaTerrenoSobreValuada").val(),
                    AreaConstruidaSubValuada: $("#AreaConstruidaSubValuada").val(),
                    AreaConstruidaSobreValuada: $("#AreaConstruidaSobreValuada").val(),
                    TipoLlenado: $("#TipoLlenado").val(),
                    //CodigoTipoLLenado: $("#TipoLlenado").val(),
                    //FlgIndependiente: $("#Independizacion").val(),
                    FlgIndependiente: $('input[name=POROFCOM1]:checked').val(),
                    Estatico: Estatico,


                    Estado: 2,
                };
              //  var ListaLinderos = GrabarLoteLinderos();
                var ListaLineasContruc = LineasConstructivas();
                if (ListaLineasContruc.length === 1) {
                    $.each(ListaLineasContruc, function (i, item) {
                        if (item.Verificada === "" && item.Declarada === "") {
                            ListaLineasContruc = null;
                        }
                    });
                }

                var ListaOtrasInstalaciones = OtrasInstalaciones();
                if (ListaOtrasInstalaciones.length === 1) {
                    $.each(ListaOtrasInstalaciones, function (i, item) {
                        if (item.CodigoTipoInstalacion === "") {
                            ListaOtrasInstalaciones = null;
                        }
                    });
                }

                var ListaActividadEconomica = ActividadEconomica();
                if (ListaActividadEconomica.length === 1) {
                    $.each(ListaActividadEconomica, function (i, item) {
                        if (item.CodigoUso === "") {
                            ListaActividadEconomica = null;
                        }
                    });
                }

                var ListaObservacionesGeneral = Observaciones('obs_general', 'ObservacionGeneral');
                if (ListaObservacionesGeneral.length === 1) {
                    $.each(ListaObservacionesGeneral, function (i, item) {
                        if (item.Observacion === "") {
                            ListaObservacionesGeneral = null;
                        }
                    });
                }

                var ListaObservacionesSunarp = Observaciones('obs_sunarp', 'ObservacionSunarp');
                if (ListaObservacionesSunarp.length === 1) {
                    $.each(ListaObservacionesSunarp, function (i, item) {
                        if (item.Observacion === "") {
                            ListaObservacionesSunarp = null;
                        }
                    });
                }

                var ListaObservacionesCarga = Observaciones('obs_carga', 'ObservacionCarga');
                if (ListaObservacionesCarga.length === 1) {
                    $.each(ListaObservacionesCarga, function (i, item) {
                        if (item.Observacion === "") {
                            ListaObservacionesCarga = null;
                        }
                    });
                }

                console.log('valor de lineas contructivas antes de guardar');
                console.log(ListaLineasContruc);
                console.log(ListaOtrasInstalaciones);
                console.log(ListaActividadEconomica);
                console.log(ListaObservacionesGeneral);
                console.log(ListaObservacionesSunarp);
                console.log(ListaObservacionesCarga);
                console.log('TEST 2:', ListaLineasContruc);
                if (ListaLineasContruc !== false && ListaOtrasInstalaciones !== false && ListaActividadEconomica !== false
                    && ListaObservacionesGeneral !== false && ListaObservacionesSunarp !== false && ListaObservacionesCarga !== false
                  //  && ListaLinderos !== false
                    ) {
                    $.post(ROOT + "Cotitularidad/BuscarUnidadSolicitud", { CodigoUnico: $('#CodigoUnidadCatastral').val() }, function (response) {
                        if (response.Lotes.CodigoNumeroSolicitud != null) {
                            var solicitudes = "";
                            console.log(response)
                            solicitudes = response.Lotes.CodigoNumeroSolicitud;
                            mensaje = "¿Esta seguro de grabar los cambios se han encontrado la(s) siguiente(s) solicitud(es) abierta(s) " + solicitudes + "? Se recomienda realizar las coordinaciones correspondientes.";
                        }
                        bootbox.confirm({
                            title: "Mensaje del Sistema", message: mensaje,
                            buttons: { confirm: { label: '<i class="fa fa-check"></i> Grabar ', className: "btn btn-success" }, cancel: { label: '<i class="fa fa-times"></i> Cancelar' } },
                            callback: function (result) {
                                if (result) {
                                    $.ajax({
                                        url: "@Url.Content("~/Cotitularidad/RegistrarUnidadCatastral")",
                                        type: "POST",
                                        data:
                                            {
                                                UnidadCatastral: UnidadCatastral, ListaLineasContruc: ListaLineasContruc, ListaOtrasInstalaciones: ListaOtrasInstalaciones,
                                                ListaActividadEconomica: ListaActividadEconomica, ListaObservacionesGeneral: ListaObservacionesGeneral, ListaObservacionesSunarp: ListaObservacionesSunarp,
                                                ListaObservacionesCarga: ListaObservacionesCarga//, ListaLinderos: ListaLinderos
                                            },
                                        dataType: "json",
                                        success: function (response) {
                                            if (response.success) {
                                                RecontruirTablas($("#CodigoUnidadCatastral").val(), Estatico);
                                                //LimpiarDatos();
                                                var mensaje = "Registro grabado correctamente";
                                                toastr.success(mensaje, "Mensaje del Sistema", { "progressBar": true });
                                                buscarUnidad();
                                                $('#GrabarUnidadCatastral').removeAttr('disabled');
                                                /*if ($("#CodigoTipoLlenado").val() === 'A1') {
                                                    bootbox.alert("El Número calidad de Verificación registrado es: " + response.CodigoValidaion);
                                                }*/
                                            } else {
                                                toastr.error(response.responseText, "Mensaje del Sistema", { "progressBar": true });
                                            }
                                        },
                                        complete: function () {
                                            $('#btnSubmit').removeAttr('disabled');
                                        }

                                    });
                                }
                            }
                        });
                    });

                } else {
                    toastr.error("Revisar, falta completar Informacion", "No se pudo grabar.", { "progressBar": true });
                    $('#GrabarUnidadCatastral').removeAttr('disabled');
                }



            } else {
                toastr.error("Revisar, falta completar Informacion", "No se pudo grabar.", { "progressBar": true });
                $('#GrabarUnidadCatastral').removeAttr('disabled');
            }
        });
        $("input[name=FlgIndependiente]").click(function () {
            $("#Independizacion").val($(this).val());
        });

        function RecontruirTablas(Coduni, tempEstatico) {
            var enlace = ROOT + 'Cotitularidad/RecuperarUnidadCatastral';
            if (tempEstatico) {
                enlace = ROOT + 'Cotitularidad/RecuperarUnidadCatastralEST';
            }
            $.post(enlace, {
                CodUniCat: Coduni,
                aniosol: null,
                numsol: $("#FiltrarNumeroSolicitud").val(),
                tiposol: $("#FiltrarCodigoTipoSolicitud").val(),
                docsol: $("#FiltrarCodigoTipoDocumento").val(),
                Estatico: Estatico,
                accion: ""
            }, function (response) {
                //console.log(response)
                InicializarValoresTab3();
                if (response.success == true) {
                    //tablaUnidadCatastral.$('tr.selected').removeClass('selected');
                    //row.addClass('selected');
                    console.log(response.resultado);
                    RecuperarUnidadCatastral(response.resultado);
                    RecuperandoLineasConstructivas(response.ListLineasConstructivas);
                    RecuperandoOtrasInstalaciones(response.ListOtrasInstalaciones);
                    RecuperandoActividadEconomica(response.ListActividadEconomica);
                    RecuperandoObservacion(response.ListObservacionGeneral, 'obs_general', 'ObservacionGeneral', 7)
                    RecuperandoObservacion(response.ListObservacionSunarp, 'obs_sunarp', 'ObservacionSunarp', 8);
                    RecuperandoObservacion(response.ListObservacionCarga, 'obs_carga', 'ObservacionCarga', 9);
                    tablaMunicipalAsignado.ajax.reload();
                    tablaMunicipalAsignado2.ajax.reload();
                    tablaUnidadTitular.ajax.reload(function (json) {
                        //console.log("json");
                        //console.log(json);
                        //console.log(json.data.length);
                        if (json.data.length > 0) {
                            $("#tdCondicionPropiedad").text(json.data[0].CondicionPropiedad);
                        } else {
                            $("#tdCondicionPropiedad").text("");
                        }
                    });
                    tablaUnidadRRPP.ajax.reload();
                    tablaUnidadExpedienteDoc.ajax.reload();
                    tablaUnidadLicenciaFunc.ajax.reload();
                    tablaUnidadObrasPrivadas.ajax.reload();
                    //CargarImagen();
                    SumarAreasConstructivas();
                    RecuperarLinderos();
                    //$('#GenFicha').removeAttr('disabled');
                    $('.chosen-seleccionar').trigger('change');
                } else {
                    //console.log('b');
                }

                //$.LoadingOverlay("hide");
                //$('#TabUC').show();
            });
        }
        function LineasConstructivas() {
            var datosParseados = [];
            var ValBool = [];
            $('#LineasContructivas tr').each(function (index, item) {
                if (index !== 0 && $(item).closest("tr").attr('name') !== 'validacion' && $(item).closest("tr").attr('name') !== 'delete') {
                    $(item).children("td").each(function () {
                        var input = $(this).children("input");
                        if (input.hasClass("txtpiso_lineas_constructivas")) {
                            var IdInput = $(input).attr("id");
                            var indicetext = IdInput.substr(IdInput.length - 5, 5);
                            cont = ValidarLineasConstructivas(indicetext, 1);
                            ValBool.push(cont);
                        }
                    });
                }
                if (cont == true) {
                    var del = '0';
                    if (index === 0) return true;
                    if ($(item).closest("tr").attr('name') === 'delete') del = '1';
                    if ($(item).closest("tr").attr('name') !== 'validacion') {
                        var ind, txtpiso, mes, ano, material, estado, muro, techo, piso, puerta, revest, bano, electricas, verificada, declarada;
                        $(item).children("td").each(function () {
                            var input = $(this).children("input");
                            var select = $(this).children("select");
                            if (input.hasClass("txtpiso_lineas_constructivas")) { txtpiso = input.val(); } else if (select.hasClass("mes_lineas_constructivas")) { mes = select.val(); }
                            else if (input.hasClass("ano_lineas_constructivas")) { ano = input.val(); } else if (select.hasClass("material_lineas_constructivas")) { material = select.val(); }
                            else if (select.hasClass("estado_lineas_constructivas")) { estado = select.val(); } else if (input.hasClass("muro_lineas_constructivas")) { muro = input.val(); }
                            else if (input.hasClass("techo_lineas_constructivas")) { techo = input.val(); } else if (input.hasClass("piso_lineas_constructivas")) { piso = input.val(); }
                            else if (input.hasClass("puerta_lineas_constructivas")) { puerta = input.val(); } else if (input.hasClass("revest_lineas_constructivas")) { revest = input.val(); }
                            else if (input.hasClass("bano_lineas_constructivas")) { bano = input.val(); } else if (input.hasClass("electricas_lineas_constructivas")) { electricas = input.val(); }
                            else if (input.hasClass("verificada_lineas_constructivas")) { verificada = input.val(); } else if (input.hasClass("declarada_lineas_constructivas")) { declarada = input.val(); }
                            else if (input.hasClass("id_lineas_constructivas")) { ind = input.val(); }
                        });
                        if (!(!piso && !mes && !ano && !material && !estado && !muro && !techo && !piso && !puerta && !revest && !bano && !electricas && !verificada && !declarada)) {
                            //console.log('FIELDS', txtpiso, mes, ano, material, estado, muro, techo, piso, puerta, revest, bano, electricas, verificada, declarada);
                            datosParseados.push({
                                "CodigoCorrelativo": ind, "Eliminado": del, "txtPiso": txtpiso, "Mes": mes, "Ano": ano, "Material": material, "EstadoConst": estado,
                                "Muro": muro, "Techo": techo, "Piso": piso, "Puerta": puerta, "Revest": revest, "Bano": bano, "Electricas": electricas, "Verificada": verificada, "Declarada": declarada,
                                "CodigoUnidadCatastral": $('#CodigoUnidadCatastral').val(), Estatico: Estatico
                            });
                        }
                    }
                }

            });
            for (i = 0; i < ValBool.length; i++) {
                if (ValBool[i] === false) {
                    return false;
                }
            }
            return datosParseados;
        }
        function OtrasInstalaciones() {
            var datosParseados = [];
            var ValBool = [];

            $('#OtasInstalaciones tr').each(function (index, item) {

                if (index !== 0 && $(item).closest("tr").attr('name') !== 'validacion' && $(item).closest("tr").attr('name') !== 'delete') {

                    $(item).children("td").each(function () {
                        //console.log('1');
                        var input = $(this).children("input");
                        if (input.hasClass("capacidad_otras_instalaciones")) {
                            //console.log('2');console.log(input);
                            var IdInput = $(input).attr("id");
                            var indicetext = IdInput.substr(IdInput.length - 5, 5);
                            //console.log(indicetext);
                            cont = ValidarOtrasInstalaciones(indicetext, 1);

                            ValBool.push(cont);
                        }

                    });
                }


                if (cont == true) {
                    var del = '0';
                    if (index === 0) return true;
                    if ($(item).closest("tr").attr('name') === 'delete') del = '1';
                    if ($(item).closest("tr").attr('name') !== 'validacion') {
                        var ind, CodigoTipoInstalacion, CodigoUnidad, Capacidad, Cantidad, mes, ano, EstadoConserva;
                        $(item).children("td").each(function () {
                            var input = $(this).children("input");
                            var select = $(this).children("select");
                            if (select.hasClass("tipoinstalacion_otras_instalaciones")) { num1 = select.val().indexOf("_"); CodigoTipoInstalacion = select.val().substring(0, num1); }
                            else if (input.hasClass("unidad_otras_instalaciones")) { CodigoUnidad = input.val(); }
                            else if (input.hasClass("capacidad_otras_instalaciones")) { Capacidad = input.val(); } else if (input.hasClass("cantidad_otras_instalaciones")) { Cantidad = input.val(); }
                            else if (select.hasClass("mes_otras_instalaciones")) { mes = select.val(); } else if (input.hasClass("ano_otras_instalaciones")) { ano = input.val(); }
                            else if (select.hasClass("estadoconservacion_otras_instalaciones")) { EstadoConserva = select.val(); } else if (input.hasClass("id_otras_instalaciones")) { ind = input.val(); }
                        });
                        //if (!piso || !mes || !ano || !material || !estado || !muro || !techo || !piso || !puerta || !revest || !bano || !electricas || !verificada || !declarada) {
                        //    validado++;
                        //}

                        if (!(!CodigoTipoInstalacion && !CodigoUnidad && !Capacidad && !Cantidad && !mes && !ano && !EstadoConserva)) {
                            //console.log('FIELDS', CodigoTipoInstalacion, CodigoUnidad, Capacidad, Cantidad, mes, ano, EstadoConserva);
                            datosParseados.push({
                                "CodigoCorrelativo": ind, "Eliminado": del, "CodigoTipoInstalacion": CodigoTipoInstalacion, "CodigoUnidad": CodigoUnidad, "Capacidad": Capacidad, "Cantidad": Cantidad, "Mes": mes,
                                "Ano": ano, "EstadoConserva": EstadoConserva,
                                "CodigoUnidadCatastral": $('#CodigoUnidadCatastral').val(), Estatico: Estatico
                            });
                        }
                    }
                }
            });

            for (i = 0; i < ValBool.length; i++) {
                if (ValBool[i] === false) {
                    return false;
                }
            }

            return datosParseados;
        }
        function ActividadEconomica() {
            var datosParseados = [];
            var ValBool = [];

            $('#ActividadEconomica tr').each(function (index, item) {

                if (index !== 0 && $(item).closest("tr").attr('name') !== 'validacion' && $(item).closest("tr").attr('name') !== 'delete') {

                    $(item).children("td").each(function () {
                        console.log('1');
                        var input = $(this).children("input");
                        if (input.hasClass("metro_actividad_economica")) {
                            var IdInput = $(input).attr("id");
                            var indicetext = IdInput.substr(IdInput.length - 5, 5);
                            cont = ValidarActividadEconomica(indicetext, 1);
                            ValBool.push(cont);
                        }

                    });
                }


                if (cont == true) {
                    var del = '0';
                    if (index === 0) return true;
                    if ($(item).closest("tr").attr('name') === 'delete') del = '1';
                    if ($(item).closest("tr").attr('name') !== 'validacion') {
                        var ind, CodigoUso, Metro, Fecha, Retiro, Anuncio, TipoAnuncio;
                        $(item).children("td").each(function () {
                            var input = $(this).children("input");
                            var select = $(this).children("select");
                            if (select.hasClass("codigo_actividad_economica")) { CodigoUso = select.val(); } else if (input.hasClass("metro_actividad_economica")) { Metro = input.val(); }
                            else if (input.hasClass("fecha_actividad_economica")) { Fecha = input.val(); } else if (select.hasClass("retiro_actividad_economica")) { Retiro = select.val(); }
                            else if (select.hasClass("anuncio_actividad_economica")) { Anuncio = select.val(); } else if (select.hasClass("tipoanuncio_actividad_economica")) { TipoAnuncio = select.val(); }
                            else if (input.hasClass("id_actividad_economica")) { ind = input.val(); }
                        });
                        //if (!piso || !mes || !ano || !material || !estado || !muro || !techo || !piso || !puerta || !revest || !bano || !electricas || !verificada || !declarada) {
                        //    validado++;
                        //}

                        if (!(!CodigoUso && !Metro && !Fecha && !Retiro && !Anuncio)) {

                            if (Anuncio === '010001') {
                                if (Anuncio !== '') {
                                    //console.log('FIELDS', CodigoUso, Metro, Fecha, Retiro, Anuncio, TipoAnuncio);
                                    datosParseados.push({
                                        "CodigoCorrelativo": ind, "Eliminado": del, "CodigoUso": CodigoUso, "Metro": Metro, "Fecha": Fecha, "Retiro": Retiro, "Anuncio": Anuncio,
                                        "TipoAnuncio": TipoAnuncio,
                                        "CodigoUnidadCatastral": $('#CodigoUnidadCatastral').val(), Estatico: Estatico
                                    });
                                }
                            } else {
                                //console.log('FIELDS', CodigoUso, Metro, Fecha, Retiro, Anuncio, TipoAnuncio);
                                datosParseados.push({
                                    "CodigoCorrelativo": ind, "Eliminado": del, "CodigoUso": CodigoUso, "Metro": Metro, "Fecha": Fecha, "Retiro": Retiro, "Anuncio": Anuncio,
                                    "TipoAnuncio": TipoAnuncio,
                                    "CodigoUnidadCatastral": $('#CodigoUnidadCatastral').val(), Estatico: Estatico
                                });
                            }

                        }
                    }
                }
            });

            for (i = 0; i < ValBool.length; i++) {
                if (ValBool[i] === false) {
                    return false;
                }
            }

            return datosParseados;
        }
        function Observaciones(fieldset, tabla) {
            var datosParseados = [];
            var ValBool = [];

            $('#' + tabla + ' tr').each(function (index, item) {

                if (index !== 0 && $(item).closest("tr").attr('name') !== 'validacion' && $(item).closest("tr").attr('name') !== 'delete') {

                    $(item).children("td").each(function () {
                        console.log('1');
                        var input = $(this).children("input");
                        if (input.hasClass("fecha_" + fieldset)) {
                            var IdInput = $(input).attr("id");
                            var indicetext = IdInput.substr(IdInput.length - 5, 5);
                            cont = ValidarObservaciones(indicetext, 1, fieldset);
                            ValBool.push(cont);
                        }

                    });
                }


                if (cont == true) {
                    var del = '0';
                    if (index === 0) return true;
                    if ($(item).closest("tr").attr('name') === 'delete') del = '1';
                    if ($(item).closest("tr").attr('name') !== 'validacion') {
                        var ind, Fecha, Observacion, TipoObservacion;
                        $(item).children("td").each(function () {
                            var input = $(this).children("input");
                            var textarea = $(this).children("textarea");
                            if (input.hasClass("fecha_" + fieldset)) { Fecha = input.val(); } else if (textarea.hasClass("observacion_" + fieldset)) { Observacion = textarea.val(); }
                            else if (input.hasClass("id_" + fieldset)) { ind = input.val(); }
                        });
                        //if (!piso || !mes || !ano || !material || !estado || !muro || !techo || !piso || !puerta || !revest || !bano || !electricas || !verificada || !declarada) {
                        //    validado++;
                        //}

                        switch (fieldset) {
                            case 'obs_general': TipoObservacion = '010001'; break;
                            case 'obs_sunarp': TipoObservacion = '010002'; break;
                            case 'obs_carga': TipoObservacion = '010003'; break;
                        }

                        if (!(!Fecha && !Observacion)) {
                            console.log('FIELDS', Fecha, Observacion);
                            datosParseados.push({
                                "CodigoCorrelativo": ind, "Eliminado": del, "Fecha": Fecha, "Observacion": Observacion, "TipoObservacion": TipoObservacion,
                                "CodigoUnidadCatastral": $('#CodigoUnidadCatastral').val(), Estatico: Estatico
                            });
                        }
                    }
                }
            });

            for (i = 0; i < ValBool.length; i++) {
                if (ValBool[i] === false) {
                    return false;
                }
            }

            return datosParseados;
        }
        function InicializarValores() {
            InicializarValoresTab1();
            InicializarValoresTab3();
        }

        function InicializarValoresTab1() {
            $('#CodigoUnidadCatastral').val('');
            $('#CodigoDistrito').val('');
            $('#CodigoSector').val('');
            $('#CodigoManzana').val('');
            $('#CodigoLote').val('');
            $('#CodigoEdificacion').val('');
            $('#CodigoEntrada').val('');
            $('#CodigoPiso').val('');
            $('#CodigoUnidad').val('');
            tablaMunicipalAsignado.ajax.reload();
            tablaMunicipalAsignado2.ajax.reload();
            //CargarImagen();
            $("#Cuc").val('');
            $("#CodigoInscripcionCatastral").val('');
            $("#CodigoCodInscripcionCatastral").val('');
            $("#CodigoFuenteInscripcionCatastral").val('');
            $("#Denominacion").val('');
            $("#CodigoEstadoConstruccion").val('');
            $("#CodigoClasificacionPredio").val('');
            $("#CodigoDepartamentoPredio").val('');
            $("#CodigoCargaRegistral").val('');
            $("#CodgiUsoPredio").val('');
            $("#CodigoPredial").val('');
            $("#AvanceConstruccion").val('');
            $("#AreaComunesCalculado").val('');


        }
        function InicializarValoresTab3() {
            $('#OtasInstalaciones tr').each(function (index, item) {
                if (index !== 0) {
                    $(item).closest("tr").remove();
                }
            });

            $('#LineasContructivas tr').each(function (index, item) {
                if (index !== 0) {
                    $(item).closest("tr").remove();
                }
            });

            $('#ActividadEconomica tr').each(function (index, item) {
                if (index !== 0) {
                    $(item).closest("tr").remove();
                }
            });

            $('#ObservacionGeneral tr').each(function (index, item) {
                if (index !== 0) {
                    $(item).closest("tr").remove();
                }
            });

            $('#ObservacionSunarp tr').each(function (index, item) {
                if (index !== 0) {
                    $(item).closest("tr").remove();
                }
            });

            $('#ObservacionCarga tr').each(function (index, item) {
                if (index !== 0) {
                    $(item).closest("tr").remove();
                }
            });


            contLineasConstructivas = contIdLineasConstructivas = contOtrasInstalaciones = contIdOtrasInstalaciones = contActividadEconomica = contIdActividadEconomica = contLoteDocumRRPP =
            contIdLoteDocumRRPP = contLoteExpediente = contLoteIdExpediente = contLoteAuto = contIdLoteAuto = contObservacionGeneral = contIdObservacionGeneral =
            contObservacionSunarp = contIdObservacionSunarp = contObservacionCarga = contIdObservacionCarga = 0;

            CrearCamposUnidadCatastral(1, 'LineasContructivas', '00000', 'lineas_constructivas', 'Nuevo');
            CrearCamposUnidadCatastral(2, 'OtasInstalaciones', '00000', 'otras_instalaciones', 'Nuevo');
            CrearCamposUnidadCatastral(3, 'ActividadEconomica', '00000', 'actividad_economica', 'Nuevo');

            CrearCamposUnidadCatastral(7, 'ObservacionGeneral', '00000', 'obs_general', 'Nuevo');
            CrearCamposUnidadCatastral(8, 'ObservacionSunarp', '00000', 'obs_sunarp', 'Nuevo');
            CrearCamposUnidadCatastral(9, 'ObservacionCarga', '00000', 'obs_carga', 'Nuevo');

            if (Consultas != 'False') {
                $('#LineasContructivas input').attr('disabled', 'disabled');
                $('#LineasContructivas select').attr('disabled', 'disabled');
                $('#LineasContructivas textarea').attr('disabled', 'disabled');

                $('#OtasInstalaciones input').attr('disabled', 'disabled');
                $('#OtasInstalaciones select').attr('disabled', 'disabled');
                $('#OtasInstalaciones textarea').attr('disabled', 'disabled');

                $('#ActividadEconomica input').attr('disabled', 'disabled');
                $('#ActividadEconomica select').attr('disabled', 'disabled');
                $('#ActividadEconomica textarea').attr('disabled', 'disabled');

                $('#ObservacionGeneral input').attr('disabled', 'disabled');
                $('#ObservacionGeneral select').attr('disabled', 'disabled');
                $('#ObservacionGeneral textarea').attr('disabled', 'disabled');

                $('#ObservacionSunarp input').attr('disabled', 'disabled');
                $('#ObservacionSunarp select').attr('disabled', 'disabled');
                $('#ObservacionSunarp textarea').attr('disabled', 'disabled');

                $('#ObservacionCarga input').attr('disabled', 'disabled');
                $('#ObservacionCarga select').attr('disabled', 'disabled');
                $('#ObservacionCarga textarea').attr('disabled', 'disabled');


                $('.chosen-seleccionar').trigger("chosen:updated");
            }

        }

        function CargarImagen() {
            var urlAction = "@Url.Action("CargarImagen")?CodigoUnidadCatastral=" + $("#CodigoUnidadCatastral").val() + "&Estatico=" + '@Model.Estatico';
            $.post(urlAction, function (response) {
                if (response === 'false') {
                    imagen = '';
                }
                $("#imglote").attr("src", response.imagen);
            });

        }
        function SumarAreasConstructivas() {
            var SumaConstruidaVerificada = 0;
            var SumaConstruidaDeclarada = 0;
            var SumaAreaTotal = 0
            $('#LineasContructivas tr').each(function (index, item) {
                if (index !== 0) {
                    if ($(item).closest("tr").attr('name') !== 'delete' && $(item).closest("tr").attr('name') !== 'validacion') {
                        $(item).children("td").each(function () {
                            var input = $(this).children("input");
                            var select = $(this).children("select");
                            if (input.hasClass("verificada_lineas_constructivas")) { SumaConstruidaVerificada = parseFloat(SumaConstruidaVerificada) + parseFloat(input.val()); }
                            else if (input.hasClass("declarada_lineas_constructivas")) { SumaConstruidaDeclarada = parseFloat(SumaConstruidaDeclarada) + parseFloat(input.val()); }
                        });
                    }
                }
            });

            $('#AreaConstruidaTotalVerificada').val(SumaConstruidaVerificada);
            $('#AreaConstruidaTotalDeclarada').val(SumaConstruidaDeclarada);

            $('#txtTotalAreaVerificada').val(SumaConstruidaVerificada);
            $('#txtTotalAreaDeclarada').val(SumaConstruidaDeclarada);



            if (SumaConstruidaVerificada > SumaConstruidaDeclarada) {
                TotalSubvaluada = parseFloat(SumaConstruidaVerificada) - parseFloat(SumaConstruidaDeclarada);
                $('#AreaConstruidaSubValuada').val(TotalSubvaluada);
            } else {
                $('#AreaConstruidaSubValuada').val('');
            }

            if (SumaConstruidaVerificada < SumaConstruidaDeclarada) {
                TotalSubvaluada = parseFloat(SumaConstruidaDeclarada) - parseFloat(SumaConstruidaVerificada);
                $('#AreaConstruidaSobreValuada').val(TotalSubvaluada);
            } else {
                $('#AreaConstruidaSobreValuada').val('');
            }

            //Calculo del Area Terreno Total
            $('#AreaTerrenoTotal').val(parseFloat($('#AreaTerrenoVerificada').val()) + parseFloat($('#AreaTerrenoComun').val()));

            ////Calculo del AreaTerreno Subvaluada
            //if (parseFloat($('#AreaTerrenoTotal').val()) > parseFloat($('#AreaTerrenoDeclarada').val())) {
            //    $('#AreaTerrenoSubValuada').val(parseFloat($('#AreaTerrenoTotal').val()) - parseFloat($('#AreaTerrenoDeclarada').val()));
            //    $('#AreaTerrenoSubValuada').addClass('numeroAreaTerrenoSubValuada');
            //    $('.numeroAreaTerrenoSubValuada').number(true, 4, '.', '');
            //} else {
            //    $('#AreaTerrenoSubValuada').removeClass('numeroAreaTerrenoSubValuada');
            //    $('#AreaTerrenoSubValuada').val('');
            //}

            //Calculo del Area Terreno SobreValuada
            console.log('LOG', $('#AreaTerrenoDeclarada').val(), $('#AreaTerrenoTotal').val());
            if (parseFloat($('#AreaTerrenoDeclarada').val()) > parseFloat($('#AreaTerrenoTotal').val())) {
                $('#AreaTerrenoSobreValuada').val((parseFloat($('#AreaTerrenoDeclarada').val()) - parseFloat($('#AreaTerrenoTotal').val())).toFixed(4));
                //$('#AreaTerrenoSobreValuada').addClass('numeroAreaTerrenoSobreValuada');
                //$('.numeroAreaTerrenoSobreValuada').number(true, 4, '.', '');
                $('#AreaTerrenoSubValuada').val('0.0000');
            } else {
                $('#AreaTerrenoSubValuada').val((parseFloat($('#AreaTerrenoTotal').val()) - parseFloat($('#AreaTerrenoDeclarada').val())).toFixed(4));
                $('#AreaTerrenoSobreValuada').val('0.0000');
                //$('#AreaTerrenoSobreValuada').removeClass('numeroAreaTerrenoSobreValuada');
                //$('#AreaTerrenoSobreValuada').val('');
            }


        }

    </script>

}










